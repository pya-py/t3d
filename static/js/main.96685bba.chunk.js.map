{"version":3,"sources":["services/configs/client.js","services/configs/server.js","services/configs/status.js","services/configs/browser.js","services/configs/gamesetting.js","tables/scores/SingleScoreCard.jsx","tables/scores/AllScores.jsx","services/http/httpService.js","services/http/userServices.js","services/http/gameServices.js","tables/scores/ScoresTable.jsx","informations/GameGuide.jsx","informations/ContactUs.jsx","common/LoadingBar.jsx","users/ModalSignIn.jsx","users/SignUp.jsx","common/NavigationBar.jsx","sidebars/SignInSideBar.jsx","services/http/noticeServices.js","sidebars/NoticeSideBar.jsx","sidebars/no-avatar.png","sidebars/OnlineStatistics.jsx","dashboard/actions/index.js","chat/GameChatRoom.jsx","sidebars/PlayerInfoSideBar.jsx","profile/ProfilePanel.jsx","services/ws/GlobalSocketManager.jsx","common/MainLayout.jsx","tables/rankings/SinglePlayerCard.jsx","tables/rankings/AllPlayers.jsx","tables/rankings/Rankings.jsx","services/ws/gamePlaySocketServices.js","dashboard/withReduxDashboard.js","games/gameplay/BriefScoreboard.jsx","games/gameplay/TableDesign.jsx","games/gameplay/GamePlay.jsx","games/SingleGame.jsx","games/competitions/CompetitionSummary.jsx","games/competitions/CompetitionsMain.jsx","games/GameDeck.jsx","profile/NoticeManager.jsx","profile/AcountCredentials.jsx","profile/no-avatar.png","profile/FriendRecords.jsx","profile/MyGamesAndFriends.jsx","services/http/chatServices.js","chat/Message.jsx","chat/ChatMessageBox.jsx","chat/ChatRoom.jsx","App.js","dashboard/reducers/index.js","dashboard/reducers/player.js","dashboard/reducers/opponent.js","dashboard/reducers/room.js","dashboard/reducers/scoreboard.js","dashboard/reducers/tools.js","dashboard/reducers/statistics.js","dashboard/reducers/message.js","dashboard/reducers/device.js","dashboard/store/index.js","index.js","services/configs/index.js"],"names":["Profile","module","exports","Root","SignUp","SignIn","GameDeck","Rankings","GameGuide","ContactUs","ChatRoom","MyGamesAndFriends","Notices","WebSocketRoot","wsGamePlayRoute","wsGlobalRoute","Users","Credentials","PasswordChange","Friends","Public","Administrators","Games","Mine","Chats","NoticeManagement","Successful","CreatedSuccessfully","BadRequest","Unauthorized","Forbidden","NotFound","NotAcceptable","Conflict","SessionExpired","UnprocessableEntity","InternalServerError","isErrorExpected","error","response","status","Token","ID","T3D","TableRowMargings","TurnTimeOut","SingleScoreCard","Type","playerXName","playerOName","xScore","oScore","xBadgeColor","oBadgeColor","className","id","AllScores","scores","console","log","length","map","score","players","name","gameID","Card","border","Body","Text","axios","defaults","headers","post","put","interceptors","request","use","config","token","sessionStorage","getItem","BrowserStorage","Authorization","Promise","reject","expectedErrors","Status","toast","position","closeOnClick","http","get","delete","Server","Routes","userServices","signUp","user","JSON","stringify","signIn","getPlayer","userID","getAllPlayers","getMyCredentials","editMyCredentials","newMe","changeMyPassword","passwords","getMyFriends","isMyFriend","targetID","isAdministrator","saveUser","setItem","readUserID","gameServices","getAllGames","getMyGames","loadPlayerData","a","data","resolve","player","ScoresTable","state","liveScores","finalScores","showLiveOnes","loading","btnShowLiveScores","setState","btnShowFinalScores","Configs","allGames","then","result","reverse","filter","game","isLive","catch","err","this","onClick","Component","Header","href","LoadingBar","useState","whichOne","setWhichOne","useEffect","Math","floor","random","useLayoutEffect","document","body","style","overflowY","height","selectedLoader","time","customLoading","ModalSignIn","showModal","studentID","password","onCloseClick","onShowClick","onSignInSubmitted","event","preventDefault","Number","props","history","replace","onForgotPasswordClick","Button","variant","Modal","backdrop","show","onHide","closeButton","Form","onSubmit","Group","Label","Control","type","placeholder","autoComplete","value","onChange","e","target","controlId","Row","withRouter","confirmPassword","firstname","lastname","email","checkConfirmPassword","setCustomValidity","onSignUpSubmit","trim","newUser","fullname","success","warn","pattern","onInput","onInvalid","required","Footer","NavigationBar","useSelector","device","Navbar","bg","expand","Container","Toggle","activeClassName","to","Client","Collapse","Nav","exact","Device","SmartPhone","SignInSideBar","Col","noticeServices","createNotice","notice","getAdvancedNotics","getShortNotices","editNotice","noticeID","NoticeSideBar","notices","setNotices","title","text","Alert","color","fontSize","OnlineStatistics","statistics","games","ListGroup","Item","Badge","pill","LoadMe","payload","SetRoom","room","SendFriendRequestTo","SendMessageTo","friendID","SetDeviceType","GameChatRoom","myMessage","setMyMessage","message","dispatch","useDispatch","me","composeMessage","recieved","InputGroup","Prepend","width","PlayerInfoSideBar","inGame","person","personIsFriend","setPersonIsFriend","isFriend","Image","src","noAvatar","alt","index","Heading","shape","records","points","wins","draws","loses","block","innerHTML","disabled","onFriendRequestClick","isAdmin","GlobalSocketManager","socketGlobal","setSocketGlobal","incommingFriendRequest","setIncommingFriendRequest","showFriendshipModal","setShowFriendshipModal","opponent","tools","clientOnline","toggleClientOnline","enableGlobalTimer","useCallback","setInterval","send","clientID","msg","timerID","clearInterval","connect","socket","WebSocket","onopen","onmessage","parse","command","setTimeout","askerID","answer","targetName","warning","onerror","close","onclose","opponentSearchTriggered","friendRequest","askerName","respondToFriendshipRequest","sent","window","navigator","onLine","margin","pathname","location","scoreboard","deviceIsDesktop","useMediaQuery","query","deviceIsSmartPhone","deviceIsTablet","Desktop","Tablet","updateTriggered","pageLeftSideBar","pageRightSideBar","inProfilePages","includes","opp","xs","children","SinglePlayerCard","rowNumber","scope","AllPlayers","borderRadius","findIndex","p","Ranking","tempPlayers","sort","p1","p2","createSocketRequest","rname","playerID","roomName","gameType","server","withReduxDashboard","component","LoadOpponent","UpdateMyRecords","ResetOpponent","ResetRoom","SetGameID","UpdateScoreboard","details","CleanScoreboard","TriggerRecordUpdate","BriefScoreboard","timeRemaining","textAlign","TableDesign","dimension","table","onEachCellClick","dimens","i","push","row","direction","marginLeft","GameSetting","column","GamePlay","lineColor","turn","myTurn","undefined","socketGamePlay","playerOnline","connectionCheckTimerID","LoadOpponentData","opponentID","updateGameScorebaord","oppTurn","enableTimerForMyMove","timeout","updatePlayerStates","disableAllTimers","clearTimeout","socketOnMessage","IDs","opponentIndex","cellID","nextMove","verifyAndApplyTheMove","getCellCoordinates","cellButtons","focus","endThisGame","closeThisGame","forceConnectWS","nextJob","enableConnectionCheckTimer","dimen","onFloorId","selectedCellButton","cell","cellButton","tempTable","inspectAreaAroundTheCell","playerInTheCell","rowCount","columnCount","floorMainDiagCount","floorSideDiagCount","tableMainDiagCount","tableSideDiagCount","tableAltitudeCount","connectTheScoreLines","count","firstCell","step","info","getElementsByClassName","RoomManager","friendlyGame","setRoomName","setGameType","searching","setSearching","onStartGameClick","padding","Radio","checked","CompetitionSummary","summary","CompetitionsMain","Tab","defaultActiveKey","sm","Link","eventKey","Content","Pane","Tabs","transition","SingleGame","NoticeManager","isAllowed","setAllowed","setTitle","setText","startDate","setStartDate","endDate","setEndDate","selectedNoticeID","setSelectedNoticeID","updateTrigger","setUpdateTrigger","setLoading","resetStates","createNewNotice","Date","saveChanges","as","calendar","persian","locale","persian_fa","calendarPosition","_id","selecteNotice","MODES","AccountCredentials","setFullname","setStudentID","setEmail","setPassword","pageMode","setPageMode","pageUpdateTrigger","triggerPageUpdate","newPassword","setNewPassword","confirmNewPassword","setConfirmNewPassword","reloadPage","selectMode","FriendRecords","friend","myFriends","setMyFriends","myGames","setMyGames","filterID","setFilterID","selectedFriendIndex","setSelectedFriendIndex","serverResponse","friends","onSelect","key","chatServices","getOurChat","Message","previousDay","inSmartphone","date","showDate","setShowDate","setTime","persianDate","setPersianDate","persianDateObject","DateObject","format","getDate","ChatMessageBox","mostRecentMessageRef","useRef","allMsgs","setAllMsgs","loadPreviousMessages","myIndex","chat","previousMsgs","owner","recieveMessage","tempMsg","ref","current","scrollIntoView","behavior","top","offsetTop","App","path","reducers","combineReducers","action","clear","store","createStore","__REDUX_DEVTOOLS_EXTENSION__","render","getElementById","ClientRoutes","require","ServerRoutes"],"mappings":"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","file":"static/js/main.96685bba.chunk.js","sourcesContent":["//client routes\r\n\r\n// Partial Routes\r\nconst Profile = \"/Profile\",\r\n    ChatRoom = \"ChatRoom\",\r\n    MyGamesAndFriends = \"GamesFriends\",\r\n    Notices = \"Notices\";\r\n\r\nmodule.exports = {\r\n    Root: \"/\",\r\n    SignUp: \"/SignUp\",\r\n    SignIn: \"/SignIn\",\r\n    GameDeck: \"/GameDeck\",\r\n    Rankings: \"/Rankings\",\r\n    GameGuide: \"/GameGuide\",\r\n    ContactUs: \"/ContacUs\",\r\n    Profile,\r\n    ChatRoom: `${Profile}/${ChatRoom}`,\r\n    MyGamesAndFriends: `${Profile}/${MyGamesAndFriends}`,\r\n    Notices: `${Profile}/${Notices}`,\r\n};\r\n","//server routes\r\nmodule.exports = {\r\n    Root: \"https://t3dweb.herokuapp.com\",\r\n    WebSocketRoot: \"wss://t3dweb.herokuapp.com/ws\",\r\n    wsGamePlayRoute: \"gameplay\",\r\n    wsGlobalRoute: \"global\",\r\n    SignUp: \"signup\",\r\n    SignIn: \"signin\",\r\n    Users: \"users\",\r\n    Credentials: \"credentials\",\r\n    PasswordChange: \"password\",\r\n    Friends: 'friends',\r\n    Public: \"public\",\r\n    Administrators: \"administrators\",\r\n    Games: \"games\",\r\n    Mine: \"mine\",\r\n    Chats: \"chats\",\r\n    Notices: \"notices\",\r\n    NoticeManagement: \"manage\"\r\n};","const isErrorExpected = (error) => {\r\n    return (\r\n        error.response &&\r\n        error.response.status >= 400 && // >= 400\r\n        error.response.status < 500\r\n    );\r\n};\r\n\r\nmodule.exports = {\r\n    Successful: 200,\r\n    CreatedSuccessfully: 201,\r\n    BadRequest: 400,\r\n    Unauthorized: 401,\r\n    Forbidden: 403,\r\n    NotFound: 404,\r\n    NotAcceptable: 406,\r\n    Conflict: 409,\r\n    SessionExpired: 420,\r\n    UnprocessableEntity: 422,\r\n    InternalServerError: 500,\r\n    isErrorExpected,\r\n};\r\n","//browser storage keywords\r\n\r\nmodule.exports = {\r\n    Token: \"ptk\",\r\n    ID: \"pid\"\r\n}","module.exports = {\r\n    T3D: {\r\n        TableRowMargings: [0, 40, 80, 120, 160],\r\n        TurnTimeOut: 30, //secs\r\n    },\r\n};\r\n","import \"../tables.css\";\r\n\r\nconst SingleScoreCard = ({Type, playerXName, playerOName, xScore, oScore }) => {\r\n    // format score text:\r\n    let xBadgeColor = null;\r\n    let oBadgeColor = null; // null means default badge color\r\n\r\n    if (xScore > oScore) {\r\n        // x won\r\n        xBadgeColor = \"badge-success\";\r\n        oBadgeColor = \"badge-danger\";\r\n    } else if (xScore === oScore) {\r\n        //draw\r\n        xBadgeColor = \"badge-warning\";\r\n        oBadgeColor = \"badge-warning\";\r\n    } else {\r\n        // o won\r\n        oBadgeColor = \"badge-success\";\r\n        xBadgeColor = \"badge-danger\";\r\n    }\r\n\r\n    // make this card 'bg-transparent' too?\r\n    return (\r\n        <div className=\"card border-info mb-3 scoreCard\">\r\n            <div className=\"card-header text-center border-info\">{`T3D ${Type}x${Type}x${Type}`}</div>\r\n            <div className=\"card-body\">\r\n                <div className=\"row text-center mx-auto\">\r\n                    <span className=\"col-5\">{playerXName}</span>\r\n                    <span\r\n                        className={`badge badge-pill ${xBadgeColor} scoreBadge col-1`}>\r\n                        {xScore < 10 ? `0${xScore}` : `${xScore}`}\r\n                    </span>\r\n\r\n                    <span\r\n                        className={`badge badge-pill ${oBadgeColor} scoreBadge col-1`}>\r\n                        {oScore < 10 ? `0${oScore}` : `${oScore}`}\r\n                    </span>\r\n                    <span className=\"col-5\">{playerOName}</span>\r\n                </div>\r\n            </div>\r\n            <button\r\n                id=\"btnReplayGame\"\r\n                className=\"btn btn-outline-info btn-lg btn-block\">\r\n                بازپخش بازی\r\n            </button>\r\n            {/*1st method: pass key to the score.jsx and find the specific game to replay\r\n            2nd method: pass replay function from AllScore.jsx to Score.jsx ? */}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SingleScoreCard;\r\n","import { Fragment } from \"react\";\r\nimport { Card } from \"react-bootstrap\";\r\nimport SingleScoreCard from \"./SingleScoreCard\";\r\n\r\nconst AllScores = ({scores}) => {\r\n    console.log(scores);\r\n    return ( \r\n        <Fragment>\r\n            { scores.length ? scores.map(score => (\r\n                <SingleScoreCard key={score.gameID}\r\n                    Type={score.Type}\r\n                    playerXName={score.players[0].name}\r\n                    playerOName={score.players[1].name}\r\n                    xScore={score.players[0].score}\r\n                    oScore={score.players[1].score}\r\n                ></SingleScoreCard>\r\n            )) :\r\n            <Card className=\"bg-transparent mx-auto mt-3\" border=\"danger\">\r\n                <Card.Body className=\"text-center\">\r\n                    <Card.Text>\r\n                        هیچ بازی ای انجام نگرفته اس\r\n                    </Card.Text>\r\n                </Card.Body>\r\n                </Card>}\r\n        </Fragment>\r\n     );\r\n};\r\n \r\nexport default AllScores;","import axios from \"axios\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Status, BrowserStorage } from \"../configs\";\r\n\r\naxios.defaults.headers.post[\"Content-Type\"] = \"application/json\";\r\naxios.defaults.headers.put[\"Content-Type\"] = \"application/json\";\r\n\r\n// put token in all request headers:\r\naxios.interceptors.request.use(\r\n    (config) => {\r\n        const token = sessionStorage.getItem(BrowserStorage.Token);\r\n        if (token) config.headers.Authorization = `Bearer ${token}`;\r\n        else config.headers.Authorization = \"\";\r\n        // console.log(config.headers.Authorization);\r\n        return config;\r\n    },\r\n    (error) => {\r\n        // what to do?\r\n        return Promise.reject(error);\r\n    }\r\n);\r\n// what the f should i do?\r\n// (() => {\r\n//     const token = sessionStorage.getItem(\"token\");\r\n//     if (token)\r\n//         axios.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\r\n//     else {\r\n//         delete axios.defaults.headers.common[\"Authorization\"];\r\n//         /*if setting null does not remove `Authorization` header then try\r\n//               delete axios.defaults.headers.common['Authorization'];\r\n//             */\r\n//     }\r\n//     console.log(\"token\", token);\r\n// })();\r\n\r\naxios.interceptors.response.use(null, (error) => {\r\n    const expectedErrors =\r\n        error.response &&\r\n        error.response.status >= Status.BadRequest && // >= 400\r\n        error.response.status < Status.InternalServerError; // < 500\r\n\r\n        //*****notice: */\r\n        //remove some oftheese errors... because they need to be costomized in every use in each components\r\n    // change to switch\r\n    if (error.response.status === Status.BadRequest) {\r\n        toast.error(\r\n            \"مشکلی در ارسال درخواست شما به سرور وجود داشت، لطفا دوباره تلاش کنید\",\r\n            {\r\n                position: \"top-right\",\r\n                closeOnClick: true,\r\n            }\r\n        );\r\n    } else if (error.response.status === Status.Unauthorized) {\r\n        toast.error(\r\n            \"احراز هویت موفقیت آمیز نبود. لطفا وارد حساب کاربری خود شوید\",\r\n            {\r\n                position: \"top-right\",\r\n                closeOnClick: true,\r\n            }\r\n        );\r\n    } else if (error.response.status === Status.Forbidden) {\r\n        toast.error(\"شماره دانشجویی یا رمز عبور نادرست است\", {\r\n            position: \"top-right\",\r\n            closeOnClick: true,\r\n        });\r\n    } else if (error.response.status === Status.NotAcceptable) {//or used Locked: 423\r\n        toast.error(\"این قسمت فقط مختص کاربران ادمین می باشد\", {\r\n            position: \"top-right\",\r\n            closeOnClick: true,\r\n        });\r\n    } else if (error.response.status === Status.Conflict) {\r\n        toast.error(\r\n            \"کاربری با این شماره دانشجویی یا ایمیل قبلا ثبت نام کرده است\",\r\n            {\r\n                position: \"top-right\",\r\n                closeOnClick: true,\r\n            }\r\n        );\r\n    }\r\n    else if(error.response.status === Status.SessionExpired){\r\n        toast.error(\"نشست شما منقضی شده است، لطفا دوباره وارد حساب خود شوید.\", {\r\n            position: \"top-right\",\r\n            closeOnClick: true,\r\n        });\r\n        //redirect to sign in page !\r\n    }\r\n    else if (error.response.status === Status.UnprocessableEntity) {\r\n        toast.error(\"ورودی شما با استانداردهای سایت مطابقت ندارد\", {\r\n            position: \"top-right\",\r\n            closeOnClick: true,\r\n        });\r\n    } else if (!expectedErrors) {\r\n        // console.log(error);\r\n        toast.error(\r\n            \"مشکلی از سمت سرور پیش آمده است ... لطفا لحظاتی بعد دوباره تلاش کنید\",\r\n            {\r\n                position: \"top-right\",\r\n                closeOnClick: true,\r\n            }\r\n        );\r\n    }\r\n\r\n    return Promise.reject(error);\r\n});\r\n\r\nconst http = {\r\n    get: axios.get,\r\n    post: axios.post,\r\n    put: axios.put,\r\n    delete: axios.delete,\r\n};\r\n\r\nexport default http;\r\n","import http from \"./httpService\";\r\nimport { BrowserStorage, Routes } from \"../configs\";\r\n\r\nconst {Server} = Routes;\r\n\r\nconst userServices = {\r\n    signUp: (user) => {\r\n        return http.post(\r\n            `${Server.Root}/${Server.Users}/${Server.SignUp}`,\r\n            JSON.stringify(user)\r\n        );\r\n    },\r\n    signIn: (user) => {\r\n        return http.post(\r\n            `${Server.Root}/${Server.Users}/${Server.SignIn}`,\r\n            JSON.stringify(user)\r\n        );\r\n    },\r\n    getPlayer: (userID) => {\r\n        return http.get(\r\n            `${Server.Root}/${Server.Users}/${Server.Public}/${userID}`\r\n        );\r\n    },\r\n    getAllPlayers: () => {\r\n        return http.get(`${Server.Root}/${Server.Users}/${Server.Public}`);\r\n    },\r\n    getMyCredentials: () => {\r\n        //token will be sent automatically, o.w. method doesnt return anything\r\n        return http.get(`${Server.Root}/${Server.Users}/${Server.Credentials}`);\r\n    },\r\n    editMyCredentials: (newMe) => {\r\n        return http.put(\r\n            `${Server.Root}/${Server.Users}/${Server.Credentials}`,\r\n            JSON.stringify(newMe)\r\n        );\r\n    },\r\n    changeMyPassword: (passwords) => {\r\n        return http.put(\r\n            `${Server.Root}/${Server.Users}/${Server.Credentials}/${Server.PasswordChange}`,\r\n            JSON.stringify(passwords)\r\n        );\r\n    },\r\n    getMyFriends: () => {\r\n        return http.get(`${Server.Root}/${Server.Users}/${Server.Credentials}/${Server.Friends}`);\r\n    },\r\n    isMyFriend: (targetID) => {\r\n        return http.get(\r\n            `${Server.Root}/${Server.Users}/${Server.Credentials}/${Server.Friends}/${targetID}`\r\n        );\r\n    },\r\n    isAdministrator: (userID) => {\r\n        return http.get(\r\n            `${Server.Root}/${Server.Users}/${Server.Administrators}/${userID}`\r\n        );\r\n    }, // check is admin via token? or this?:|\r\n    saveUser: (id, token) => {\r\n        // use remember me option\r\n        sessionStorage.setItem(BrowserStorage.ID, id); // localStorage or sessionStorage?\r\n        sessionStorage.setItem(BrowserStorage.Token, token);\r\n    },\r\n    readUserID: () => {\r\n        //from browser\r\n        // consider local storage\r\n        return sessionStorage.getItem(BrowserStorage.ID);\r\n    },\r\n};\r\n\r\nexport default userServices;","import { Routes, Status } from '../configs';\r\n\r\nimport http from \"./httpService\";\r\nimport userServices from \"./userServices\";\r\n\r\nconst {Server} = Routes;\r\n\r\nconst gameServices = {\r\n    \r\n    getAllGames: () => {\r\n        return http.get(`${Server.Root}/${Server.Games}`);\r\n    },\r\n    getMyGames: () => {\r\n        return http.get(`${Server.Root}/${Server.Games}/${Server.Mine}`);\r\n    },\r\n    loadPlayerData: async(userID) => {\r\n        if (userID) var { data, status } = await userServices.getPlayer(userID);\r\n\r\n        return new Promise((resolve, reject) => {\r\n            if (userID === null) reject(null);\r\n            if (status === Status.Successful) resolve(data.player);\r\n            reject(null); //create a guest profile\r\n        });\r\n    },\r\n};\r\n\r\nexport default gameServices;","import \"../tables.css\";\r\nimport { Component } from \"react\";\r\nimport AllScores from \"./AllScores\";\r\nimport gameServices from \"../../services/http/gameServices\";\r\nimport Configs from '../../services/configs';\r\n\r\nclass ScoresTable extends Component {\r\n    state = {\r\n        liveScores: [],\r\n        finalScores: [],\r\n        showLiveOnes: false,\r\n        loading: false,\r\n    };\r\n\r\n    componentDidMount() {\r\n        // get all game results , live or final, handling promises\r\n        // client and server side for this Module seriously need to be edited\r\n        (async () => {\r\n            this.setState({ loading: true }); // use preloader here?\r\n            const { data, status } = await gameServices.getAllGames();\r\n            if (status === Configs.Status.Successful) return data.allGames;\r\n            return [];\r\n        })()\r\n            .then((result) => {\r\n                result = result.reverse();\r\n                this.setState({\r\n                    liveScores: result.filter((game) => game.isLive),\r\n                    finalScores: result.filter((game) => !game.isLive),\r\n                    loading: false,\r\n                });\r\n                //EDIT EDIT EDIT\r\n            })\r\n            .catch((err) => {\r\n                //******* handle errors */\r\n                // console.log(err);\r\n                this.setState({ finalScores: [], loading: false });\r\n            });\r\n    }\r\n\r\n    btnShowLiveScores = () => {\r\n        this.setState({ showLiveOnes: true });\r\n    };\r\n\r\n    btnShowFinalScores = () => {\r\n        this.setState({ showLiveOnes: false });\r\n    };\r\n\r\n    render() {\r\n        // game replay? is it a good idea DataBase Size-Wise ? ===> if true: see 1st page of the notebook\r\n        /* add a NextGames button maybe? (گزینه بازی های اینده) */\r\n        let { liveScores, finalScores, showLiveOnes } = this.state;\r\n\r\n        // DESIGN : USE <Tabs> ???\r\n        return (\r\n            <div className=\"container\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-6\">\r\n                        <button\r\n                            className={`scoresTypeSelectButton btn ${\r\n                                showLiveOnes\r\n                                    ? `btn-outline-success`\r\n                                    : `btn-outline-primary`\r\n                            }`}\r\n                            onClick={this.btnShowLiveScores}>\r\n                            نتایج زنده\r\n                            <i\r\n                                className=\"fa fa-play-circle px-3\"\r\n                                aria-hidden=\"true\"></i>\r\n                        </button>\r\n                    </div>\r\n                    <div className=\"col-6\">\r\n                        <button\r\n                            className={`scoresTypeSelectButton btn ${\r\n                                showLiveOnes\r\n                                    ? `btn-outline-primary`\r\n                                    : `btn-outline-success`\r\n                            }`}\r\n                            onClick={this.btnShowFinalScores}>\r\n                            نتایج نهایی\r\n                            <i\r\n                                className=\"fa fa-stop-circle-o px-3\"\r\n                                aria-hidden=\"true\"></i>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                    <div className=\"col-12\">\r\n                        <AllScores\r\n                            scores={showLiveOnes ? liveScores : finalScores}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ScoresTable;\r\n","import './info.css'\r\nimport { Card } from 'react-bootstrap';\r\n\r\nconst GameGuide = () => {\r\n    return ( \r\n        <Card border=\"warning\" className=\"mb-3 singleCard\" >\r\n            <Card.Header className=\"text-center\">راهنمای بازی</Card.Header>\r\n            <Card.Body className=\"text-right\">\r\n                <Card.Text>دانشگاه علم و صنعت ایران</Card.Text>\r\n                <Card.Text>E-mail: <a href=\"https://mail.google.com\">thcplusplus@gmail.com</a></Card.Text>\r\n                <Card.Text>Phone Number: 0000000000000</Card.Text>\r\n                <Card.Text>اطلاعات تماس استاد</Card.Text>\r\n                <Card.Text>instagram: ......</Card.Text>\r\n                <Card.Text>blah blah blah</Card.Text>\r\n            </Card.Body>\r\n        </Card>\r\n     );\r\n}\r\n \r\nexport default GameGuide;","import { Card } from 'react-bootstrap';\r\nimport './info.css'\r\n\r\nconst ContactUs = () => {\r\n    return ( \r\n        <Card border=\"dark\" className=\"mb-3 singleCard\" >\r\n            <Card.Header className=\"text-center\">اطلاعات تماس</Card.Header>\r\n            <Card.Body className=\"text-right\">\r\n                <Card.Text>دانشگاه علم و صنعت ایران</Card.Text>\r\n                <Card.Text>E-mail: <a href=\"https://mail.google.com\">thcplusplus@gmail.com</a></Card.Text>\r\n                <Card.Text>Phone Number: 0000000000000</Card.Text>\r\n                <Card.Text>اطلاعات تماس استاد</Card.Text>\r\n                <Card.Text>instagram: ......</Card.Text>\r\n                <Card.Text>blah blah blah</Card.Text>\r\n            </Card.Body>\r\n        </Card>\r\n     );\r\n}\r\n \r\nexport default ContactUs;","import { Fragment, useLayoutEffect, useState, useEffect } from \"react\";\r\nimport { Planets, Circle2, Sugar } from \"react-preloaders2\";\r\n\r\nconst LoadingBar = ({ loading }) => {\r\n    const [whichOne, setWhichOne] = useState(0);\r\n    useEffect(() => {\r\n        setWhichOne(Math.floor(Math.random() * 100)); //randomize animation\r\n    }, []);\r\n    useLayoutEffect(() => {\r\n        document.body.style = { overflowY: \"auto\" };\r\n        document.body.style = { height: \"auto\" };\r\n    }, [loading, whichOne]); //may have bug yet!!\r\n    //random animation\r\n    const selectedLoader =\r\n        whichOne % 3 === 0 ? (\r\n            <Circle2 time={0} customLoading={loading} />\r\n        ) : whichOne % 3 === 1 ? (\r\n            <Planets time={0} customLoading={loading} />\r\n        ) : (\r\n            <Sugar time={0} customLoading={loading} />\r\n        );\r\n\r\n    return <Fragment>{loading ? selectedLoader : null}</Fragment>;\r\n};\r\n\r\nexport default LoadingBar;\r\n","import { Button, Form, Modal, Row } from \"react-bootstrap\";\r\nimport { Component, Fragment } from \"react\";\r\nimport userServices from \"../services/http/userServices\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport LoadingBar from \"../common/LoadingBar\";\r\nimport Configs from \"../services/configs\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nclass ModalSignIn extends Component {\r\n    // *********************Objectives***********************\r\n    // 1. handle errors particularly\r\n    state = {\r\n        showModal: false,\r\n        studentID: \"\",\r\n        password: \"\",\r\n        loading: false,\r\n    };\r\n\r\n    onCloseClick = () => this.setState({ showModal: false });\r\n    onShowClick = () => this.setState({ showModal: true });\r\n\r\n    onSignInSubmitted = async (event) => {\r\n        event.preventDefault();\r\n        this.setState({ loading: true });\r\n        const { studentID, password } = this.state;\r\n        const user = { studentID: Number(studentID), password };\r\n        try {\r\n            const { status, data } = await userServices.signIn(user);\r\n            if (status === Configs.Status.Successful) {\r\n                userServices.saveUser(data.userID, data.token);\r\n                this.props.history.replace(\"/\");\r\n            }\r\n        } catch (err) {\r\n            // check nonserver errors\r\n            this.setState({ password: \"\" });\r\n            if (!Configs.Status.isErrorExpected(err))\r\n                toast.error(\r\n                    \".ورود با مشکل رو به رو شد. لطفا دوباره تلاش کتنید.\",\r\n                    { position: \"top-right\", closeOnClick: true }\r\n                );\r\n        }\r\n        this.setState({ loading: false });\r\n    };\r\n\r\n    onForgotPasswordClick = () => {};\r\n\r\n    render() {\r\n        const { showModal, studentID, password, loading } = this.state;\r\n\r\n        return (\r\n            <Fragment>\r\n                <LoadingBar loading={loading} />\r\n                <Button variant=\"outline-primary\" onClick={this.onShowClick}>\r\n                    <i className=\"fa fa-user px-2\" aria-hidden=\"true\"></i>\r\n                    ورود کاربران\r\n                </Button>\r\n\r\n                <Modal\r\n                    backdrop=\"static\"\r\n                    show={showModal}\r\n                    onHide={this.onCloseClick}>\r\n                    <Modal.Header closeButton></Modal.Header>\r\n\r\n                    <Modal.Body>\r\n                        <Form\r\n                            className=\"m-4 text-right\"\r\n                            onSubmit={(event) => this.onSignInSubmitted(event)}>\r\n                            <Form.Group className=\"mb-3 form-inline\">\r\n                                <Form.Label className=\"w-25\">\r\n                                    شماره دانشجویی\r\n                                </Form.Label>\r\n                                <Form.Control\r\n                                    type=\"text\"\r\n                                    className=\"w-75 text-left\"\r\n                                    placeholder=\"Student ID\"\r\n                                    autoComplete=\"username\"\r\n                                    value={studentID}\r\n                                    onChange={(e) =>\r\n                                        this.setState({\r\n                                            studentID: e.target.value,\r\n                                        })\r\n                                    }\r\n                                />\r\n                            </Form.Group>\r\n\r\n                            <Form.Group\r\n                                className=\"mb-3 form-inline\"\r\n                                controlId=\"formBasicPassword\">\r\n                                <Form.Label className=\"w-25\">\r\n                                    رمز عبور\r\n                                </Form.Label>\r\n                                <Form.Control\r\n                                    type=\"password\"\r\n                                    className=\"w-75 text-left\"\r\n                                    placeholder=\"Password\"\r\n                                    autoComplete=\"current-password\"\r\n                                    value={password}\r\n                                    onChange={(e) =>\r\n                                        this.setState({\r\n                                            password: e.target.value,\r\n                                        })\r\n                                    }\r\n                                />\r\n                            </Form.Group>\r\n                            <hr />\r\n                            <Row>\r\n                                <Button\r\n                                    className=\"w-50\"\r\n                                    type=\"submit\"\r\n                                    variant=\"outline-success\">\r\n                                    <i\r\n                                        className=\"fa fa-sign-in px-2\"\r\n                                        aria-hidden=\"true\"></i>\r\n                                    ورود\r\n                                </Button>\r\n                                <Button\r\n                                    className=\"w-50\"\r\n                                    variant=\"outline-warning\"\r\n                                    onClick={this.onForgotPasswordClick}>\r\n                                    <i\r\n                                        className=\"fa fa-recycle px-2\"\r\n                                        aria-hidden=\"true\"></i>\r\n                                    فراموشی رمز\r\n                                </Button>\r\n                            </Row>\r\n                        </Form>\r\n                    </Modal.Body>\r\n                </Modal>\r\n            </Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(ModalSignIn);\r\n","import React, { Component } from \"react\";\r\nimport ModalSignIn from \"./ModalSignIn\";\r\nimport \"./users.css\";\r\nimport { toast } from \"react-toastify\";\r\nimport userServices from \"../services/http/userServices\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport LoadingBar from \"../common/LoadingBar\";\r\nimport Configs from '../services/configs';\r\nimport { Card, Form , Button} from \"react-bootstrap\";\r\n\r\nclass SignUp extends Component {\r\n    // *********************Objectives***********************\r\n    // 1. handle errors particularly\r\n    // 2. first and last name must be persian text so make the direction correct and force persian chars\r\n    state = {\r\n        studentID: \"\",\r\n        password: \"\",\r\n        confirmPassword: \"\",\r\n        firstname: \"\",\r\n        lastname: \"\",\r\n        email: \"\",\r\n        loading: false,\r\n    };\r\n\r\n    checkConfirmPassword = (event) => {\r\n        this.setState({ confirmPassword: event.target.value });\r\n        if (this.state.password !== event.target.value) {\r\n            event.target.setCustomValidity(\r\n                \"تایید رمز عبور باید با خود رمز عبور مطابقت کامل داشته باشد\"\r\n            );\r\n            //console.log(password, confirmPassword);\r\n        } else event.target.setCustomValidity(\"\");\r\n    };\r\n    onSignUpSubmit = async (event) => {\r\n        event.preventDefault();\r\n        const {\r\n            studentID,\r\n            password,\r\n            confirmPassword,\r\n            firstname,\r\n            lastname,\r\n            email,\r\n        } = this.state;\r\n        if (firstname.trim().length < 3 || lastname.trim().length < 3) {\r\n            toast.error(\"نام و نام خانوادگی باید حداقل شام سه حرف فارسی باشد\", {\r\n                position: \"top-right\",\r\n                closeOnClick: true,\r\n            });\r\n            this.setState({\r\n                firstname: firstname.trim(),\r\n                lastname: lastname.trim(),\r\n            });\r\n            return;\r\n        }\r\n        if (password === confirmPassword) {\r\n            try {\r\n                this.setState({ loading: true });\r\n                const newUser = {\r\n                    studentID: Number(studentID),\r\n                    password,\r\n                    email,\r\n                    fullname: (firstname + \" \" + lastname).replace(/\\s+/g, \" \"), // correct? (iterative?)\r\n                };\r\n\r\n                const { status, data } = await userServices.signUp(newUser);\r\n\r\n                if (status === Configs.Status.CreatedSuccessfully) {\r\n                    //console.log(data);\r\n                    toast.success(`ثبت نام با موفقیت انجام شد`, {\r\n                        position: \"top-right\",\r\n                        closeOnClick: true,\r\n                    });\r\n                    userServices.saveUser(data.userID, data.token);\r\n                    this.props.history.replace(\"/\");\r\n                    // this.props.history.replace('/signIn')\r\n                    // ******* change server to return user token and auto sign in\r\n                }\r\n            } catch (err) {\r\n                // console.log(err);\r\n                this.setState({ loading: false });\r\n                if (err.response.status === Configs.Status.Conflict) {\r\n                    // toast.error(\r\n                    //     \"کاربری با این شماره دانشجویی یا ایمیل قبلا ثبت نام کرده است\",\r\n                    //     {\r\n                    //         position: \"top-right\",\r\n                    //         closeOnClick: true,\r\n                    //     }\r\n                    // );\r\n                    toast.warn(\r\n                        \"اگر رمز عبور خود را فراموش کرده اید، از گزینه بازیابی رمز عبور در صفحه ی ورود استفاده نمایید\",\r\n                        {\r\n                            position: \"top-right\",\r\n                            closeOnClick: true,\r\n                        }\r\n                    );\r\n                } else if(!Configs.Status.isErrorExpected(err)){\r\n                    toast.error(\r\n                        \"ثبت نام با مشکل رو به رو شد. لطفا دوباره تلاش کتنید\",\r\n                        {\r\n                            position: \"top-right\",\r\n                            closeOnClick: true,\r\n                        }\r\n                    );\r\n                }\r\n            }\r\n        } else {\r\n            toast.error(\"رمز عبورها مطابقت ندارند\", {\r\n                position: \"top-right\",\r\n                closeOnClick: true,\r\n            });\r\n        }\r\n        this.setState({ loading: false });\r\n    };\r\n\r\n    render() {\r\n        const {\r\n            studentID,\r\n            password,\r\n            confirmPassword,\r\n            firstname,\r\n            lastname,\r\n            email,\r\n            loading,\r\n        } = this.state;\r\n\r\n        return (\r\n            <Card border=\"success\" className=\"mb-3 signUpCard\">\r\n                <LoadingBar loading={loading} />\r\n                <Card.Header className=\"bg-transparent text-center border-success\">\r\n                    فرم ثبت نام\r\n                </Card.Header>\r\n                <Card.Body>\r\n                    <Form onSubmit={(event) => this.onSignUpSubmit(event)}>\r\n                        <Form.Group className=\"form-inline\">\r\n                            <Form.Label className=\"w-25\">نام</Form.Label>\r\n                            <Form.Control\r\n                                type=\"text\"\r\n                                pattern=\"[آ-ی ]{3,}\" // persian characters and space\r\n                                onInput={(e) => e.target.setCustomValidity(\"\")}\r\n                                onInvalid={(e) =>\r\n                                    e.target.setCustomValidity(\r\n                                        \"نام باید با حروف فارسی و با حداقل طول سه حرف باشد\"\r\n                                    )\r\n                                }\r\n                                className=\"signUpTextBox w-75\"\r\n                                placeholder=\"First Name\"\r\n                                value={firstname}\r\n                                required=\"required\"\r\n                                onChange={(e) =>\r\n                                    this.setState({\r\n                                        firstname: e.target.value,\r\n                                    })\r\n                                }\r\n                            />\r\n                        </Form.Group>\r\n\r\n                        <Form.Group className=\"form-inline\">\r\n                            <Form.Label className=\"w-25\">نام خانوادگی</Form.Label>\r\n                            <Form.Control\r\n                                type=\"text\"\r\n                                className=\"signUpTextBox form-control w-75\"\r\n                                pattern=\"[آ-ی ]{3,}\" // persian characters and space\r\n                                onInput={(e) => e.target.setCustomValidity(\"\")}\r\n                                onInvalid={(e) =>\r\n                                    e.target.setCustomValidity(\r\n                                        \"نام خانوادگی باید با حروف فارسی و با حداقل طول سه حرف باشد\"\r\n                                    )\r\n                                }\r\n                                placeholder=\"Last Name\"\r\n                                value={lastname}\r\n                                required=\"required\"\r\n                                onChange={(e) =>\r\n                                    this.setState({\r\n                                        lastname: e.target.value,\r\n                                    })\r\n                                }\r\n                            />\r\n                        </Form.Group>\r\n\r\n                        <Form.Group className=\"form-inline\">\r\n                            <Form.Label className=\"w-25\">شماره دانشجویی</Form.Label>\r\n                            <Form.Control\r\n                                type=\"text\"\r\n                                pattern=\"[0-9]{8}\"\r\n                                onInput={(e) => e.target.setCustomValidity(\"\")}\r\n                                onInvalid={(e) =>\r\n                                    e.target.setCustomValidity(\r\n                                        \"شماره دانشجویی باید یک عدد 8 رقمی باشد\"\r\n                                    )\r\n                                }\r\n                                className=\"signUpTextBox form-control w-75\"\r\n                                placeholder=\"Student ID\"\r\n                                value={studentID}\r\n                                autoComplete=\"username\"\r\n                                required=\"required\"\r\n                                onChange={(e) =>\r\n                                    this.setState({\r\n                                        studentID: e.target.value,\r\n                                    })\r\n                                }\r\n                            />\r\n                        </Form.Group>\r\n\r\n                        <Form.Group className=\"form-inline\">\r\n                            <Form.Label className=\"w-25\">ایمیل</Form.Label>\r\n                            <Form.Control\r\n                                type=\"email\"\r\n                                pattern=\".{6,}\"\r\n                                onInput={(e) => e.target.setCustomValidity(\"\")}\r\n                                onInvalid={(e) =>\r\n                                    e.target.setCustomValidity(\r\n                                        \"ورودی باید فرمت معتبر ایمیل را رعایت کرده و حداقل 6 کاراکتر باشد\"\r\n                                    )\r\n                                }\r\n                                className=\"signUpTextBox form-control w-75\"\r\n                                placeholder=\"E-mail\"\r\n                                value={email}\r\n                                required=\"required\"\r\n                                onChange={(e) =>\r\n                                    this.setState({ email: e.target.value })\r\n                                }\r\n                            />\r\n                        </Form.Group>\r\n\r\n                        <Form.Group className=\"form-inline\">\r\n                            <Form.Label className=\"w-25\">رمز عبور</Form.Label>\r\n                            <Form.Control\r\n                                type=\"password\"\r\n                                pattern=\".{6,15}\"\r\n                                onInput={(e) => e.target.setCustomValidity(\"\")}\r\n                                onInvalid={(e) =>\r\n                                    e.target.setCustomValidity(\r\n                                        \"رمز عبور باید حداقل 6 کاراکتر و حداکثر 15 کاراکتر داشته باشد\"\r\n                                    )\r\n                                }\r\n                                className=\"signUpTextBox form-control w-75\"\r\n                                placeholder=\"Password\"\r\n                                value={password}\r\n                                autoComplete=\"new-password\"\r\n                                required=\"required\"\r\n                                onChange={(e) =>\r\n                                    this.setState({\r\n                                        password: e.target.value,\r\n                                    })\r\n                                }\r\n                            />\r\n                        </Form.Group>\r\n\r\n                        <Form.Group className=\"form-inline\">\r\n                            <Form.Label className=\"w-25\">تایید رمز عبور</Form.Label>\r\n                            <Form.Control\r\n                                type=\"password\"\r\n                                className=\"signUpTextBox form-control w-75\"\r\n                                placeholder=\"Confirm Password\"\r\n                                value={confirmPassword}\r\n                                required=\"required\"\r\n                                onChange={(event) =>\r\n                                    this.checkConfirmPassword(event)\r\n                                }\r\n                            />\r\n                        </Form.Group>\r\n\r\n                        <Button\r\n                            type=\"submit\"\r\n                            className=\"btn btn-success btn-block mt-4\">\r\n                            <i\r\n                                className=\"fa fa-user-plus px-2\"\r\n                                aria-hidden=\"true\"></i>\r\n                            ثبت نام\r\n                        </Button>\r\n                    </Form>\r\n                </Card.Body>\r\n                <Card.Footer className=\"border-primary bg-transparent\">\r\n                        اگر قبلا ثبت نام کردی، به صفحه ی <ModalSignIn /> برو !\r\n                </Card.Footer>\r\n            </Card>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(SignUp);\r\n","import { Container, Nav, Navbar } from \"react-bootstrap\";\r\nimport { useSelector } from \"react-redux\";\r\nimport {  NavLink } from \"react-router-dom\";\r\nimport {Routes, Device} from '../services/configs';\r\n\r\nconst NavigationBar = () => {\r\n    const player = useSelector((state) => state.player);\r\n    const device = useSelector(state => state.device);\r\n\r\n    return (\r\n        <Navbar bg=\"light\" expand=\"lg\" className=\"nav-pills text-right\">\r\n            <Container className=\"text-right\">\r\n                <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n                <NavLink\r\n                    border=\"secandary\"\r\n                    className=\"nav-link\"\r\n                    activeClassName=\"btn-success text-dark\"\r\n                    to={player ? Routes.Client.Profile : Routes.Client.SignUp}>\r\n                    <i\r\n                        className=\"fa fa-address-card px-2\"\r\n                        aria-hidden=\"true\"></i>\r\n                    {player ? player.fullname : \"ثبت نام\"}\r\n                </NavLink>\r\n\r\n                <Navbar.Collapse>\r\n                    <Nav className=\"me-auto\">\r\n                        <NavLink\r\n                            className=\"nav-link text-primary\"\r\n                            to={Routes.Client.Root}\r\n                            exact\r\n                            activeClassName=\"btn-outline-secondary text-dark\">\r\n                            <i\r\n                                className=\"fa fa-home px-2\"\r\n                                aria-hidden=\"true\"></i>\r\n                            صفحه اصلی\r\n                        </NavLink>\r\n\r\n                        <NavLink\r\n                            className=\"nav-link text-primary\"\r\n                            to={Routes.Client.GameDeck}\r\n                            activeClassName=\"btn-outline-secondary text-dark\">\r\n                            <i\r\n                                className=\"fa fa-gamepad px-2\"\r\n                                aria-hidden=\"true\"></i>\r\n                            بازی ها\r\n                        </NavLink>\r\n                        <NavLink\r\n                            className=\"nav-link text-primary\"\r\n                            to={Routes.Client.Rankings}\r\n                            activeClassName=\"btn-outline-secondary text-dark\">\r\n                            <i\r\n                                className=\"fa fa-list-ol px-2\"\r\n                                aria-hidden=\"true\"></i>\r\n                            رنکینگ\r\n                        </NavLink>\r\n                        <NavLink\r\n                            className=\"nav-link text-primary\"\r\n                            to={Routes.Client.GameGuide}\r\n                            activeClassName=\"btn-outline-secondary text-dark\">\r\n                            <i\r\n                                className=\"fa fa-eye px-2\"\r\n                                aria-hidden=\"true\"></i>\r\n                            راهنما\r\n                        </NavLink>\r\n                        <NavLink\r\n                            className=\"nav-link text-primary\"\r\n                            to={Routes.Client.ContactUs}\r\n                            activeClassName=\"btn-outline-secondary text-dark\">\r\n                            <i\r\n                                className=\"fa fa-phone-square px-2\"\r\n                                aria-hidden=\"true\"></i>\r\n                            تماس با ما\r\n                        </NavLink>\r\n                        {player && device === Device.SmartPhone && <NavLink\r\n                            className=\"nav-link text-primary\"\r\n                            to={Routes.Client.ChatRoom}\r\n                            activeClassName=\"btn-outline-secondary text-dark\">\r\n                            <i\r\n                                className=\"fa fa-phone-square px-2\"\r\n                                aria-hidden=\"true\"></i>\r\n                            چت روم\r\n                        </NavLink>}\r\n                    </Nav>\r\n                </Navbar.Collapse>\r\n            </Container>\r\n        </Navbar>\r\n    );\r\n};\r\n\r\nexport default NavigationBar;\r\n","import { Component } from \"react\";\r\nimport \"./sidebars.css\";\r\nimport userServices from \"../services/http/userServices\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport LoadingBar from \"../common/LoadingBar\";\r\nimport Configs from \"../services/configs\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Card, Form, Button, Col, Row } from \"react-bootstrap\";\r\n\r\nclass SignInSideBar extends Component {\r\n    // *********************Objectives***********************\r\n    // 1. handle errors particularly\r\n    state = {\r\n        studentID: \"\",\r\n        password: \"\",\r\n        loading: false,\r\n    };\r\n\r\n    onSignInSubmitted = async (event) => {\r\n        event.preventDefault();\r\n        this.setState({ loading: true });\r\n        const { studentID, password } = this.state;\r\n        const user = { studentID: Number(studentID), password };\r\n        try {\r\n            const { status, data } = await userServices.signIn(user);\r\n            if (status === Configs.Status.Successful) {\r\n                userServices.saveUser(data.userID, data.token);\r\n                this.props.history.replace(\"/\");\r\n            }\r\n        } catch (err) {\r\n            // check nonserver errors\r\n            // console.log(err);\r\n            this.setState({ password: \"\" });\r\n            if (!Configs.Status.isErrorExpected(err))\r\n                toast.error(\r\n                    \".ورود با مشکل رو به رو شد. لطفا دوباره تلاش کتنید.\",\r\n                    { position: \"top-left\", closeOnClick: true }\r\n                );\r\n        }\r\n        this.setState({ loading: false });\r\n    };\r\n\r\n    render() {\r\n        const { studentID, password, loading } = this.state;\r\n        return (\r\n            <Card border=\"primary\" className=\"signInSidebar\">\r\n                <Card.Header\r\n                    border=\"primary\"\r\n                    className=\"text-center text-primary\">\r\n                    ورود کاربران\r\n                </Card.Header>\r\n                <LoadingBar loading={loading} />\r\n                <Card.Body className=\"text-primary\">\r\n                    <Form onSubmit={(event) => this.onSignInSubmitted(event)} >\r\n                        <Form.Control\r\n                            type=\"text\"\r\n                            autoComplete=\"username\"\r\n                            className=\"signInSidebarTextBox\"\r\n                            placeholder=\"شماره دانشجویی\"\r\n                            value={studentID}\r\n                            onChange={(e) =>\r\n                                this.setState({ studentID: e.target.value })\r\n                            }\r\n                        />\r\n                        <br />\r\n                        <Form.Control\r\n                            type=\"password\"\r\n                            autoComplete=\"current-password\"\r\n                            className=\"signInSidebarTextBox\"\r\n                            placeholder=\"رمز عبور\"\r\n                            value={password}\r\n                            onChange={(e) =>\r\n                                this.setState({ password: e.target.value })\r\n                            }\r\n                        />\r\n                        <br />\r\n                        <Card.Footer className=\"bg-transparent border-primary\">\r\n                            <Row>\r\n                                <Col>\r\n                                    <Button\r\n                                        id=\"btnSideBarSignIn\"\r\n                                        type=\"submit\"\r\n                                        variant=\"success\"\r\n                                        className=\"h-100\">\r\n                                        <i\r\n                                            className=\"fa fa-sign-in px-3\"\r\n                                            aria-hidden=\"true\"></i>\r\n                                        ورود\r\n                                    </Button>\r\n                                </Col>\r\n                                <Col>\r\n                                    <Button\r\n                                        id=\"btnSideBarPasswordRecovery\"\r\n                                        className=\"h-100\"\r\n                                        variant=\"warning\">\r\n                                        <i\r\n                                            className=\"fa fa-recycle px-3\"\r\n                                            aria-hidden=\"true\"></i>\r\n                                        بازیابی پسورد\r\n                                    </Button>\r\n                                </Col>\r\n                            </Row>\r\n                        </Card.Footer>\r\n                    </Form>\r\n                </Card.Body>\r\n            </Card>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(SignInSideBar);\r\n","import http from \"./httpService\";\r\nimport { Routes } from \"../configs\";\r\n\r\nconst {Server} = Routes;\r\nconst noticeServices = {\r\n    createNotice: (notice) => {\r\n        return http.post(\r\n            `${Server.Root}/${Server.Notices}/${Server.NoticeManagement}`,\r\n            JSON.stringify(notice)\r\n        );\r\n    },\r\n    getAdvancedNotics: () => { //returns all notices with complete data esp. with ID\r\n        return http.get(\r\n            `${Server.Root}/${Server.Notices}/${Server.NoticeManagement}`\r\n        );\r\n    },\r\n    getShortNotices: () => {\r\n        return http.get(`${Server.Root}/${Server.Notices}`);\r\n    },\r\n    editNotice: (noticeID, notice) => {\r\n        return http.put(\r\n            `${Server.Root}/${Server.Notices}/${Server.NoticeManagement}/${noticeID}`,\r\n            JSON.stringify(notice)\r\n        );\r\n    }\r\n};\r\n\r\nexport default noticeServices;\r\n","import \"./sidebars.css\";\r\nimport { Fragment, useEffect, useState } from \"react\";\r\nimport noticeServices from \"../services/http/noticeServices\";\r\nimport Configs from \"../services/configs\";\r\nimport { Alert, Card } from \"react-bootstrap\";\r\n\r\nconst NoticeSideBar = () => {\r\n    const [notices, setNotices] = useState([]);\r\n\r\n    // oncomponentMount or update\r\n    useEffect(() => {\r\n        (async () => {\r\n            try {\r\n                const { status, data } =\r\n                    await noticeServices.getShortNotices();\r\n                if (status === Configs.Status.Successful) {\r\n                    //return data.notices;\r\n                    if (data.notices.length) setNotices(data.notices.reverse());\r\n                    //if all is empty\r\n                    else\r\n                        setNotices([\r\n                            { title: \"پیام\", text: \"اطلاعیه جدیدی وجود ندارد\" },\r\n                        ]);\r\n                }\r\n            } catch (err) {\r\n                setNotices([\r\n                    {\r\n                        title: \"خطا\",\r\n                        text: \"...مشکلی حین بارگذاری اطلاعیه ها پیش آمد. دوباره امتحان کنید\",\r\n                    },\r\n                ]);\r\n            }\r\n        })();\r\n    }, []);\r\n\r\n    return (\r\n        <Card className=\"noticeSidebar\" border=\"success\">\r\n            <Card.Header className=\"text-center text-success\">\r\n                اطلاعیه ها\r\n            </Card.Header>\r\n            <Card.Body className=\"text-right\">\r\n                {notices.map((notice) => {\r\n                    return (\r\n                        <Fragment>\r\n                            <Alert variant=\"info\">\r\n                                <i\r\n                                    className=\"fa fa-info-circle px-3\"\r\n                                    aria-hidden=\"true\"></i>\r\n                                <span\r\n                                    style={{ color: \"red\", fontSize: \"18px\" }}>\r\n                                    {notice.title}\r\n                                </span>\r\n                                : {notice.text}\r\n                            </Alert>\r\n                            <hr />\r\n                        </Fragment>\r\n                    );\r\n                })}\r\n            </Card.Body>\r\n        </Card>\r\n    );\r\n};\r\n\r\nexport default NoticeSideBar;\r\n","export default __webpack_public_path__ + \"static/media/no-avatar.5e7c913e.png\";","import { Badge, Card, Col, ListGroup, Row } from \"react-bootstrap\";\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst OnlineStatistics = () => {\r\n    const {players, games} = useSelector((state) => state.statistics);\r\n    return (\r\n        <ListGroup className=\"list-group list-group-flush\">\r\n            <ListGroup.Item className=\"bg-transparent\">\r\n                <Row>\r\n                    <Col>\r\n                        <Card.Text className=\"text-center\">\r\n                            <i\r\n                                className=\"fa fa-wifi px-2\"\r\n                                aria-hidden=\"true\"></i>\r\n                            کاربران آنلاین\r\n                        </Card.Text>\r\n                    </Col>\r\n                    <Col>\r\n                        <Badge className=\"badgeFontSize\" variant=\"success\" pill>\r\n                            {players}\r\n                        </Badge>\r\n                    </Col>\r\n                </Row>\r\n            </ListGroup.Item>\r\n            <ListGroup.Item className=\"bg-transparent\">\r\n                <Row>\r\n                    <Col>\r\n                        <Card.Text className=\"text-center\">\r\n                            <i\r\n                                className=\"fa fa-gamepad px-2\"\r\n                                aria-hidden=\"true\"></i>\r\n                            بازی های فعال\r\n                        </Card.Text>\r\n                    </Col>\r\n                    <Col>\r\n                        <Badge className=\"badgeFontSize\" variant=\"success\" pill>\r\n                            {games}\r\n                        </Badge>\r\n\r\n                    </Col>\r\n                </Row>\r\n            </ListGroup.Item>\r\n        </ListGroup>\r\n    );\r\n};\r\n\r\nexport default OnlineStatistics;\r\n","export const LoadMe = (player) => ({\r\n    type: \"LOAD_ME\",\r\n    payload: player,\r\n});\r\n\r\nexport const UpdateMyRecords = () => ({\r\n    type: \"UPDATE_ME\",\r\n});\r\n\r\nexport const TriggerRecordUpdate = () => ({\r\n    type: \"TRIGGER_UPDATE\",\r\n});\r\n\r\nexport const SignOut = () => ({\r\n    type: \"SIGN_OUT\",\r\n});\r\n\r\nexport const LoadOpponent = (opponent) => ({\r\n    type: \"LOAD_OPPONENT\",\r\n    payload: opponent,\r\n});\r\n\r\nexport const ResetOpponent = () => ({\r\n    type: \"RESET_OPPONENT\",\r\n});\r\n\r\nexport const SetRoom = (room) => ({\r\n    type: \"SET_ROOM\",\r\n    payload: room,\r\n});\r\nexport const ResetRoom = () => ({\r\n    type: \"RESET_ROOM\",\r\n});\r\nexport const SetGameID = (gameID) => ({\r\n    type: \"SET_GAME_ID\",\r\n    payload: gameID,\r\n});\r\n\r\nexport const UpdateScoreboard = (details) => ({\r\n    type: \"UPDATE_SCOREBOARD\",\r\n    payload: details,\r\n});\r\n\r\nexport const CleanScoreboard = () => ({\r\n    type: \"CLEAN_SCOREBOARD\",\r\n});\r\n\r\nexport const UpdateStatistics = (statistics) => ({\r\n    type: \"UPDATE_STATISTICS\",\r\n    payload: statistics,\r\n});\r\n\r\nexport const TriggerOpponentSearch = () => ({\r\n    type: \"TRIGGER_OPPONENT_SEARCH\"\r\n})\r\n\r\nexport const SendFriendRequestTo = (targetID) => ({\r\n    type: \"SEND_FRIEND_REQUEST\",\r\n    payload: targetID\r\n})\r\n\r\nexport const SendMessageTo = (name, friendID, text) => ({\r\n    type: \"SEND_MESSAGE\",\r\n    payload: { name, friendID, text }\r\n});\r\n\r\nexport const RecieveMessageFrom = (name, friendID, text) => ({\r\n    type: \"RECIEVE_MESSAGE\",\r\n    payload: { name, friendID, text }\r\n});\r\n\r\nexport const ResetMessages = () => ({\r\n    type: \"RESET_MESSAGES\"\r\n});\r\n\r\nexport const SetDeviceType = (Type) => ({\r\n    type: \"SET_DEVICE\",\r\n    payload: Type\r\n});","import { Alert, Button, Form, Row, InputGroup } from \"react-bootstrap\";\r\nimport {  useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { SendMessageTo } from \"../dashboard/actions\";\r\n\r\nconst GameChatRoom = ({ friendID }) => {\r\n    const [myMessage, setMyMessage] = useState(null);\r\n    const message = useSelector((state) => state.message);\r\n    const dispatch = useDispatch();\r\n    const me = useSelector((state) => state.player);\r\n\r\n    const composeMessage = (event) => {\r\n        event.preventDefault();\r\n        dispatch(SendMessageTo(me.fullname, friendID, myMessage));\r\n    };\r\n\r\n    return (\r\n        <Form onSubmit={(event) => composeMessage(event)}>\r\n            <Row className=\"w-100 mt-3 mx-auto\">\r\n                <Alert className=\"w-100 text-right\" variant=\"info\">\r\n                    {message.recieved ? message.recieved.text : null}\r\n                </Alert>\r\n            </Row>\r\n            <Row className=\"w-100 mx-auto mb-3\">\r\n                <InputGroup className=\"w-100\">\r\n                    <InputGroup.Prepend style={{ width: \"10%\" }}>\r\n                        <Button\r\n                            type=\"submit\"\r\n                            className=\"mx-auto\"\r\n                            variant=\"outline-info\">\r\n                            <i\r\n                                className=\"fa fa-paper-plane\"\r\n                                aria-hidden=\"true\"></i>\r\n                        </Button>\r\n                    </InputGroup.Prepend>\r\n\r\n                    <InputGroup.Prepend style={{ width: \"90%\" }}>\r\n                        <Form.Control\r\n                            placeholder=\"پیام...\"\r\n                            value={myMessage}\r\n                            onChange={(e) => setMyMessage(e.target.value)}\r\n                            className=\"text-right\"></Form.Control>\r\n                    </InputGroup.Prepend>\r\n                </InputGroup>\r\n            </Row>\r\n        </Form>\r\n    );\r\n};\r\n\r\nexport default GameChatRoom;\r\n","import noAvatar from \"./no-avatar.png\"; // definitely must be changed bro!\r\nimport {\r\n    Card,\r\n    Row,\r\n    Col,\r\n    Alert,\r\n    Badge,\r\n    Image,\r\n    ListGroup,\r\n    Button,\r\n} from \"react-bootstrap\";\r\nimport OnlineStatistics from \"./OnlineStatistics\";\r\nimport { SendFriendRequestTo } from \"../dashboard/actions\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { useEffect, useState } from \"react\";\r\nimport userServices from \"./../services/http/userServices\";\r\nimport Configs from \"../services/configs\";\r\nimport GameChatRoom from \"../chat/GameChatRoom\";\r\n\r\nconst PlayerInfoSideBar = (props) => {\r\n    const { inGame } = props;\r\n    const me = useSelector((state) => state.player);\r\n    const person = props.person ? props.person : me;\r\n    const dispatch = useDispatch();\r\n    const [personIsFriend, setPersonIsFriend] = useState(false);\r\n\r\n    const onFriendRequestClick = (event) => {\r\n        event.target.innerHTML = \"ارسال شد...\";\r\n        event.target.disabled = true;\r\n        dispatch(SendFriendRequestTo(person.userID));\r\n    };\r\n    useEffect(() => {\r\n        if (person.userID !== me.userID) {\r\n            (async () => {\r\n                try {\r\n                    const { status, data } = await userServices.isMyFriend(\r\n                        person.userID\r\n                    );\r\n                    if (status === Configs.Status.Successful) {\r\n                        setPersonIsFriend(data.isFriend);\r\n                    }\r\n                } catch (err) {\r\n                    // handle error.\r\n                    console.log(err);\r\n                }\r\n            })();\r\n        }\r\n    }, [person, me]);\r\n    return (\r\n        <Card border=\"info\" className=\"playerInfoSideBar\">\r\n            <Card.Header className=\"text-center text-info form-inline\">\r\n                <Col>\r\n                    <Card.Text className=\"text-left\">{person.fullname}</Card.Text>\r\n                </Col>\r\n                <Col>\r\n                    <Image\r\n                        className=\"card-img-top playerAvatar\"\r\n                        src={noAvatar}\r\n                        alt=\"مشکلی در بارگذاری تصویر پیش آمد\"\r\n                    />\r\n                </Col>\r\n            </Card.Header>\r\n\r\n            <Card.Body>\r\n                <ListGroup className=\"list-group list-group-flush\">\r\n                    {inGame && (\r\n                        <ListGroup.Item>\r\n                            <Alert\r\n                                variant={inGame.index ? \"danger\" : \"primary\"}>\r\n                                <Alert.Heading className=\"text-center\">\r\n                                    {inGame.score} : {inGame.shape}\r\n                                </Alert.Heading>\r\n                            </Alert>\r\n                        </ListGroup.Item>\r\n                    )}\r\n                    <ListGroup.Item>\r\n                        <Row>\r\n                            <Col className=\"text-right\">\r\n                                <Card.Text>امتیاز بازیکن</Card.Text>\r\n                            </Col>\r\n                            <Col className=\"text-left\">\r\n                                <Badge\r\n                                    className=\"badgeFontSize\"\r\n                                    pill\r\n                                    variant=\"primary\">\r\n                                    {person.records.points}\r\n                                </Badge>\r\n                            </Col>\r\n                        </Row>\r\n                    </ListGroup.Item>\r\n                    <ListGroup.Item>\r\n                        <Row>\r\n                            <Col className=\"text-right\">\r\n                                <Card.Text>تعداد بردها</Card.Text>\r\n                            </Col>\r\n                            <Col className=\"text-left\">\r\n                                <Badge\r\n                                    className=\"badgeFontSize\"\r\n                                    pill\r\n                                    variant=\"primary\">\r\n                                    {person.records.wins}\r\n                                </Badge>\r\n                            </Col>\r\n                        </Row>\r\n                    </ListGroup.Item>\r\n                    <ListGroup.Item>\r\n                        <Row>\r\n                            <Col className=\"text-right\">تعداد تساوی ها</Col>\r\n                            <Col className=\"text-left\">\r\n                                <Badge\r\n                                    className=\"badgeFontSize\"\r\n                                    pill\r\n                                    variant=\"primary\">\r\n                                    {person.records.draws}\r\n                                </Badge>\r\n                            </Col>\r\n                        </Row>\r\n                    </ListGroup.Item>\r\n                    <ListGroup.Item>\r\n                        <Row>\r\n                            <Col className=\"text-right\">تعداد باخت ها</Col>\r\n                            <Col className=\"text-left\">\r\n                                <Badge\r\n                                    className=\"badgeFontSize\"\r\n                                    pill\r\n                                    variant=\"primary\">\r\n                                    {person.records.loses}\r\n                                </Badge>\r\n                            </Col>\r\n                        </Row>\r\n                    </ListGroup.Item>\r\n                </ListGroup>\r\n            </Card.Body>\r\n            <Card.Footer>\r\n                {me === person ? (\r\n                    <OnlineStatistics />\r\n                ) : personIsFriend ? (\r\n                    <GameChatRoom friendID={person.userID} />\r\n                ) : (\r\n                    <Button\r\n                        variant={\"outline-info\"}\r\n                        block\r\n                        onClick={(event) => onFriendRequestClick(event)}>\r\n                        <i\r\n                            className=\"fa fa-handshake-o px-2\"\r\n                            aria-hidden=\"true\"></i>\r\n                        درخواست دوستی\r\n                    </Button>\r\n                )}\r\n            </Card.Footer>\r\n        </Card>\r\n    );\r\n};\r\n\r\nexport default PlayerInfoSideBar;\r\n","import { NavLink } from \"react-router-dom\";\r\nimport { Button, Row } from \"react-bootstrap\";\r\nimport \"./profile.css\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { SignOut } from \"../dashboard/actions\";\r\nimport { withRouter } from \"react-router\";\r\nimport { Fragment } from \"react\";\r\nimport Configs from \"../services/configs\";\r\n\r\nconst ProfilePanel = (props) => {\r\n    const player = useSelector((state) => state.player);\r\n    const dispatch = useDispatch();\r\n\r\n    const signMeOut = () => {\r\n        dispatch(SignOut());\r\n        props.history.replace(\"/\"); //what the f is wrong\r\n    };\r\n\r\n    return (\r\n        <Row //bg-transparent\r\n            className=\"panelSideBar mt-2 bg-dark text-right d-flex flex-column mx-auto flex-shrink-0 p-3\">\r\n            <NavLink\r\n                to={Configs.Routes.Client.Profile}\r\n                className=\"d-flex align-items-center mb-3 mb-md-0 me-md-auto link-dark text-decoration-none\">\r\n                <svg className=\"bi me-2\" width=\"40\" height=\"32\"></svg>\r\n                <span className=\"fs-4\">\r\n                    <i className=\"fa fa-cogs px-2\" aria-hidden=\"true\"></i>\r\n                    پنل کاربری\r\n                </span>\r\n            </NavLink>\r\n            <hr />\r\n            <ul className=\"nav nav-pills flex-column mb-auto\">\r\n                <li className=\"nav-item\">\r\n                    <NavLink\r\n                        exact\r\n                        to={Configs.Routes.Client.Profile}\r\n                        className=\"nav-link\"\r\n                        aria-current=\"page\">\r\n                        <i className=\"fa fa-user-o px-3\" aria-hidden=\"true\"></i>\r\n                        مشخصات\r\n                    </NavLink>\r\n                </li>\r\n                <li>\r\n                    <NavLink\r\n                        className=\"nav-link link-dark\"\r\n                        to={Configs.Routes.Client.MyGamesAndFriends}>\r\n                        <i className=\"fa fa-users px-3\" aria-hidden=\"true\"></i>\r\n                        دوستان و بازی ها\r\n                    </NavLink>\r\n                </li>\r\n                <li>\r\n                    <NavLink\r\n                        className=\"nav-link link-dark\"\r\n                        to={Configs.Routes.Client.ChatRoom}>\r\n                        <i className=\"fa fa-users px-3\" aria-hidden=\"true\"></i>\r\n                        چت روم\r\n                    </NavLink>\r\n                </li>\r\n                <hr />\r\n                {player && player.isAdmin && (\r\n                    <Fragment>\r\n                        {/* admin tools */}\r\n                        <li>\r\n                            <NavLink\r\n                                className=\"nav-link link-dark\"\r\n                                to={Configs.Routes.Client.Notices}>\r\n                                <i\r\n                                    className=\"fa fa-newspaper-o px-3\"\r\n                                    aria-hidden=\"true\"></i>\r\n                                اطلاعیه ها\r\n                            </NavLink>\r\n                        </li>\r\n                        <li>\r\n                            <NavLink\r\n                                className=\"nav-link link-dark\"\r\n                                to=\"/controlPanel/admin/whatever\">\r\n                                <svg\r\n                                    className=\"bi me-2\"\r\n                                    width=\"16\"\r\n                                    height=\"16\"></svg>\r\n                                امکانات ادمین\r\n                            </NavLink>\r\n                        </li>\r\n                    </Fragment>\r\n                )}\r\n            </ul>\r\n            <hr />\r\n            <Button variant=\"outline-danger\" onClick={signMeOut}>\r\n                <i className=\"fa fa-sign-out px-3\" aria-hidden=\"true\"></i>\r\n                خروج از حساب کاربری\r\n            </Button>\r\n        </Row>\r\n    );\r\n};\r\n\r\nexport default withRouter(ProfilePanel);\r\n","import { Routes } from \"../configs\";\r\nimport { useCallback, useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useEffect } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport {\r\n    TriggerOpponentSearch,\r\n    UpdateStatistics,\r\n    SetRoom,\r\n    SendFriendRequestTo,\r\n    RecieveMessageFrom,\r\n    ResetMessages,\r\n} from \"../../dashboard/actions\";\r\nimport { Modal, Button, Row, Col, Badge } from \"react-bootstrap\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nconst GlobalSocketManager = () => {\r\n    // I actually used .jsx format to make this Component EventBased\r\n    // On Each event called socket will do some specific operation\r\n    // events are actually useEffects bound to special state changes\r\n    const [socketGlobal, setSocketGlobal] = useState(null);\r\n    const [incommingFriendRequest, setIncommingFriendRequest] = useState(null);\r\n    const [showFriendshipModal, setShowFriendshipModal] = useState(false);\r\n    const player = useSelector((state) => state.player);\r\n    const opponent = useSelector((state) => state.opponent);\r\n    const tools = useSelector((state) => state.tools);\r\n    const room = useSelector((state) => state.room);\r\n    const message = useSelector((state) => state.message);\r\n    const [clientOnline, toggleClientOnline] = useState(true);\r\n    const dispatch = useDispatch();\r\n\r\n    const enableGlobalTimer = useCallback(() => {\r\n        return setInterval(() => {\r\n            \r\n            if (socketGlobal){\r\n                console.log(\"updating statistics...\");\r\n                socketGlobal.send(\r\n                    JSON.stringify({\r\n                        request: \"online\",\r\n                        clientID: player.userID,\r\n                        msg: null,\r\n                    })\r\n                );}\r\n        }, 300000); // every 5 MINUTES request number of online members to update the site\r\n    }, [socketGlobal, player]);\r\n    \r\n    useEffect(() => {\r\n        console.log(\"global timer enabled\");\r\n        const timerID = enableGlobalTimer();\r\n\r\n        return () => {\r\n            console.log(\"global timer disabled\");\r\n            clearInterval(timerID);\r\n        }\r\n    }, [enableGlobalTimer]);\r\n\r\n    const connect = useCallback(() => {\r\n        return new Promise((resolve, reject) => {\r\n            var socket = new WebSocket(\r\n                `${Routes.Server.WebSocketRoot}/${Routes.Server.wsGlobalRoute}`\r\n            );\r\n            socket.onopen = () => {\r\n                socket.send(\r\n                    JSON.stringify({\r\n                        request: \"online\",\r\n                        clientID: player.userID,\r\n                        msg: null,\r\n                    })\r\n                ); //temp\r\n                resolve(socket);\r\n            };\r\n\r\n            socket.onmessage = (response) => {\r\n                const { data } = response;\r\n                const { command, msg } = JSON.parse(data);\r\n                switch (command) {\r\n                    case \"ONLINE\": {\r\n                        const { players, games } = msg;\r\n                        dispatch(\r\n                            UpdateStatistics({\r\n                                players,\r\n                                games,\r\n                            })\r\n                        ); //playing temp\r\n                        break;\r\n                    }\r\n                    case \"ENTER_ROOM\": {\r\n                        if (msg) {\r\n                            console.log(\"your room\", msg);\r\n                            dispatch(SetRoom(msg));\r\n                            socket.send(\r\n                                JSON.stringify({\r\n                                    request: \"online\",\r\n                                    clientID: player.userID,\r\n                                    msg: null,\r\n                                })\r\n                            );\r\n                        } else {\r\n                            //search again 5s later\r\n                            // **********************\r\n                            //time out must be set with rising time out time to prevent server getting fucked up\r\n                            setTimeout(() => {\r\n                                dispatch(TriggerOpponentSearch());\r\n                            }, 5000);\r\n                        }\r\n                        break;\r\n                    }\r\n                    case \"FRIENDSHIP_REQUEST\": {\r\n                        if (msg.askerID === opponent.userID) {\r\n                            //if both players are in game then ask immidiately\r\n                            setIncommingFriendRequest(msg);\r\n                            setShowFriendshipModal(true);\r\n                        } else {\r\n                            //if the friend request is comming from some one else then manage it differently\r\n                            //...\r\n                        }\r\n                        break;\r\n                    }\r\n                    case \"FRIENDSHIP_RESPONSE\": {\r\n                        const { answer, targetName } = msg;\r\n                        //if(answer) dispatch(TriggerRecordUpdate());\r\n                        toast.warning(\r\n                            `کاربر ${targetName} درخواست دوستی شما را ${\r\n                                answer ? \"پذیرفت\" : \"رد کرد\"\r\n                            }`\r\n                        );\r\n                        dispatch(SendFriendRequestTo(null));\r\n                        break;\r\n                    }\r\n                    case \"CHAT\": {\r\n                        dispatch(\r\n                            RecieveMessageFrom(msg.name, msg.friendID, msg.text)\r\n                        );\r\n                        break;\r\n                    }\r\n                    default: {\r\n                        //... whatever\r\n                        break;\r\n                    }\r\n                }\r\n                resolve(socket);\r\n            };\r\n\r\n            socket.onerror = (error) => {\r\n                // console.log(`WebSocket error: ${error}`);\r\n                socket.close();\r\n                reject(error);\r\n            };\r\n\r\n            socket.onclose = () => {\r\n                // reconnectr or what?\r\n                console.log(\"Reconnecting in  5 seconds\");\r\n                setTimeout(() => {\r\n                    (async () => {\r\n                        try {\r\n                            console.log(\"global socket online request\");\r\n                            let socket = player ? await connect() : null;\r\n                            setSocketGlobal(socket);\r\n                        } catch (err) {\r\n                            console.log(err);\r\n                        }\r\n                    })();\r\n                }, 5000);\r\n                resolve(null);\r\n                // this part needs editing ? maybe not\r\n            };\r\n        });\r\n    }, [dispatch, opponent, player]);\r\n\r\n    // EVENT NAME: PlayerUpdateEvent\r\n    // happens when player sign in status changes => set ups global socket connection and then if signed in=> reads number of online users in page\r\n    useEffect(() => {\r\n        if (clientOnline && player) {\r\n            (async () => {\r\n                try {\r\n                    console.log(\"global socket online request\");\r\n                    let socket = player ? await connect() : null;\r\n                    setSocketGlobal(socket);\r\n                } catch (err) {\r\n                    console.log(err);\r\n                }\r\n            })();\r\n        }\r\n    }, [clientOnline, player, connect]);\r\n\r\n    // EVENT NAME: RandomGameInitiated Event\r\n    // happens when user clicks on 'Random Game\" Tab search button => sends opponent search request to server\r\n    useEffect(() => {\r\n        if (room.type) {\r\n            //is it necessary?\r\n            //completely making sure we're on right stage\r\n            if (!room.name && socketGlobal && player)\r\n                socketGlobal.send(\r\n                    JSON.stringify({\r\n                        request: \"find\",\r\n                        clientID: player.userID,\r\n                        msg: room.type,\r\n                    })\r\n                );\r\n        } else if (!room.name) {\r\n            //room --> {null,null} --> means room has been reset hand u need to remove\r\n            if (socketGlobal)\r\n                socketGlobal.send(\r\n                    JSON.stringify({\r\n                        request: \"close_game\",\r\n                        clientID: player.userID,\r\n                        msg: null,\r\n                    })\r\n                );\r\n        }\r\n    }, [player, room, tools.opponentSearchTriggered, socketGlobal]);\r\n\r\n    useEffect(() => {\r\n        if (tools.friendRequest) {\r\n            //tools.friendRequest either contains null => no request, or contains target ID for friendship\r\n            socketGlobal.send(\r\n                JSON.stringify({\r\n                    request: \"ask_friendship\",\r\n                    clientID: player.userID,\r\n                    msg: {\r\n                        targetID: tools.friendRequest,\r\n                        askerName: player.fullname,\r\n                    },\r\n                })\r\n            );\r\n        }\r\n    }, [tools.friendRequest, socketGlobal, player]);\r\n\r\n    const respondToFriendshipRequest = (answer) => {\r\n        // handle multiple requests *************\r\n        socketGlobal.send(\r\n            JSON.stringify({\r\n                request: \"respond_friendship\",\r\n                clientID: player.userID,\r\n                msg: {\r\n                    answer,\r\n                    targetName: player.fullname,\r\n                    askerID: incommingFriendRequest.askerID,\r\n                },\r\n            })\r\n        );\r\n        // if(answer) dispatch(TriggerRecordUpdate());\r\n        setShowFriendshipModal(false);\r\n        setIncommingFriendRequest(null);\r\n        dispatch(SendFriendRequestTo(null)); //reset friend request targetID to prevent any future problm\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (message.sent) {\r\n            //if destination is determined, otherwise => means no message has been sent\r\n            socketGlobal.send(\r\n                JSON.stringify({\r\n                    request: \"chat\",\r\n                    clientID: player.userID,\r\n                    msg: message.sent,\r\n                })\r\n            );\r\n            console.log(\"sent: \" + message.sent.text);\r\n            dispatch(ResetMessages());\r\n        }\r\n    }, [player, message, socketGlobal, dispatch]);\r\n\r\n    // if online status changes\r\n    setInterval(() => {\r\n        if (window.navigator.onLine) {\r\n            //client online\r\n            if (!clientOnline)\r\n                //this means -> client JUST became online\r\n                toggleClientOnline(true); //change connection status\r\n        } else {\r\n            // clients offline\r\n            if (clientOnline)\r\n                //this means -> client JUST became offline now\r\n                toggleClientOnline(false); //change connection status\r\n        }\r\n    }, 5000);\r\n\r\n    \r\n    // is it really necessary though ?????\r\n\r\n    return (\r\n        //this is just for firendship request in games\r\n        <Modal\r\n            show={showFriendshipModal}\r\n            onHide={() => respondToFriendshipRequest(false)}>\r\n            <Modal.Header closeButton />\r\n            <Modal.Body className=\"text-right\">\r\n                <p>\r\n                    {!incommingFriendRequest ? null : (\r\n                        <Badge\r\n                            style={{ fontSize: \"18px\", margin: \"2%\" }}\r\n                            pill\r\n                            variant=\"warning\">\r\n                            {incommingFriendRequest.askerName}\r\n                        </Badge>\r\n                    )}\r\n                    به شما پیشنهاد دوستی داده است.\r\n                </p>\r\n                <p>اگر تمایل به دوستی ندارید میتواند درخواست را رد کنید.</p>\r\n            </Modal.Body>\r\n            <Modal.Footer className=\"w-100 text-right\">\r\n                <Row className=\"w-100\">\r\n                    <Col>\r\n                        <Button\r\n                            variant=\"success\"\r\n                            block\r\n                            onClick={() => respondToFriendshipRequest(true)}>\r\n                            پذیرفتن\r\n                        </Button>\r\n                    </Col>\r\n                    <Col>\r\n                        <Button\r\n                            block\r\n                            variant=\"danger\"\r\n                            onClick={() => respondToFriendshipRequest(false)}>\r\n                            رد\r\n                        </Button>\r\n                    </Col>\r\n                </Row>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    );\r\n};\r\n\r\nexport default GlobalSocketManager;\r\n","import { ToastContainer } from \"react-toastify\";\r\nimport NavigationBar from \"./NavigationBar\";\r\nimport SignInSideBar from \"./../sidebars/SignInSideBar\";\r\nimport NoticeSideBar from \"../sidebars/NoticeSideBar\";\r\nimport { withRouter } from \"react-router\";\r\nimport { useMediaQuery } from \"react-responsive\";\r\nimport PlayerInfoSideBar from \"../sidebars/PlayerInfoSideBar\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { LoadMe, SetDeviceType, SignOut, UpdateMyRecords } from \"../dashboard/actions\";\r\nimport { Fragment } from \"react\";\r\nimport userServices from \"../services/http/userServices\";\r\nimport gameServices from \"../services/http/gameServices\";\r\nimport { Col, Container, Row } from \"react-bootstrap\";\r\nimport ProfilePanel from \"../profile/ProfilePanel\";\r\nimport { useEffect } from \"react\";\r\nimport GlobalSocketManager from \"../services/ws/GlobalSocketManager\";\r\nimport {Routes, Device} from '../services/configs';\r\n\r\nconst MainLayout = (props) => {\r\n    const { pathname } = props.location;\r\n    //redux\r\n    const player = useSelector((state) => state.player);\r\n    const tools = useSelector((state) => state.tools); //redux useful tools: like trigger update\r\n    const opponent = useSelector((state) => state.opponent);\r\n    const scoreboard = useSelector((state) => state.scoreboard);\r\n    const dispatch = useDispatch();\r\n\r\n    const deviceIsDesktop = useMediaQuery({ query: \"(min-width: 1200px)\" });\r\n    const deviceIsSmartPhone = useMediaQuery({ query: \"(max-width: 768px)\" });\r\n    const deviceIsTablet =\r\n        !deviceIsDesktop && !deviceIsSmartPhone;\r\n    if(deviceIsDesktop) dispatch(SetDeviceType(Device.Desktop));\r\n    else if(deviceIsTablet) dispatch(SetDeviceType(Device.Tablet));\r\n    else if(deviceIsSmartPhone) dispatch(SetDeviceType(Device.SmartPhone));\r\n    \r\n    /*this method is for temporary use and for finding items that cause horizontal overflow causing horizontal scrollbar\r\n    const findHorizontalOverflow = () => {\r\n        let docWidth = document.documentElement.offsetWidth;\r\n        [].forEach.call(document.querySelectorAll(\"*\"), function (el) {\r\n            if (el.offsetWidth > docWidth) {\r\n                console.log(\"here is the sabotage: \", el);\r\n            }\r\n        });\r\n    };*/\r\n\r\n    //load player data after sign in\r\n    const userID = userServices.readUserID();\r\n    useEffect(() => {\r\n        dispatch(UpdateMyRecords());\r\n    }, [tools.updateTriggered, dispatch]);\r\n    if (userID && !player) {\r\n        console.log(\"auth called\");\r\n        gameServices\r\n            .loadPlayerData(userID)\r\n            .then((result) => {\r\n                dispatch(LoadMe(result ? result : null));\r\n            })\r\n            .catch((err) => {\r\n                dispatch(LoadMe(null));\r\n            });\r\n    } else if (player && !userID) {\r\n        //still doesnt log out completely automatic:\r\n        //how to sign out after token expires?\r\n        dispatch(SignOut());\r\n    }\r\n    let pageLeftSideBar = <NoticeSideBar />;\r\n    let pageRightSideBar = player ? (\r\n        <PlayerInfoSideBar person={null} inGame={scoreboard.me} />\r\n    ) : (\r\n        <SignInSideBar />\r\n    ); // in case login hassnt been made\r\n\r\n    const inProfilePages = pathname.includes(Routes.Client.Profile);\r\n\r\n    if (pathname === Routes.Client.SignUp) pageLeftSideBar = pageRightSideBar = null;\r\n    else if (inProfilePages) {\r\n        pageLeftSideBar = null;\r\n        pageRightSideBar = !deviceIsSmartPhone ? <ProfilePanel /> : null; //for now profile panel is hidden in phone\r\n    } else if (pathname === Routes.Client.GameDeck) {\r\n        // left sidebar must be opponents playerInfo\r\n        if (opponent) {\r\n            pageLeftSideBar = (\r\n                <PlayerInfoSideBar person={opponent} inGame={scoreboard.opp} />\r\n            );\r\n        }\r\n        if (deviceIsSmartPhone) {\r\n            //this is temprory\r\n            // find a way for showing result in smartphone, without causing vertical scroll\r\n            pageLeftSideBar = null; //،ٍء\\\r\n            pageRightSideBar = null; // change then\r\n        }\r\n    }\r\n\r\n    // *******create independent components for each device****????\r\n    // socket global only renders when client is signed in\r\n    return (\r\n        <Fragment>\r\n            {player && <GlobalSocketManager />}\r\n            <ToastContainer />\r\n            <NavigationBar />\r\n            {deviceIsDesktop && (\r\n                <Row className=\"w-100 mx-auto\">\r\n                    {pageRightSideBar && <Col xs={3}>{pageRightSideBar}</Col>}\r\n                    <Col className=\"mx-auto\" xs={pathname !== Routes.Client.SignUp ? null : 7}>\r\n                        {props.children}\r\n                    </Col>\r\n                    {pageLeftSideBar && <Col xs={3}>{pageLeftSideBar}</Col>}\r\n                </Row>\r\n            )}\r\n            {deviceIsTablet && (\r\n                <Row className=\"w-100 mx-auto\">\r\n                    {pathname === Routes.Client.Profile && pageRightSideBar && (\r\n                        <Col xs={4}>{pageRightSideBar}</Col>\r\n                    )}\r\n                    <Col className=\"mx-auto\" xs={pathname !== Routes.Client.SignUp ? null : 7} >\r\n                        {props.children}\r\n                    </Col>\r\n                    {pageLeftSideBar && <Col xs={4}>{pageLeftSideBar}</Col>}\r\n                </Row>\r\n            )}\r\n            {deviceIsSmartPhone && (\r\n                <Container>\r\n                    {/* what to do for control panelk sidebar in smartphone */}\r\n                    {player ? (\r\n                        <Row className=\"w-100 mx-auto\">{pageRightSideBar}</Row>\r\n                    ) : null}\r\n                    <Row className=\"w-100 mx-auto\">{pageLeftSideBar}</Row>\r\n                    <Row className=\"w-100 mx-auto\">{props.children}</Row>\r\n                    \r\n                </Container>\r\n            )}\r\n        </Fragment>\r\n    );\r\n};\r\n\r\nexport default withRouter(MainLayout);\r\n","const SinglePlayerCard = ({rowNumber, name, points, wins, loses, draws }) => {\r\n    return (\r\n        <tr>\r\n            <th scope=\"row\">{rowNumber}</th>\r\n            <td>{name}</td>\r\n            <td>{points}</td>\r\n            <td>{wins}</td>\r\n            <td>{loses}</td>\r\n            <td>{draws}</td>\r\n        </tr>\r\n    );\r\n};\r\n\r\nexport default SinglePlayerCard;\r\n","import { Card } from \"react-bootstrap\";\r\nimport SinglePlayerCard from \"./SinglePlayerCard\";\r\n\r\nconst AllPlayers = ({ players }) => {\r\n    return (\r\n        \r\n        <Card border=\"dark\" style={{ width: \"100%\", borderRadius: \"5px\" }}>\r\n            <Card.Header className=\"text-center\">رده بندی</Card.Header>\r\n                <table className=\"table table-striped table-bordered table-hover text-center\">\r\n                    <thead className=\"bg-info\">\r\n                        <tr>\r\n                            <th scope=\"col\">#</th>\r\n                            <th scope=\"col\">نام بازیکن</th>\r\n                            <th scope=\"col\">امتیاز</th>\r\n                            <th scope=\"col\">تعداد برد</th>\r\n                            <th scope=\"col\">تعداد باخت</th>\r\n                            <th scope=\"col\">تعداد تساوی</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {players.map((player) => (\r\n                            <SinglePlayerCard\r\n                                key={player.userID}\r\n                                rowNumber={players.findIndex(p => p.userID === player.userID) + 1}\r\n                                name={player.fullname}\r\n                                points={player.records.points}\r\n                                wins={player.records.wins}\r\n                                loses={player.records.loses}\r\n                                draws={player.records.draws}\r\n                            ></SinglePlayerCard>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n        </Card>\r\n    );\r\n};\r\n\r\nexport default AllPlayers;\r\n","import { Component } from \"react\";\r\nimport AllPlayers from \"./AllPlayers\";\r\nimport userServices from \"../../services/http/userServices\";\r\nimport LoadingBar from \"../../common/LoadingBar\";\r\nimport Configs from '../../services/configs';\r\n\r\nclass Ranking extends Component {\r\n    state = { players: [], loading: false };\r\n\r\n    componentDidMount() {\r\n        (async () => {\r\n            this.setState({ loading: true });\r\n            const { data, status } = await userServices.getAllPlayers();\r\n            if (status === Configs.Status.Successful) return data.players;\r\n            return [];\r\n        })()\r\n            .then((result) => {\r\n                let tempPlayers = [...result];\r\n                this.setState({\r\n                    players: tempPlayers.sort( //sort priorities: 1. more points 2. more wins 3. less loses\r\n                        (p1, p2) =>\r\n                            p2.records.points - p1.records.points ||\r\n                            p2.records.wins - p1.records.wins ||\r\n                            p1.records.loses - p2.records.loses\r\n                    ),\r\n                    loading: false,\r\n                });\r\n            })\r\n            .catch((err) => {\r\n                //******* handle errors */\r\n                // console.log(err);\r\n                this.setState({ players: [], loading: false });\r\n            });\r\n    }\r\n    render() {\r\n        const { players, loading } = this.state;\r\n        return (\r\n            <div className=\"row mt-3\">\r\n                {loading ? <LoadingBar loading={loading} /> : null}\r\n                <div className=\"col-12\">\r\n                    <AllPlayers players={players} />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Ranking;\r\n","import {Routes} from '../configs';\r\n\r\nexport const createSocketRequest = (request, rname, playerID, msg) =>\r\n    JSON.stringify({\r\n        request,\r\n        rname,\r\n        playerID,\r\n        msg,\r\n    });\r\n\r\nexport const connect = (roomName, playerID, gameType) => {\r\n    return new Promise((resolve, reject) => {\r\n        var server = new WebSocket(`${Routes.Server.WebSocketRoot}/${Routes.Server.wsGamePlayRoute}`);\r\n        server.onopen = () => {\r\n            server.send(createSocketRequest(\"join\", roomName, playerID, gameType)); //temp\r\n            resolve(server);\r\n        };\r\n\r\n        server.onerror = (error) => {\r\n            // console.log(`WebSocket error: ${error}`);\r\n            server.close();\r\n            reject(error);\r\n        };\r\n\r\n        server.onclose = () => {\r\n            \r\n            resolve(null);\r\n            // this part needs editing ? maybe not\r\n        };\r\n    });\r\n};\r\n","//ONLY for class components: purpose: using redux in class components\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n    LoadMe,\r\n    UpdateMyRecords,\r\n    LoadOpponent,\r\n    ResetOpponent,\r\n    SetRoom,\r\n    SetGameID,\r\n    UpdateScoreboard,\r\n    CleanScoreboard,\r\n    ResetRoom,\r\n    TriggerRecordUpdate,\r\n    // UpdateStatistics,\r\n    // TriggerOpponentSearch,\r\n    // SendFriendRequestTo,\r\n    // SendMessageTo,\r\n    // RecieveMessageFrom,\r\n    // ResetMessages,\r\n    // SetDeviceType,\r\n} from \"./actions\";\r\n// ***** remove the ones that arent used in class components => for memory management/ not necessary though\r\n// useSelector for functional components\r\n// state==>props : redux\r\n\r\nfunction withReduxDashboard(component) {\r\n    const mapStateToProps = (state) => ({\r\n        player: state.player,\r\n        opponent: state.opponent,\r\n        room: state.room,\r\n        scoreboard: state.scoreboard,\r\n        tools: state.tools,\r\n    });\r\n\r\n    const mapDispatchToProps = (dispatch) => ({\r\n        LoadMe: (player) => dispatch(LoadMe(player)),\r\n        LoadOpponent: (opponent) => dispatch(LoadOpponent(opponent)),\r\n        UpdateMyRecords: () => dispatch(UpdateMyRecords()),\r\n        ResetOpponent: () => dispatch(ResetOpponent()),\r\n        SetRoom: (room) => dispatch(SetRoom(room)),\r\n        ResetRoom: () => dispatch(ResetRoom()),\r\n        SetGameID: (gameID) => dispatch(SetGameID(gameID)),\r\n        UpdateScoreboard: (details) => dispatch(UpdateScoreboard(details)),\r\n        CleanScoreboard: () => dispatch(CleanScoreboard()),\r\n        TriggerRecordUpdate: () => dispatch(TriggerRecordUpdate()),\r\n        //for memory managment these are commented because they arent used in Class Components yet\r\n        //UpdateStatistics: (stat) => dispatch(UpdateStatistics(stat)),\r\n        //TriggerOpponentSearch: () => dispatch(TriggerOpponentSearch()),\r\n        //SendFriendRequestTo: () => dispatch(SendFriendRequestTo()),\r\n        //SendMessageTo: (name, friendID, text) => dispatch(SendMessageTo(name, friendID, text)),\r\n        //RecieveMessageFrom: (name, friendID, text) => dispatch(RecieveMessageFrom(name, friendID, text)),\r\n        //ResetMessages: () => dispatch(ResetMessages())\r\n        //SetDeviceType: () => dispatch(SetDeviceType()),\r\n    });\r\n    return connect(mapStateToProps, mapDispatchToProps)(component);\r\n}\r\n\r\nexport default withReduxDashboard;\r\n// export const useDashboard = connect(mapStateToProps, mapDispatchToProps);\r\n","import { Card, Col, Row } from \"react-bootstrap\";\r\n\r\nconst BriefScoreboard = ({ timeRemaining, players }) => {\r\n    return (\r\n        <Card.Header className=\"w-100 text-center\">\r\n            <Row style={{ fontSize: \"20px\" }}>\r\n                <Col\r\n                    style={{\r\n                        textAlign: \"right\",\r\n                        color: players[1].color,\r\n                    }}>\r\n                    {players[1].shape} : {players[1].score}\r\n                </Col>\r\n                <Col>\r\n                    <Card.Text\r\n                        className={\r\n                            timeRemaining >= 10 ? \"text-success\" : \"text-danger\"\r\n                        }>\r\n                        {timeRemaining > 0 && <i\r\n                            className=\"fa fa-clock-o px-2\"\r\n                            aria-hidden=\"true\"></i>}\r\n                        {timeRemaining > 0 ? timeRemaining : \"نوبت حریف\"}\r\n                    </Card.Text>\r\n                </Col>\r\n                <Col\r\n                    style={{\r\n                        textAlign: \"left\",\r\n                        color: players[0].color,\r\n                    }}>\r\n                    {players[0].score} : {players[0].shape}\r\n                </Col>\r\n            </Row>\r\n        </Card.Header>\r\n    );\r\n};\r\n\r\nexport default BriefScoreboard;\r\n","import { Fragment } from \"react\";\r\nimport { Button, Card, Row } from \"react-bootstrap\";\r\nimport { GameSetting } from \"../../services/configs\";\r\nimport BriefScoreboard from \"./BriefScoreboard\";\r\nimport \"../games.css\";\r\n\r\nconst TableDesign = ({ timeRemaining, dimension, players, table, onEachCellClick }) => {\r\n    let dimens = [];\r\n    for (let i = 0; i < dimension; i++) dimens.push(i);\r\n\r\n    //prop drilling in BriefScoreBoard\r\n    return (\r\n        <Card\r\n            id=\"divTableBlock\"\r\n            bg=\"transparent\"\r\n            border=\"dark\"\r\n            className=\"w-100 mx-auto\">\r\n            <BriefScoreboard timeRemaining={timeRemaining} players={players} />\r\n            <Card.Body className=\"gameBorderCard\">\r\n                {table ? (\r\n                    dimens.map((floor) => (\r\n                        <Fragment>\r\n                            {dimens.map((row) => (\r\n                                <Row\r\n                                    style={{\r\n                                        direction: \"ltr\",\r\n                                        marginLeft: `${GameSetting.T3D.TableRowMargings[row]}px`,\r\n                                    }}>\r\n                                    {dimens.map((column) => (\r\n                                        <Button\r\n                                            key={\r\n                                                floor * dimension * dimension +\r\n                                                row * dimension +\r\n                                                column\r\n                                            }\r\n                                            variant=\"btn btn-outline-dark\"\r\n                                            className=\"gameTableCells\"\r\n                                            style={\r\n                                                table[floor][row][column] !==\r\n                                                null\r\n                                                    ? {\r\n                                                          color: players[\r\n                                                              table[floor][row][\r\n                                                                  column\r\n                                                              ]\r\n                                                          ].color,\r\n                                                      }\r\n                                                    : null\r\n                                            }\r\n                                            id={\r\n                                                floor * dimension * dimension +\r\n                                                row * dimension +\r\n                                                column\r\n                                            }\r\n                                            onClick={(event) =>\r\n                                                onEachCellClick(event)\r\n                                            }>\r\n                                            {table[floor][row][column] !==\r\n                                                null &&\r\n                                                players[\r\n                                                    table[floor][row][column]\r\n                                                ].shape}\r\n                                        </Button>\r\n                                    ))}\r\n                                </Row>\r\n                            ))}\r\n                            <br />\r\n                        </Fragment>\r\n                    ))\r\n                ) : (\r\n                    <p> در حال اتصال... </p>\r\n                )}\r\n            </Card.Body>\r\n        </Card>\r\n    );\r\n};\r\n\r\nexport default TableDesign;\r\n","import { Component } from \"react\";\r\nimport \"../games.css\";\r\nimport { toast } from \"react-toastify\";\r\nimport gameServices from \"../../services/http/gameServices\";\r\nimport {\r\n    connect,\r\n    createSocketRequest,\r\n} from \"../../services/ws/gamePlaySocketServices\";\r\nimport withReduxDashboard from \"../../dashboard/withReduxDashboard\";\r\nimport { withRouter } from \"react-router\";\r\nimport TableDesign from \"./TableDesign\";\r\nimport { GameSetting } from \"../../services/configs\";\r\n\r\nclass GamePlay extends Component {\r\n    //**** game resets on device change. fix it */\r\n    state = {\r\n        players: [\r\n            {\r\n                // ID: '',\r\n                shape: <i className=\"fa fa-times\" aria-hidden=\"true\" />, // \"X\" : some device may not support font-awsome\r\n                color: \"blue\",\r\n                lineColor: \"btn btn-primary\",\r\n                score: 0,\r\n            },\r\n            {\r\n                // ID: '',\r\n                shape: <i className=\"fa fa-sun-o\" aria-hidden=\"true\" />, // \"O\" : some device may not support font-awsome\r\n                color: \"darkred\",\r\n                lineColor: \"btn btn-danger\",\r\n                score: 0,\r\n            },\r\n        ], // maybe use player actual user name and change this item to an object of objects?\r\n        turn: 0, // start turn is decided by throwning dices\r\n        dimension: 3,\r\n        table: null,\r\n        myTurn: undefined, // change this\r\n        gameID: null,\r\n        socketGamePlay: undefined,\r\n        playerOnline: true,\r\n        timeRemaining: 0, //create a config\r\n        timerID: null,\r\n        connectionCheckTimerID: null,\r\n    };\r\n\r\n    constructor() {\r\n        super();\r\n        this.cellButtons = [];\r\n    }\r\n\r\n    LoadOpponentData = (opponentID) => {\r\n        const { opponent, LoadOpponent } = this.props;\r\n        if (!opponent && opponentID) {\r\n            gameServices\r\n                .loadPlayerData(opponentID)\r\n                .then((result) => {\r\n                    LoadOpponent(result ? result : null);\r\n                    toast.warn(\"حرف شما وارد بازی شد\");\r\n                })\r\n                .catch((err) => {\r\n                    //console.log(err);\r\n                    LoadOpponent(null);\r\n                });\r\n        }\r\n    };\r\n\r\n    updateGameScorebaord = () => {\r\n        const { myTurn, players } = this.state;\r\n        const oppTurn = Number(!myTurn);\r\n\r\n        this.props.UpdateScoreboard({\r\n            me: {\r\n                index: myTurn,\r\n                shape: players[myTurn].shape,\r\n                score: players[myTurn].score,\r\n            },\r\n            opp: {\r\n                index: oppTurn,\r\n                shape: players[oppTurn].shape,\r\n                score: players[oppTurn].score,\r\n            },\r\n        });\r\n    };\r\n\r\n    enableTimerForMyMove = (timeout = GameSetting.T3D.TurnTimeOut) => {\r\n        this.setState({ timeRemaining: timeout });\r\n        //is it needed to declare timerID as state?\r\n        const timerID = setInterval(() => {\r\n            const { timeRemaining, timerID } = this.state;\r\n            if (timeRemaining <= 0) {\r\n                clearInterval(timerID);\r\n                return;\r\n            }\r\n            this.setState({ timeRemaining: this.state.timeRemaining - 1 });\r\n        }, 1000);\r\n        this.setState({ timerID });\r\n    };\r\n\r\n    updatePlayerStates = ({ turn, xScore, oScore }) => {\r\n        const players = [...this.state.players];\r\n        players[0].score = xScore;\r\n        players[1].score = oScore;\r\n        this.setState({\r\n            players,\r\n            turn,\r\n        });\r\n    };\r\n\r\n    disableAllTimers = () => {\r\n        const { connectionCheckTimerID, timerID } = this.state;\r\n        clearTimeout(connectionCheckTimerID);\r\n        clearTimeout(timerID); //move time out timer\r\n    };\r\n\r\n    socketOnMessage = (response) => {\r\n        const { data } = response;\r\n        const { command, msg } = JSON.parse(data);\r\n        if (command === \"SET_TURN\") this.setState({ myTurn: Number(msg) });\r\n        else if (command === \"START\") {\r\n            const { myTurn } = this.state;\r\n            const { IDs, gameType } = msg;\r\n            const opponentIndex = Number(!myTurn);\r\n            this.setState({ dimension: gameType });\r\n\r\n            this.LoadOpponentData(IDs[opponentIndex]);\r\n        } else if (command === \"LOAD\") {\r\n            const { table, xScore, oScore, turn } = msg;\r\n            const { players } = this.state;\r\n            players[0].score = xScore;\r\n            players[1].score = oScore;\r\n            this.setState({\r\n                table,\r\n                players,\r\n                turn,\r\n            });\r\n            this.updateGameScorebaord();\r\n        } else if (command === \"TIMER\") {\r\n            //you can calculate request respone time -> then minimize it from tiem sent by server -> to gain acurate time\r\n            //but its real neccessary, Math.floor on the server side does this nearly\r\n            //but for accurate approach remember: remove Math.floor from server side\r\n            console.log(\"time updated: \", msg);\r\n            this.setState({ timeRemaining: msg });\r\n            clearTimeout(this.state.timerID); //clear move time out timers, though their disabled before, this is for assurance\r\n            this.enableTimerForMyMove(msg);\r\n        } else if (command === \"SCORES\") this.updatePlayerStates(msg);\r\n        else if (command === \"UPDATE\") {\r\n            const { player, room } = this.props;\r\n            const { dimension } = this.state;\r\n            const cellID = Number(msg.nextMove);\r\n            //*************** */\r\n            //is this needed to check the move in client? considering that complete check has been made in client\r\n            //and consder that: checking move in client may cause some bugs\r\n            //for ex: new move is sent -> and 'cause of some error the cell is not empty\r\n            //turn is not updated and this player can not make new moves to recieve server's table!!!\r\n            this.verifyAndApplyTheMove(\r\n                this.getCellCoordinates(cellID, dimension),\r\n                this.cellButtons[cellID]\r\n            );\r\n            //wrap it up this part of UPDATE and LOAD in a method\r\n            this.updatePlayerStates(msg);\r\n\r\n            this.cellButtons[cellID].focus();\r\n            this.updateGameScorebaord();\r\n\r\n            // now inform the server that the move is recieved\r\n            //force connect it?\r\n            this.state.socketGamePlay.send(\r\n                createSocketRequest(\r\n                    \"move_recieved\",\r\n                    room.name,\r\n                    player.userID,\r\n                    true\r\n                )\r\n            );\r\n            // server time out is set and now setInterval for this client to show how much time left\r\n            this.enableTimerForMyMove();\r\n        } else if (command === \"MOVE_MISSED\") {\r\n            const { myTurn } = this.state;\r\n            const { player, room } = this.props;\r\n            //msg --> forced set turn\r\n            this.setState({ turn: msg });\r\n            if (msg === myTurn) {\r\n                //send a move_recieved request to inform the server to set the new timeout\r\n                //force connect it?\r\n                this.state.socketGamePlay.send(\r\n                    createSocketRequest(\r\n                        \"move_recieved\",\r\n                        room.name,\r\n                        player.userID,\r\n                        true\r\n                    )\r\n                );\r\n                this.enableTimerForMyMove();\r\n            }\r\n        } else if (command === \"END\") {\r\n            this.updatePlayerStates(msg);\r\n            this.endThisGame();\r\n            this.disableAllTimers();\r\n        } else if (command === \"CLOSE\") {\r\n            toast.warn(\r\n                \"بدلیل حاضر نبودن هیچ کدام از بازیکینان، بازی شما کنسل شد\",\r\n                { position: \"top-right\", closeOnClick: true }\r\n            );\r\n            this.closeThisGame();\r\n        } else {\r\n            console.log(\"wrong socket request\");\r\n        }\r\n    };\r\n\r\n    forceConnectWS = async (nextJob) => {\r\n        const { player, room } = this.props;\r\n\r\n        try {\r\n            let socket = await connect(room.name, player.userID, room.type);\r\n            socket.onmessage = this.socketOnMessage;\r\n            this.setState({ socketGamePlay: socket });\r\n            if (nextJob) nextJob();\r\n        } catch (err) {\r\n            console.log(err);\r\n            // **********************\r\n            //time out must be set with rising time out time to prevent server getting fucked up\r\n            setTimeout(\r\n                () => {\r\n                    console.log(\"rconnecting from GamePlay\");\r\n                    this.forceConnectWS(nextJob);\r\n                },\r\n                nextJob ? 1000 : 3000\r\n            );\r\n            //if there is a next job --> then player is sending a move or something important and\r\n            //time out needs to be called quicker 'cause players have timeout in server for sending moves\r\n        }\r\n    };\r\n\r\n    enableConnectionCheckTimer = () => {\r\n        return setInterval(() => {\r\n            if (window.navigator.onLine) {\r\n                if (!this.state.playerOnline) {\r\n                    //player JUST became online\r\n                    console.log(\"connected\");\r\n                    this.setState({ playerOnline: true }); // toggle online status\r\n                    this.forceConnectWS(null); // reconnect to gamePlayWebSocket\r\n                }\r\n            } else if (this.state.playerOnline) {\r\n                //player JUST became offline\r\n                console.log(\"dissconnected\");\r\n                this.setState({ playerOnline: false });\r\n            }\r\n        }, 2500); //2.5 sec is it ok?\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.cellButtons = document.getElementsByClassName(\"gameTableCells\"); // pay attension to searched className! may cause an error\r\n\r\n        const { player, room } = this.props;\r\n        const { myTurn } = this.state;\r\n        this.setState({ dimension: room.type });\r\n\r\n        this.forceConnectWS(() => {\r\n            this.state.socketGamePlay.send(\r\n                createSocketRequest(\"load\", room.name, player.userID, null)\r\n            );\r\n            this.state.socketGamePlay.send(\r\n                createSocketRequest(\"mytimer\", room.name, player.userID, myTurn)\r\n            );\r\n        });\r\n\r\n        console.log(\"TOO MANY UNNEEDED PROPS SENT: \", this.props);\r\n        this.setState({\r\n            connectionCheckTimerID: this.enableConnectionCheckTimer(),\r\n        });\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.disableAllTimers();\r\n    }\r\n    getCellCoordinates = (cellID, dimen) => {\r\n        const cellFloor = Math.floor(cellID / (dimen * dimen));\r\n        const onFloorId = cellID % (dimen * dimen);\r\n        const cellRow = Math.floor(onFloorId / dimen);\r\n        const cellColumn = onFloorId % dimen;\r\n        // just test a random id to see how above formula works!\r\n        return { floor: cellFloor, row: cellRow, column: cellColumn };\r\n    };\r\n    onEachCellClick = (event) => {\r\n        const { dimension, turn, timerID } = this.state;\r\n        const { player, opponent, room } = this.props;\r\n\r\n        if (opponent) {\r\n            try {\r\n                const selectedCellButton = event.target;\r\n\r\n                //this is just for when the connection is not automatically came back, so the user via clicking cells can initiate connection\r\n                if (this.state.turn !== this.state.myTurn) {\r\n                    //is this needed really?\r\n                    this.forceConnectWS(null);\r\n                    return;\r\n                }\r\n\r\n                const cell = this.getCellCoordinates(\r\n                    selectedCellButton.id,\r\n                    dimension\r\n                );\r\n\r\n                if (this.verifyAndApplyTheMove(cell, selectedCellButton)) {\r\n                    //send move to WebSocket Server\r\n\r\n                    this.setState({ turn: (turn + 1) % 2 });\r\n                    this.forceConnectWS(() => {\r\n                        this.state.socketGamePlay.send(\r\n                            createSocketRequest(\r\n                                \"move\",\r\n                                room.name,\r\n                                player.userID,\r\n                                selectedCellButton.id\r\n                            )\r\n                        );\r\n                        //load is not needed cause i updated server to send back new scores immediately\r\n                        /*this.state.socketGamePlay.send(\r\n                            createSocketRequest(\r\n                                \"load\",\r\n                                room.name,\r\n                                player.userID,\r\n                                null\r\n                            )\r\n                        );*/\r\n                    });\r\n                    clearInterval(timerID);\r\n                    this.setState({ timeRemaining: 0 });\r\n                }\r\n            } catch (err) {\r\n                console.log(err);\r\n                //load again here?\r\n            }\r\n        }\r\n    };\r\n\r\n    verifyAndApplyTheMove = (cell, cellButton) => {\r\n        const { players, turn } = this.state;\r\n        let tempTable = [...this.state.table];\r\n        if (tempTable[cell.floor][cell.row][cell.column] === null) {\r\n            tempTable[cell.floor][cell.row][cell.column] = turn; //maybe its better to use players actual Id huh?\r\n            cellButton.value = players[turn].shape;\r\n            cellButton.style.color = players[turn].color;\r\n            this.setState({ table: tempTable });\r\n            // time to inspect the new cell:\r\n            this.inspectAreaAroundTheCell(cell.floor, cell.row, cell.column);\r\n\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n\r\n    inspectAreaAroundTheCell = (floor, row, column) => {\r\n        // inpect the table in all ways around a selected cell (new selected one), to update points and color the score routes\r\n        // is it needed to write a inspectAll method ?\r\n        const { players, table, dimension } = this.state;\r\n        const playerInTheCell = table[floor][row][column];\r\n        let rowCount = 0,\r\n            columnCount = 0,\r\n            floorMainDiagCount = 0,\r\n            floorSideDiagCount = 0;\r\n        let tableMainDiagCount = 0,\r\n            tableSideDiagCount = 0,\r\n            tableAltitudeCount = 0;\r\n        for (let i = 0; i < dimension; i++) {\r\n            if (table[floor][row][i] === playerInTheCell) rowCount++; // inspect in a row\r\n            if (table[floor][i][column] === playerInTheCell) columnCount++; // inspect in a column\r\n            if (table[i][row][column] === playerInTheCell) tableAltitudeCount++; // inspect in a altitude line\r\n            if (row === column) {\r\n                if (table[floor][i][i] === playerInTheCell)\r\n                    floorMainDiagCount++; // inspect in a 2D main diagonal line through the cell's floor\r\n                if (row === floor && table[i][i][i] === playerInTheCell)\r\n                    tableMainDiagCount++; // inspect in a 3D main diagonal line through the whole table\r\n            }\r\n            if (row + column + 1 === dimension) {\r\n                if (table[floor][i][dimension - i - 1] === playerInTheCell)\r\n                    floorSideDiagCount++; // inpect in a 2D side Diagonal line through the cell's floor\r\n                if (\r\n                    row === floor &&\r\n                    table[i][i][dimension - i - 1] === playerInTheCell\r\n                )\r\n                    tableSideDiagCount++; // inspect in a 3D side diagonal line through the whole table\r\n            }\r\n        }\r\n\r\n        // now inspect wether a line has been made and take action for it\r\n        this.connectTheScoreLines(\r\n            rowCount,\r\n            floor * dimension * dimension + row * dimension,\r\n            1,\r\n            players[playerInTheCell],\r\n            dimension\r\n        );\r\n        this.connectTheScoreLines(\r\n            columnCount,\r\n            floor * dimension * dimension + column,\r\n            dimension,\r\n            players[playerInTheCell],\r\n            dimension\r\n        );\r\n        this.connectTheScoreLines(\r\n            floorMainDiagCount,\r\n            floor * dimension * dimension,\r\n            dimension + 1,\r\n            players[playerInTheCell],\r\n            dimension\r\n        );\r\n        this.connectTheScoreLines(\r\n            floorSideDiagCount,\r\n            floor * dimension * dimension + (dimension - 1),\r\n            dimension - 1,\r\n            players[playerInTheCell],\r\n            dimension\r\n        );\r\n        this.connectTheScoreLines(\r\n            tableMainDiagCount,\r\n            0,\r\n            dimension * (dimension + 1) + 1,\r\n            players[playerInTheCell],\r\n            dimension\r\n        );\r\n        this.connectTheScoreLines(\r\n            tableSideDiagCount,\r\n            dimension - 1,\r\n            dimension * (dimension + 1) - 1,\r\n            players[playerInTheCell],\r\n            dimension\r\n        );\r\n        this.connectTheScoreLines(\r\n            tableAltitudeCount,\r\n            row * dimension + column,\r\n            dimension * dimension,\r\n            players[playerInTheCell],\r\n            dimension\r\n        );\r\n    };\r\n\r\n    // method below: checks each possible line(according to the condition that user gives it),\r\n    // if the line is made colorifies the line and returns 1 ( as one single score for each line checked ), otherwise returns 0\r\n    connectTheScoreLines = (count, firstCell, step, player, dimension) => {\r\n        if (count === dimension) {\r\n            for (let i = 0; i < dimension; i++) {\r\n                this.cellButtons[firstCell + i * step].className =\r\n                    \"gameTableCells \" + player.lineColor;\r\n                setTimeout(() => {\r\n                    this.cellButtons[firstCell + i * step].className =\r\n                        \"gameTableCells btn btn-outline-dark\";\r\n                }, 1000 + i * 100);\r\n            }\r\n        }\r\n    };\r\n\r\n    closeThisGame = () => {\r\n        this.state.socketGamePlay.close();\r\n        this.setState({ socketGamePlay: null });\r\n        setTimeout(() => {\r\n            this.props.CleanScoreboard();\r\n            this.props.ResetOpponent();\r\n            this.props.ResetRoom();\r\n            this.props.TriggerRecordUpdate();\r\n            this.props.history.replace(\"/\"); // in competition mode must be send back to competition page\r\n        }, 5000);\r\n    };\r\n\r\n    endThisGame = () => {\r\n        const { players, myTurn } = this.state;\r\n        const oppTurn = Number(!myTurn);\r\n        //NOTE: u can deliver this message to socket global to make sure toast shows all the tie but its no need really :|\r\n        if (players[myTurn].score > players[oppTurn].score)\r\n            toast.success(\"شما برنده شدید و سه امتیاز کسب کردید\");\r\n        else if (players[myTurn].score === players[oppTurn].score)\r\n            toast.info(\"شما مساوی شدید و یک امتیاز کسب کردید\");\r\n        else toast.error(\"تکبیر!\");\r\n        //reset everything:\r\n        this.closeThisGame();\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <TableDesign\r\n                dimension={this.state.dimension}\r\n                players={this.state.players}\r\n                table={this.state.table}\r\n                timeRemaining={this.state.timeRemaining}\r\n                onEachCellClick={this.onEachCellClick}\r\n            />\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(withReduxDashboard(GamePlay));\r\n\r\n//another way to check online / offline status :\r\n// initiateGameTimer = () => {\r\n//     setInterval(() => {\r\n//         if (window.navigator.onLine) {\r\n//             if (this.connectionLost) {\r\n//                 console.log(\"connected\");\r\n//                 this.connectionLost = false;\r\n//                 this.forceConnectWS(null);\r\n//             }\r\n//         } else {\r\n//             console.log(\"dissconnected\");\r\n//             this.connectionLost = true;\r\n//         }\r\n//         /*this.isOnline(\r\n//             () => {\r\n//                 if (this.connectionLost) {\r\n//                     console.log(\"connected\");\r\n//                     this.connectionLost = false;\r\n//                     this.forceConnectWS(null);\r\n//                 }\r\n//             },\r\n//             () => {\r\n//                 console.log(\"dissconnected\");\r\n//                 this.connectionLost = true;\r\n//             }\r\n//         );*/\r\n//     }, 1000);\r\n// };\r\n\r\n// /*    isOnline = (success, failure) => {\r\n//     var xhr = XMLHttpRequest\r\n//         ? new XMLHttpRequest()\r\n//         : new window.ActiveXObject(\"Microsoft.XMLHttp\");\r\n//     xhr.onload = function () {\r\n//         if (success instanceof Function) {\r\n//             success();\r\n//         }\r\n//     };\r\n//     xhr.onerror = function () {\r\n//         if (failure instanceof Function) {\r\n//             failure();\r\n//         }\r\n//     };\r\n//      xhr.open(\"GET\", \"https://t3dweb.herokuapp.com/users\", true);//edit this ******************************\r\n//      xhr.send();\r\n// }; */\r\n","import { Fragment, useState, useEffect } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { toast } from \"react-toastify\";\r\nimport { SetRoom, TriggerOpponentSearch } from \"../dashboard/actions\";\r\nimport { Button, Form, InputGroup } from \"react-bootstrap\";\r\nimport LoadingBar from '../common/LoadingBar';\r\n\r\nconst RoomManager = ({ friendlyGame }) => {\r\n    const [roomName, setRoomName] = useState(\"\");\r\n    const [gameType, setGameType] = useState(4);\r\n    const player = useSelector((state) => state.player);\r\n    const [searching, setSearching] = useState(false);\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const onStartGameClick = (event) => {\r\n        event.preventDefault();\r\n        if (!player) {\r\n            toast.error(\"ابتدا وارد حساب کاربری خود شوید\");\r\n            return;\r\n        }\r\n        if (friendlyGame) dispatch(SetRoom({ name: roomName, type: gameType }));\r\n        // random game:\r\n        else {\r\n            dispatch(SetRoom({ name: null, type: gameType }));\r\n            dispatch(TriggerOpponentSearch());\r\n            setSearching(true);\r\n        }\r\n    };\r\n\r\n    //on destroy\r\n    useEffect(() => {\r\n        return () => {\r\n            setSearching(false); //make sure preloader turns off\r\n         }\r\n    }, [])\r\n    return (\r\n        <Fragment>\r\n            <LoadingBar loading={searching} />\r\n            <hr />\r\n            <Form onSubmit={(event) => onStartGameClick(event)}>\r\n                <Form.Group className=\"form-inline\">\r\n                    <Form.Label className=\"w-25\">ابعاد جدول</Form.Label>\r\n                    <InputGroup\r\n                        style={{\r\n                            border: \"1px solid orange\",\r\n                            borderRadius: \"5px\",\r\n                            padding: \"2px\",\r\n                        }}>\r\n                        <InputGroup.Prepend className=\"mx-5\">\r\n                            <InputGroup.Radio\r\n                                value=\"3\"\r\n                                name=\"tableDimension\"\r\n                                checked={gameType === 3}\r\n                                onChange={() => setGameType(3)}\r\n                            />\r\n                            <InputGroup.Text>3 * 3 * 3</InputGroup.Text>\r\n                        </InputGroup.Prepend>\r\n                        <InputGroup.Prepend className=\"mx-5\">\r\n                            <InputGroup.Radio\r\n                                value=\"4\"\r\n                                name=\"tableDimension\"\r\n                                checked={gameType === 4}\r\n                                onChange={() => setGameType(4)}\r\n                            />\r\n                            <InputGroup.Text>4 * 4 * 4</InputGroup.Text>\r\n                        </InputGroup.Prepend>\r\n                        <InputGroup.Prepend className=\"mx-5\">\r\n                            <InputGroup.Radio\r\n                                value=\"5\"\r\n                                name=\"tableDimension\"\r\n                                checked={gameType === 5}\r\n                                onChange={() => setGameType(5)}\r\n                            />\r\n                            <InputGroup.Text>5 * 5 * 5</InputGroup.Text>\r\n                        </InputGroup.Prepend>\r\n                    </InputGroup>\r\n                </Form.Group>\r\n                <hr />\r\n                {friendlyGame && (\r\n                    \r\n                    <Form.Group className=\"mt-3 form-inline\">\r\n                        \r\n                        <Form.Label className=\"w-25\">نام روم</Form.Label>\r\n                        <Form.Control\r\n                            type=\"text\"\r\n                            className=\"w-75 text-left bg-transparent\"\r\n                            placeholder=\"Room Name\"\r\n                            value={roomName}\r\n                            required=\"required\"\r\n                            onChange={(event) =>\r\n                                setRoomName(event.target.value)\r\n                            }\r\n                        />\r\n                    </Form.Group>\r\n                )}\r\n                <hr />\r\n                <Button type=\"submit\" className=\"mt-4\" block variant=\"success\">\r\n                    <i\r\n                        className={`fa ${\r\n                            friendlyGame ? \"fa-handshake-o\" : \"fa-search\"\r\n                        } px-2`}\r\n                        aria-hidden=\"true\"></i>\r\n                    {friendlyGame ? \"ارسال درخواست\" : \"جستجو\"}\r\n                </Button>\r\n            </Form>\r\n        </Fragment>\r\n    );\r\n};\r\n\r\nexport default RoomManager;\r\n","import { Alert, Badge, Container, Row, Col, Button } from \"react-bootstrap\";\r\n\r\nconst CompetitionSummary = ({ title, summary }) => {\r\n    return (\r\n        <Container>\r\n            <Row>\r\n                <Alert className=\"text-right w-100\" variant=\"info\">\r\n                    <Alert.Heading className=\"text-center\">\r\n                        <Badge variant=\"success p-2\" >\r\n                            {title}\r\n                        </Badge>\r\n                    </Alert.Heading>\r\n\r\n                    <p>{summary}</p>\r\n                    <p>{summary}</p>\r\n                    <p>{summary}</p>\r\n                    <p>{summary}</p>\r\n                </Alert>\r\n            </Row>\r\n            <hr />\r\n            <Row>\r\n                <Alert className=\"text-right w-100\" pill=\"true\" variant=\"info\">\r\n                    <p>تعداد شرکت کنندگان : 00000000</p>\r\n                    <p>نکات دیگر</p>\r\n                </Alert>\r\n            </Row>\r\n            <hr />\r\n            <Row>\r\n                <Col>\r\n                    <Button block variant=\"outline-success\">شرکت در مسابقه</Button>\r\n                </Col>\r\n                <Col>\r\n                <Button block variant=\"outline-secondary\">بازیکنان حاضر</Button>\r\n                </Col>\r\n            </Row>\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default CompetitionSummary;\r\n","import { Col, Nav, Row, Tab } from \"react-bootstrap\";\r\nimport \"./competitions.css\";\r\nimport CompetitionSummary from \"./CompetitionSummary\";\r\n\r\nconst CompetitionsMain = () => {\r\n    return (\r\n        <Tab.Container id=\"left-tabs-example\" defaultActiveKey=\"first\">\r\n            <hr />\r\n\r\n            <Row>\r\n                <Col className=\"competitionMenuBody\" sm={3}>\r\n                    <Nav variant=\"pills\" className=\"flex-column\">\r\n                        <Nav.Item>\r\n                            <Nav.Link className=\"text-right\" eventKey=\"first\">\r\n                                جام حذفی\r\n                            </Nav.Link>\r\n                        </Nav.Item>\r\n                        <Nav.Item>\r\n                            <Nav.Link className=\"text-right\" eventKey=\"second\">\r\n                                لیگ امتیازی\r\n                            </Nav.Link>\r\n                        </Nav.Item>\r\n                        <Nav.Item>\r\n                            <Nav.Link className=\"text-right\" eventKey=\"third\">\r\n                                بازی شرطی\r\n                            </Nav.Link>\r\n                        </Nav.Item>\r\n                        <Nav.Item>\r\n                            <Nav.Link className=\"text-right\" eventKey=\"forth\">\r\n                                جدول رندوم\r\n                            </Nav.Link>\r\n                        </Nav.Item>\r\n                        <Nav.Item>\r\n                            <Nav.Link className=\"text-right\" eventKey=\"fifth\">\r\n                                و غیره\r\n                            </Nav.Link>\r\n                        </Nav.Item>\r\n                    </Nav>\r\n                </Col>\r\n                {/* <div style={{borderLeft: '1px solid gray', height:'500px'}}></div> */}\r\n                <Col sm={9}>\r\n                    <Tab.Content>\r\n                        <Tab.Pane eventKey=\"first\">\r\n                            <CompetitionSummary\r\n                                title=\"جام حذفی\"\r\n                                summary=\"توضیحات این نوع مسابقه\"\r\n                            />\r\n                        </Tab.Pane>\r\n                        <Tab.Pane eventKey=\"second\">\r\n                            <CompetitionSummary\r\n                                title=\"لیگ امتیازی\"\r\n                                summary=\"توضیحات این نوع مسابقه\"\r\n                            />\r\n                        </Tab.Pane>\r\n                        <Tab.Pane eventKey=\"third\">\r\n                            <CompetitionSummary\r\n                                title=\"بازی شرطی\"\r\n                                summary=\"توضیحات این نوع مسابقه\"\r\n                            />\r\n                        </Tab.Pane>\r\n                        <Tab.Pane eventKey=\"forth\">\r\n                            <CompetitionSummary\r\n                                title=\"جدول رندوم\"\r\n                                summary=\"توضیحات این نوع مسابقه\"\r\n                            />\r\n                        </Tab.Pane>\r\n                        <Tab.Pane eventKey=\"fifth\">\r\n                            <CompetitionSummary\r\n                                title=\"و غیره\"\r\n                                summary=\"توضیحات این نوع مسابقه\"\r\n                            />\r\n                        </Tab.Pane>\r\n                    </Tab.Content>\r\n                </Col>\r\n            </Row>\r\n        </Tab.Container>\r\n    );\r\n};\r\n\r\nexport default CompetitionsMain;\r\n","import GamePlay from \"./gameplay/GamePlay\";\r\nimport { useSelector } from \"react-redux\";\r\nimport SingleGame from \"./SingleGame\";\r\nimport { Tab, Tabs, Card, Fade } from \"react-bootstrap\";\r\nimport { Fragment } from \"react\";\r\nimport CompetitionsMain from \"./competitions/CompetitionsMain\";\r\n\r\nconst GameDeck = () => {\r\n    const room = useSelector((state) => state.room);\r\n\r\n    return (\r\n        <Fragment>\r\n            {room.name ? (\r\n                <GamePlay />\r\n            ) : (\r\n                <Card\r\n                    border=\"secondary\"\r\n                    bg=\"transparent\"\r\n                    className=\"gameDeckCard\">\r\n                    <Card.Body>\r\n                        <Tabs\r\n                            defaultActiveKey=\"randomGame\"\r\n                            transition={false}\r\n                            id=\"noanim-tab-example\"\r\n                            variant=\"pills\"\r\n                            // transition={Fade}\r\n                            className=\"mb-3\">\r\n                            \r\n                            <Tab eventKey=\"randomGame\" title=\"بازی تصادفی\">\r\n                                <SingleGame friendlyGame={false} />\r\n                            </Tab>\r\n                            <Tab eventKey=\"competitions\" title=\"مسابقات\">\r\n                                <CompetitionsMain />\r\n                            </Tab>\r\n                            <Tab eventKey=\"friendlyGame\" title=\"بازی با دوستان\">\r\n                                <SingleGame friendlyGame={true} />\r\n                            </Tab>\r\n                        </Tabs>\r\n                    </Card.Body>\r\n                </Card>\r\n            )}\r\n        </Fragment>\r\n    );\r\n};\r\n\r\nexport default GameDeck;\r\n","import { Fragment, useState, useEffect } from \"react\";\r\nimport { Form, Card, Col, Row, Button, Alert } from \"react-bootstrap\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { toast } from \"react-toastify\";\r\nimport userServices from \"../services/http/userServices\";\r\nimport DatePicker from \"react-multi-date-picker\";\r\nimport persian from \"react-date-object/calendars/persian\";\r\nimport persian_fa from \"react-date-object/locales/persian_fa\";\r\nimport noticeServices from \"../services/http/noticeServices\";\r\nimport Configs from \"../services/configs\";\r\nimport \"./profile.css\";\r\nimport LoadingBar from \"../common/LoadingBar\";\r\n\r\nconst NoticeManager = () => {\r\n    //u can create another component for listing notices ?\r\n    const player = useSelector((state) => state.player);\r\n    const [isAllowed, setAllowed] = useState(undefined);\r\n    const [title, setTitle] = useState(\"\");\r\n    const [text, setText] = useState(\"\");\r\n    const [startDate, setStartDate] = useState(null);\r\n    const [endDate, setEndDate] = useState(null);\r\n    const [notices, setNotices] = useState([]);\r\n    const [selectedNoticeID, setSelectedNoticeID] = useState(null);\r\n    const [updateTrigger, setUpdateTrigger] = useState(false);\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const resetStates = () => {\r\n        setTitle(\"\");\r\n        setText(\"\");\r\n        setStartDate(null);\r\n        setEndDate(null);\r\n        setSelectedNoticeID(null);\r\n        setUpdateTrigger(!updateTrigger); // updateTrigger: true <===> false -> chane -> useEffects calls\r\n    };\r\n\r\n    useEffect(() => {\r\n        //use another simpler preloader\r\n        //load all notices in left side for selecting: load all and push them in notices state\r\n        (async () => {\r\n            try {\r\n                setLoading(true);\r\n                const { status, data } =\r\n                    await noticeServices.getAdvancedNotics();\r\n                if (status === Configs.Status.Successful) {\r\n                    //return data.notices;\r\n                    if (data.notices.length) setNotices(data.notices.reverse());\r\n                    //if all is empty\r\n                    else\r\n                        setNotices([\r\n                            { title: \"پیام\", text: \"اطلاعیه جدیدی وجود ندارد\" },\r\n                        ]);\r\n                }\r\n            } catch (err) {\r\n                setNotices([\r\n                    {\r\n                        title: \"خطا\",\r\n                        text: \"...مشکلی حین بارگذاری اطلاعیه ها پیش آمد. دوباره امتحان کنید\",\r\n                    },\r\n                ]);\r\n                setLoading(false);\r\n            }\r\n            setLoading(false);\r\n        })();\r\n    }, [updateTrigger]);\r\n\r\n    //***** in server implemented a middleware for this, is this needed? */\r\n    if (player && isAllowed === undefined) {\r\n        //in admin tools pages: admin status is checked directly dor completely making sure that user is admin and he/her is trusted directly from server\r\n        (async () => {\r\n            try {\r\n                const { data, status } = await userServices.isAdministrator(\r\n                    player.userID\r\n                );\r\n                if (status === Configs.Status.Successful) return data.answer;\r\n                return false;\r\n            } catch (err) {\r\n                //CHECK THIS PART\r\n                return false;\r\n            }\r\n        })()\r\n            .then((answer) => {\r\n                setAllowed(answer);\r\n            })\r\n            .catch((err) => {\r\n                if (!Configs.Status.isErrorExpected(err))\r\n                    toast.error(\r\n                        \"مشکلی در تعیین سطح دسترسی شما بوجود آمد. لطفا مجددا تلاش کنید.\",\r\n                        { position: \"top-left\", closeOnClick: true }\r\n                    );\r\n            });\r\n    }\r\n\r\n    // show proper message for simple users\r\n    if (!player || isAllowed === false) {\r\n        //in first render a wronge message will be shown! find a fix\r\n        //2nd condition must be exactly the same\r\n        toast.warn(\"متاسفانه شما مجوز دسترسی به این صفحه را ندارید.\", {\r\n            position: \"top-left\",\r\n            closeOnClick: true,\r\n        });\r\n        return null;\r\n    }\r\n\r\n    //runs when create notice button clicks\r\n    const createNewNotice = async () => {\r\n        //add patern and stuff to states and inputs\r\n        try {\r\n            setLoading(true);\r\n            const { status } = await noticeServices.createNotice({\r\n                title,\r\n                text,\r\n                startDate: new Date(startDate),\r\n                endDate: new Date(endDate),\r\n            });\r\n            //*********** */\r\n            //COMPLETELY CHECK NOTICE IN CLIENT AND SERVER\r\n            if (status === Configs.Status.CreatedSuccessfully) {\r\n                toast.success(`اطلاعیه ی ${title} با موفقیت ساخته شد`, {\r\n                    position: \"top-right\",\r\n                    closeOnClick: true,\r\n                });\r\n                resetStates();\r\n            }\r\n        } catch (err) {\r\n            if (!Configs.Status.isErrorExpected(err))\r\n                toast.error(\r\n                    \"خطایی در ذخیره اطلاعیه بوجود امد ... لطفا دوباره تلاش کنید\",\r\n                    { position: \"top-left\", closeOnClick: true }\r\n                );\r\n        }\r\n        setLoading(false);\r\n    };\r\n\r\n    const selecteNotice = (notice) => {\r\n        // console.log(notice);\r\n        setSelectedNoticeID(notice._id);\r\n        setTitle(notice.title);\r\n        setText(notice.text);\r\n        setStartDate(new Date(notice.startDate));\r\n        setEndDate(new Date(notice.endDate));\r\n    };\r\n\r\n    const cancelEditing = () => {\r\n        resetStates();\r\n    };\r\n\r\n    const saveChanges = async () => {\r\n        //add patern and stuff to states and inputs\r\n        if (!selectedNoticeID) return;\r\n        setLoading(true);\r\n        try {\r\n            const { status } = await noticeServices.editNotice(\r\n                selectedNoticeID,\r\n                { title, text, startDate, endDate }\r\n            );\r\n            if (status === Configs.Status.Successful) {\r\n                toast.success(`اطلاعیه ی ${title} با مورفقیت ویرایش شد`, {\r\n                    position: \"top-right\",\r\n                    closeOnClick: true,\r\n                });\r\n                resetStates();\r\n            }\r\n        } catch (err) {\r\n            if (!Configs.Status.isErrorExpected(err))\r\n                toast.error(\r\n                    \"خطایی در ذخیره تغییرات بوجود امد ... لطفا دوباره تلاش کنید\",\r\n                    { position: \"top-left\", closeOnClick: true }\r\n                );\r\n        }\r\n        setLoading(false);\r\n    };\r\n    // if admin status is checked directly by server then start rendering the page\r\n    //consists two part\" right part => used for creating and editing notices\r\n    //left part lists all notices and allows admin to select one => after selecting the notice will be ready to be edited on right side\r\n\r\n    //edit all heights in control panel\r\n    //add patern and stuff to states and inputs\r\n    return (\r\n        <Fragment>\r\n            {player && isAllowed && (\r\n                <Row style={{ height: \"100%\" }}>\r\n                    <LoadingBar loading={loading} />\r\n                    <Col xs={5}>\r\n                        <Card\r\n                            border=\"success\"\r\n                            bg=\"transparent\"\r\n                            className=\"mx-auto noticeManagerCard\">\r\n                            <Card.Header className=\"text-center\">\r\n                                اطلاعیه جدید\r\n                            </Card.Header>\r\n                            <Card.Body className=\"text-right\">\r\n                                <Form.Label className=\"my-1 mx-auto\">\r\n                                    عنوان اطلاعیه\r\n                                </Form.Label>\r\n                                <Form.Control\r\n                                    value={title}\r\n                                    onChange={(e) => setTitle(e.target.value)}\r\n                                    className=\"my-1 mx-auto\"\r\n                                    type=\"text\"\r\n                                    placeholder=\"عنوان\"\r\n                                    required=\"requires\"\r\n                                />\r\n                                <hr />\r\n                                <Form.Label className=\"my-1 mx-auto\">\r\n                                    توضیحات\r\n                                </Form.Label>\r\n                                <Form.Control\r\n                                    as=\"textarea\"\r\n                                    className=\"my-1 mx-auto h-25\"\r\n                                    placeholder=\"متن کامل اطلاعیه را وارد کنید\"\r\n                                    value={text}\r\n                                    required=\"requires\"\r\n                                    onChange={(e) => setText(e.target.value)}\r\n                                />\r\n                                <hr />\r\n                                <Form.Label className=\"my-1 mx-2\">\r\n                                    تاریخ شروع نمایش\r\n                                </Form.Label>\r\n\r\n                                <DatePicker\r\n                                    className=\"my-1 mx-auto w-100\"\r\n                                    calendar={persian}\r\n                                    locale={persian_fa}\r\n                                    calendarPosition=\"bottom-right\"\r\n                                    value={startDate}\r\n                                    onChange={setStartDate}\r\n                                    required=\"requires\"\r\n                                />\r\n                                <hr />\r\n                                <Form.Label className=\"my-1 mx-2\">\r\n                                    تاریخ پایان نمایش\r\n                                </Form.Label>\r\n\r\n                                <DatePicker\r\n                                    className=\"my-1 mx-auto\"\r\n                                    calendar={persian}\r\n                                    locale={persian_fa}\r\n                                    calendarPosition=\"bottom-right\"\r\n                                    value={endDate}\r\n                                    onChange={setEndDate}\r\n                                    required=\"requires\"\r\n                                />\r\n                                <hr />\r\n                            </Card.Body>\r\n                            <Card.Footer>\r\n                                {!selectedNoticeID ? (\r\n                                    <Button\r\n                                        block\r\n                                        variant=\"success\"\r\n                                        onClick={createNewNotice}>\r\n                                        <i\r\n                                            className=\"fa fa-floppy-o px-3\"\r\n                                            aria-hidden=\"true\"></i>\r\n                                        ایجاد اطلاعیه\r\n                                    </Button>\r\n                                ) : (\r\n                                    <Row>\r\n                                        <Col>\r\n                                            <Button\r\n                                                block\r\n                                                variant=\"outline-primary\"\r\n                                                onClick={saveChanges}>\r\n                                                <i\r\n                                                    className=\"fa fa-floppy-o px-3\"\r\n                                                    aria-hidden=\"true\"></i>\r\n                                                ذخیره تغییرات\r\n                                            </Button>\r\n                                        </Col>\r\n                                        <Col>\r\n                                            <Button\r\n                                                block\r\n                                                variant=\"outline-warning text-secondary\"\r\n                                                onClick={cancelEditing}>\r\n                                                <i\r\n                                                    className=\"fa fa-floppy-o px-3\"\r\n                                                    aria-hidden=\"true\"></i>\r\n                                                لغو ویرایش\r\n                                            </Button>\r\n                                        </Col>\r\n                                    </Row>\r\n                                )}\r\n                            </Card.Footer>\r\n                        </Card>\r\n                    </Col>\r\n                    <Col xs={7}>\r\n                        <Card\r\n                            border=\"info\"\r\n                            bg=\"transparent\"\r\n                            className=\"mx-auto noticeManagerCard\">\r\n                            <Card.Header className=\"text-center\">\r\n                                اطلاعیه های قبلی\r\n                            </Card.Header>\r\n                            <Card.Body\r\n                                style={{ overflowY: \"scroll\" }}\r\n                                className=\"text-right\">\r\n                                {notices.map((notice) => {\r\n                                    return (\r\n                                        <Fragment>\r\n                                            <Alert variant=\"secondary\">\r\n                                                <i\r\n                                                    className=\"fa fa-info-circle px-3\"\r\n                                                    aria-hidden=\"true\"></i>\r\n                                                <span\r\n                                                    style={{\r\n                                                        color: \"red\",\r\n                                                        fontSize: \"18px\",\r\n                                                    }}>\r\n                                                    {notice.title}\r\n                                                </span>\r\n                                                : {notice.text}\r\n                                                <i\r\n                                                    className=\"iconEditNotice fa fa-pencil-square-o px-3\"\r\n                                                    aria-hidden=\"true\"\r\n                                                    onClick={() =>\r\n                                                        selecteNotice(notice)\r\n                                                    }></i>\r\n                                            </Alert>\r\n                                            <hr />\r\n                                        </Fragment>\r\n                                    );\r\n                                })}\r\n                            </Card.Body>\r\n                        </Card>\r\n                    </Col>\r\n                </Row>\r\n            )}\r\n        </Fragment>\r\n    );\r\n};\r\n\r\nexport default NoticeManager;\r\n","import { Fragment, useState, useEffect } from \"react\";\r\nimport { Button, Card, Form, Col, Row } from \"react-bootstrap\";\r\nimport LoadingBar from \"../common/LoadingBar\";\r\nimport \"./profile.css\";\r\nimport userServices from \"../services/http/userServices\";\r\nimport Configs from \"../services/configs\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { TriggerRecordUpdate } from \"../dashboard/actions\";\r\n\r\nconst MODES = { READ_ONLY: 0, EDIT: 1, CHANGE_PASS: 2 };\r\nconst AccountCredentials = () => {\r\n    //states\r\n\r\n    const [fullname, setFullname] = useState(\"\");\r\n    const [studentID, setStudentID] = useState(\"\");\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [loading, setLoading] = useState(\"\");\r\n    const [pageMode, setPageMode] = useState(MODES.READ_ONLY); //  0 => read only, 1 => edit mode, 2 => change password\r\n    const [pageUpdateTrigger, triggerPageUpdate] = useState(false); // true <=> false -> triggers page , ==> see useEffect\r\n    const [newPassword, setNewPassword] = useState(\"\");\r\n    const [confirmNewPassword, setConfirmNewPassword] = useState(\"\");\r\n\r\n    const dispatch = useDispatch();\r\n    //on component mount download user credentials\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n            try {\r\n                setLoading(true);\r\n                const { status, data } = await userServices.getMyCredentials();\r\n                if (status === Configs.Status.Successful) {\r\n                    const { me } = data;\r\n                    setFullname(me.fullname);\r\n                    setStudentID(me.studentID);\r\n                    setEmail(me.email);\r\n                }\r\n            } catch (err) {\r\n                if (!Configs.Status.isErrorExpected(err))\r\n                    toast.error(\r\n                        \"حین دریافت اطلاعات کاربر ایرادی پیش آمد. ... لطفا دوباره تلاش کنید.\",\r\n                        { position: \"top-left\", closeOnClick: true }\r\n                    );\r\n                setLoading(false);\r\n            }\r\n            setLoading(false);\r\n        })();\r\n    }, [pageUpdateTrigger]);\r\n\r\n    const reloadPage = () => {\r\n        setLoading(false);\r\n        setPageMode(MODES.READ_ONLY);\r\n        triggerPageUpdate(!pageUpdateTrigger);\r\n    };\r\n    const saveChanges = async () => {\r\n        //add patern and stuff to states and inputs\r\n        // check all inputs plz\r\n        setLoading(true);\r\n        try {\r\n            const { status } = await userServices.editMyCredentials({\r\n                studentID,\r\n                fullname,\r\n                email,\r\n                password,\r\n            });\r\n            if (status === Configs.Status.Successful) {\r\n                toast.success(`تغییرات با موفقیت اعمال شد`, {\r\n                    position: \"top-right\",\r\n                    closeOnClick: true,\r\n                });\r\n                dispatch(TriggerRecordUpdate());\r\n\r\n                reloadPage();\r\n            }\r\n        } catch (err) {\r\n            if (!Configs.Status.isErrorExpected(err))\r\n                toast.error(\r\n                    \"خطایی در ذخیره تغییرات بوجود امد ... لطفا دوباره تلاش کنید\",\r\n                    { position: \"top-left\", closeOnClick: true }\r\n                );\r\n        }\r\n        setLoading(false);\r\n    };\r\n\r\n    const changeMyPassword = async () => {\r\n        setLoading(true);\r\n        try {\r\n            const { status } = await userServices.changeMyPassword({\r\n                studentID,\r\n                password,\r\n                newPassword,\r\n            });\r\n            if (status === Configs.Status.Successful) {\r\n                toast.success(`رمز شما با موفقیت تغییر داده شد`, {\r\n                    position: \"top-right\",\r\n                    closeOnClick: true,\r\n                });\r\n                dispatch(TriggerRecordUpdate());\r\n                reloadPage();\r\n            }\r\n        } catch (err) {\r\n            if (!Configs.Status.isErrorExpected(err))\r\n                toast.error(\r\n                    \"خطایی در ذخیره تغییرات بوجود امد ... لطفا دوباره تلاش کنید\",\r\n                    { position: \"top-left\", closeOnClick: true }\r\n                );\r\n        }\r\n        setLoading(false);\r\n    };\r\n\r\n    const selectMode = (e) => {\r\n        e.preventDefault();\r\n        switch (pageMode) {\r\n            case MODES.EDIT:\r\n                saveChanges();\r\n                return;\r\n            case MODES.CHANGE_PASS:\r\n                changeMyPassword();\r\n                return;\r\n            default:\r\n                return;\r\n        }\r\n    };\r\n    const checkConfirmPassword = (event) => {\r\n        setConfirmNewPassword(event.target.value);\r\n        if (newPassword !== event.target.value) {\r\n            event.target.setCustomValidity(\r\n                \"تایید رمز عبور جدید باید با خود رمز عبور جدید مطابقت کامل داشته باشد\"\r\n            );\r\n            //console.log(password, confirmPassword);\r\n        } else event.target.setCustomValidity(\"\");\r\n    };\r\n\r\n    // *************************** DESIGN NOTE *******/\r\n    // HOW ABOUT USING TABS ? <Tabs>\r\n    return (\r\n        <Fragment>\r\n            <Card\r\n                border=\"secondary\"\r\n                bg=\"transparent\"\r\n                className=\"mx-auto bigSingleCard\">\r\n                <Card.Header className=\"text-center\">\r\n                    <Row className=\"w-100 mx-auto\">\r\n                        <Col>\r\n                            <Button\r\n                                block\r\n                                onClick={() => setPageMode(MODES.READ_ONLY)}\r\n                                variant={`${\r\n                                    !pageMode\r\n                                        ? \"outline-primary\"\r\n                                        : \"outline-secondary\"\r\n                                }`}>\r\n                                {pageMode === MODES.READ_ONLY && (\r\n                                    <i\r\n                                        className=\"fa fa-dot-circle-o px-2\"\r\n                                        aria-hidden=\"true\"></i>\r\n                                )}\r\n                                فقط مشاهده\r\n                            </Button>\r\n                        </Col>\r\n                        <Col>\r\n                            <Button\r\n                                block\r\n                                onClick={() => setPageMode(MODES.EDIT)}\r\n                                variant={`${\r\n                                    pageMode === MODES.EDIT\r\n                                        ? \"outline-primary\"\r\n                                        : \"outline-secondary\"\r\n                                }`}>\r\n                                {pageMode === MODES.EDIT && (\r\n                                    <i\r\n                                        className=\"fa fa-dot-circle-o px-2\"\r\n                                        aria-hidden=\"true\"></i>\r\n                                )}\r\n                                ویرایش\r\n                            </Button>\r\n                        </Col>\r\n                        <Col>\r\n                            <Button\r\n                                block\r\n                                onClick={() => setPageMode(MODES.CHANGE_PASS)}\r\n                                variant={`${\r\n                                    pageMode === MODES.CHANGE_PASS\r\n                                        ? \"outline-primary\"\r\n                                        : \"outline-secondary\"\r\n                                }`}>\r\n                                {pageMode === MODES.CHANGE_PASS && (\r\n                                    <i\r\n                                        className=\"fa fa-dot-circle-o px-2\"\r\n                                        aria-hidden=\"true\"></i>\r\n                                )}\r\n                                تغییر رمز عبور\r\n                            </Button>\r\n                        </Col>\r\n                    </Row>\r\n                </Card.Header>\r\n                <Form onSubmit={(e) => selectMode(e)}>\r\n                    <Card.Body className=\"w-75 mx-auto\">\r\n                        <LoadingBar loading={loading} />\r\n\r\n                        {pageMode !== MODES.CHANGE_PASS && (\r\n                            <>\r\n                                <Form.Group className=\"form-inline\">\r\n                                    <Form.Label className=\"w-25\">\r\n                                        شماره دانشجویی\r\n                                    </Form.Label>\r\n                                    <Form.Control\r\n                                        type=\"text\"\r\n                                        disabled\r\n                                        className=\"userInfoTextBox w-75\"\r\n                                        placeholder=\"Student ID\"\r\n                                        value={studentID}\r\n                                    />\r\n                                </Form.Group>\r\n                                <Form.Group className=\"form-inline\">\r\n                                    <Form.Label className=\"w-25\">\r\n                                        نام کاربر\r\n                                    </Form.Label>\r\n                                    <Form.Control\r\n                                        disabled={!pageMode}\r\n                                        type=\"text\"\r\n                                        className=\"userInfoTextBox w-75\"\r\n                                        pattern=\"[آ-ی ]{6,}\" // persian characters and space\r\n                                        onInput={(e) =>\r\n                                            e.target.setCustomValidity(\"\")\r\n                                        }\r\n                                        onInvalid={(e) =>\r\n                                            e.target.setCustomValidity(\r\n                                                \"نام خانوادگی باید با حروف فارسی و با حداقل طول سه حرف باشد\"\r\n                                            )\r\n                                        }\r\n                                        placeholder=\"Full Name\"\r\n                                        value={fullname}\r\n                                        required=\"required\"\r\n                                        onChange={(e) =>\r\n                                            setFullname(e.target.value)\r\n                                        }\r\n                                    />\r\n                                </Form.Group>\r\n\r\n                                <Form.Group className=\"form-inline\">\r\n                                    <Form.Label className=\"w-25\">\r\n                                        ایمیل\r\n                                    </Form.Label>\r\n                                    <Form.Control\r\n                                        type=\"email\"\r\n                                        disabled={!pageMode}\r\n                                        pattern=\".{6,}\"\r\n                                        onInput={(e) =>\r\n                                            e.target.setCustomValidity(\"\")\r\n                                        }\r\n                                        onInvalid={(e) =>\r\n                                            e.target.setCustomValidity(\r\n                                                \"ورودی باید فرمت معتبر ایمیل را رعایت کرده و حداقل 6 کاراکتر باشد\"\r\n                                            )\r\n                                        }\r\n                                        className=\"userInfoTextBox w-75\"\r\n                                        placeholder=\"E-mail\"\r\n                                        value={email}\r\n                                        required=\"required\"\r\n                                        onChange={(e) =>\r\n                                            setEmail(e.target.value)\r\n                                        }\r\n                                    />\r\n                                </Form.Group>\r\n                            </>\r\n                        )}\r\n                        {pageMode !== MODES.READ_ONLY && (\r\n                            <Form.Group className=\"form-inline\">\r\n                                <Form.Label className=\"w-25\">\r\n                                    {`رمز عبور ${\r\n                                        pageMode === MODES.CHANGE_PASS\r\n                                            ? \"فعلی\"\r\n                                            : \"\"\r\n                                    }`}\r\n                                </Form.Label>\r\n                                <Form.Control\r\n                                    type=\"password\"\r\n                                    className=\"userInfoTextBox w-75\"\r\n                                    placeholder=\"Password\"\r\n                                    value={password}\r\n                                    onChange={(e) =>\r\n                                        setPassword(e.target.value)\r\n                                    }\r\n                                />\r\n                            </Form.Group>\r\n                        )}\r\n                        {pageMode === MODES.CHANGE_PASS && (\r\n                            <>\r\n                                <Form.Group className=\"form-inline\">\r\n                                    <Form.Label className=\"w-25\">\r\n                                        رمز عبور جدید\r\n                                    </Form.Label>\r\n                                    <Form.Control\r\n                                        type=\"password\"\r\n                                        pattern=\".{6,15}\"\r\n                                        onInput={(e) =>\r\n                                            e.target.setCustomValidity(\"\")\r\n                                        }\r\n                                        onInvalid={(e) =>\r\n                                            e.target.setCustomValidity(\r\n                                                \"رمز عبور باید حداقل 6 کاراکتر و حداکثر 15 کاراکتر داشته باشد\"\r\n                                            )\r\n                                        }\r\n                                        className=\"userInfoTextBox w-75\"\r\n                                        placeholder=\"New Password\"\r\n                                        value={newPassword}\r\n                                        required=\"required\"\r\n                                        onChange={(e) =>\r\n                                            setNewPassword(e.target.value)\r\n                                        }\r\n                                    />\r\n                                </Form.Group>\r\n                                <Form.Group className=\"form-inline\">\r\n                                    <Form.Label className=\"w-25\">\r\n                                        تایید رمز عبور جدید\r\n                                    </Form.Label>\r\n\r\n                                    <Form.Control\r\n                                        type=\"password\"\r\n                                        className=\"userInfoTextBox w-75\"\r\n                                        placeholder=\"Confirm New Password\"\r\n                                        value={confirmNewPassword}\r\n                                        required=\"required\"\r\n                                        onChange={(event) =>\r\n                                            checkConfirmPassword(event)\r\n                                        }\r\n                                    />\r\n                                </Form.Group>\r\n                            </>\r\n                        )}\r\n                    </Card.Body>\r\n                    <Card.Footer>\r\n                        <Button\r\n                            type=\"submit\"\r\n                            disabled={!pageMode}\r\n                            block\r\n                            variant=\"success\"\r\n                            className=\"w-50 mx-auto\">\r\n                            <i\r\n                                className=\"fa fa-wrench px-2\"\r\n                                aria-hidden=\"true\"></i>\r\n                            ثبت تغییرات\r\n                        </Button>\r\n                    </Card.Footer>\r\n                </Form>\r\n            </Card>\r\n        </Fragment>\r\n    );\r\n};\r\n\r\nexport default AccountCredentials;\r\n","export default __webpack_public_path__ + \"static/media/no-avatar.5e7c913e.png\";","import noAvatar from \"./no-avatar.png\"; // definitely must be changed bro!\r\nimport {\r\n    Card,\r\n    Row,\r\n    Col,\r\n    Badge,\r\n    Image,\r\n    ListGroup,\r\n    Button,\r\n} from \"react-bootstrap\";\r\n\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst FriendRecords = (props) => {\r\n    const me = useSelector(state => state.player);\r\n\r\n    const friend = props.friend ? props.friend : me;\r\n\r\n    return (\r\n        <Card border=\"success\" bg=\"transparent\" className=\"friendRecords\">\r\n            <Image\r\n                className=\"card-img-top myFriendAvatar\"\r\n                src={noAvatar}\r\n                alt=\"مشکلی در بارگذاری تصویر پیش آمد\"\r\n            />\r\n            <hr />\r\n            <Card.Body>\r\n                <ListGroup className=\" list-group list-group-flush\">\r\n                    <ListGroup.Item className=\"bg-transparent\">\r\n                        <Row className=\"py-2\">\r\n                            <Col className=\"text-right\">\r\n                                <Card.Text>امتیاز بازیکن</Card.Text>\r\n                            </Col>\r\n                            <Col className=\"text-left\">\r\n                                <Badge\r\n                                    className=\"badgeFontSize\"\r\n                                    pill\r\n                                    variant=\"primary\">\r\n                                    {friend.records.points}\r\n                                </Badge>\r\n                            </Col>\r\n                        </Row>\r\n                    </ListGroup.Item>\r\n                    <ListGroup.Item className=\"bg-transparent\">\r\n                        <Row className=\"py-2\">\r\n                            <Col className=\"text-right\">\r\n                                <Card.Text>تعداد بردها</Card.Text>\r\n                            </Col>\r\n                            <Col className=\"text-left\">\r\n                                <Badge\r\n                                    className=\"badgeFontSize\"\r\n                                    pill\r\n                                    variant=\"primary\">\r\n                                    {friend.records.wins}\r\n                                </Badge>\r\n                            </Col>\r\n                        </Row>\r\n                    </ListGroup.Item>\r\n                    <ListGroup.Item className=\"bg-transparent\">\r\n                        <Row className=\"py-2\">\r\n                            <Col className=\"text-right\">تعداد تساوی ها</Col>\r\n                            <Col className=\"text-left\">\r\n                                <Badge\r\n                                    className=\"badgeFontSize\"\r\n                                    pill\r\n                                    variant=\"primary\">\r\n                                    {friend.records.draws}\r\n                                </Badge>\r\n                            </Col>\r\n                        </Row>\r\n                    </ListGroup.Item>\r\n                    <ListGroup.Item className=\"bg-transparent\">\r\n                        <Row className=\"py-2\">\r\n                            <Col className=\"text-right\">تعداد باخت ها</Col>\r\n                            <Col className=\"text-left\">\r\n                                <Badge\r\n                                    className=\"badgeFontSize\"\r\n                                    pill\r\n                                    variant=\"primary\">\r\n                                    {friend.records.loses}\r\n                                </Badge>\r\n                            </Col>\r\n                        </Row>\r\n                    </ListGroup.Item>\r\n                </ListGroup>\r\n            </Card.Body>\r\n            {friend !== me && <Card.Footer>\r\n                <Button\r\n                    variant=\"outline-danger\"\r\n                    block\r\n                    onClick={null}>\r\n                    <i\r\n                        className=\"fa fa-handshake-o px-2\"\r\n                        aria-hidden=\"true\"></i>\r\n                    لغو دوستی\r\n                </Button>\r\n            </Card.Footer>}\r\n        </Card>\r\n    );\r\n};\r\n\r\nexport default FriendRecords;\r\n","import { useState, useEffect } from \"react\";\r\nimport LoadingBar from \"../common/LoadingBar\";\r\nimport userServices from \"../services/http/userServices\";\r\nimport Configs from \"../services/configs\";\r\nimport gameServices from \"../services/http/gameServices\";\r\nimport { Card, Col, Nav, Row, Tab } from \"react-bootstrap\";\r\nimport AllScores from \"../tables/scores/AllScores\";\r\nimport './profile.css';\r\nimport FriendRecords from \"./FriendRecords\";\r\n\r\nconst MyGamesAndFriends = () => {\r\n    const [loading, setLoading] = useState(false);\r\n    const [myFriends, setMyFriends] = useState([]);\r\n    const [myGames, setMyGames] = useState([]);\r\n    const [filterID, setFilterID] = useState(\"me\");\r\n    const [selectedFriendIndex, setSelectedFriendIndex] = useState(-1);\r\n    useEffect(() => {\r\n        (async () => {\r\n            try {\r\n                setLoading(true); // use preloader here?\r\n                let serverResponse = await gameServices.getMyGames();\r\n                if (serverResponse.status === Configs.Status.Successful)\r\n                    setMyGames(serverResponse.data.myGames.reverse());\r\n                serverResponse = await userServices.getMyFriends();\r\n                if (serverResponse.status === Configs.Status.Successful)\r\n                    setMyFriends(serverResponse.data.friends);\r\n            } catch (err) {\r\n                console.log(err);\r\n                setLoading(false);\r\n            }\r\n            setLoading(false);\r\n        })();\r\n    }, []);\r\n\r\n\r\n    useEffect(() => {\r\n        setSelectedFriendIndex(filterID !== \"me\" ? myFriends.findIndex(friend => friend.userID === filterID) : -1);\r\n        // if filterID === \"me\" || frined id wia .findIndex not found ---> returns -1\r\n    }, [filterID, myFriends])\r\n    return (\r\n        <Card\r\n            border=\"secondary\"\r\n            bg=\"transparent\"\r\n            className=\"mx-auto bigSingleCard\">\r\n            <Card.Header className=\"text-center\">\r\n                لیست دوستان و آمار بازی ها\r\n            </Card.Header>\r\n            <LoadingBar loading={loading} />\r\n            <Card.Body >\r\n                <LoadingBar loading={loading} />\r\n                <Tab.Container\r\n                    defaultActiveKey={filterID}\r\n                    onSelect={(key) => setFilterID(key)}>\r\n                    <Row>\r\n                        <Col xs={2}>\r\n                            <Nav\r\n                                variant=\"pills\"\r\n                                className=\"flex-column text-right\">\r\n                                <Nav.Item>\r\n                                    <Nav.Link eventKey=\"me\">\r\n                                        همه بازی ها\r\n                                    </Nav.Link>\r\n                                </Nav.Item>\r\n                                {myFriends.map((friend) => (\r\n                                    <Nav.Item>\r\n                                        <Nav.Link eventKey={friend.userID}>\r\n                                            {friend.fullname}\r\n                                        </Nav.Link>\r\n                                    </Nav.Item>\r\n                                ))}\r\n                            </Nav>\r\n                        </Col>\r\n                        {/* EDIT MAIL LAYOUT <Col> LIKE THIS */}\r\n                        <Col>\r\n                            <Tab.Content >\r\n                                <Tab.Pane eventKey=\"me\">\r\n                                    <AllScores scores={myGames} />\r\n                                </Tab.Pane>\r\n                                {myFriends.map((friend) => (\r\n                                    <Tab.Pane eventKey={friend.userID}>\r\n                                        <AllScores\r\n                                            scores={myGames.filter(\r\n                                                (game) =>\r\n                                                    friend.userID ===\r\n                                                        game.players[0].id ||\r\n                                                    friend.userID ===\r\n                                                        game.players[1].id\r\n                                            )}\r\n                                        />\r\n                                    </Tab.Pane>\r\n                                ))}\r\n                            </Tab.Content>\r\n                        </Col>\r\n                        {/* EDIT MAIL LAYOUT <Col> LIKE THIS */}\r\n                        {<Col xs={4}>\r\n                            <FriendRecords friend={selectedFriendIndex !== -1 ? myFriends[selectedFriendIndex] : null} />\r\n                        </Col>}\r\n                    </Row>\r\n                </Tab.Container>\r\n            </Card.Body>\r\n        </Card>\r\n    );\r\n};\r\n\r\nexport default MyGamesAndFriends;\r\n","import { Routes } from '../configs';\r\n\r\nimport http from \"./httpService\";\r\n\r\nconst {Server} = Routes;\r\n\r\nconst chatServices = {\r\n    \r\n    getOurChat: (friendID) => {\r\n        return http.get(`${Server.Root}/${Server.Chats}/${friendID}`);\r\n    }\r\n};\r\n\r\nexport default chatServices;","import { Fragment, useState, useEffect } from \"react\";\r\nimport { Alert, Col, Row } from \"react-bootstrap\";\r\nimport DateObject from \"react-date-object\";\r\nimport persian from \"react-date-object/calendars/persian\";\r\nimport persian_fa from \"react-date-object/locales/persian_fa\";\r\nimport \"./chat.css\";\r\n\r\nconst Message = ({ msg, previousDay, inSmartphone }) => {\r\n    const { date } = msg; // destructure date from msg then make a new date object\r\n    // reason for making new Date objects is that react throws error some time when you use it without new Date :|\r\n    const [showDate, setShowDate] = useState(false); //for each day, the first message in that day has persian date above it\r\n    const [time, setTime] = useState(null);\r\n    const [persianDate, setPersianDate] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const persianDateObject = new DateObject({\r\n            date: new Date(date),\r\n            calendar: persian,\r\n            locale: persian_fa,\r\n        });\r\n        setPersianDate(persianDateObject.format(\"dddd DD MMMM YYYY\"));\r\n        setTime(persianDateObject.format(\"hh:mm\"));\r\n        setShowDate(\r\n            new Date(date).getDate() !== previousDay || previousDay === 0\r\n        ); //     0 means this is the first message in the chat\r\n    }, [date, previousDay]);\r\n\r\n    //note: Device.Smartphone is 0 -> so it inSmartphone is used conditionally but it actually contains device type and not a boolean\r\n    return (\r\n        <Fragment>\r\n            {!showDate ? null : (\r\n                <Fragment>\r\n                    <hr />\r\n                    <p className=\"messageDate\">{persianDate}</p>\r\n                </Fragment>\r\n            )}\r\n            {!inSmartphone ? (\r\n                <Row>\r\n                    <Col>\r\n                        {msg.me && (\r\n                            <Alert className=\"w-100 text-right\" variant=\"dark\">\r\n                                <Row>\r\n                                    <Col>{msg.me}</Col>\r\n                                    <Col className=\"messageTime\" xs={3}>\r\n                                        {time}\r\n                                    </Col>\r\n                                </Row>\r\n                            </Alert>\r\n                        )}\r\n                    </Col>\r\n                    <Col>\r\n                        {msg.friend && (\r\n                            <Alert\r\n                                className=\"w-100 text-right\"\r\n                                variant=\"primary\">\r\n                                <Row>\r\n                                    <Col>{msg.friend}</Col>\r\n                                    <Col className=\"messageTime\" xs={3}>\r\n                                        {time}\r\n                                    </Col>\r\n                                </Row>\r\n                            </Alert>\r\n                        )}\r\n                    </Col>\r\n                </Row>\r\n            ) : (\r\n                <Row>\r\n                    <Alert className=\"w-100 text-right\" variant=\"dark\">\r\n                        <Row>\r\n                            <Col>{msg.me ? msg.me : msg.friend}</Col>\r\n                            <Col className=\"messageTime\" xs={3}>\r\n                                {time}\r\n                            </Col>\r\n                        </Row>\r\n                    </Alert>\r\n                </Row>\r\n            )}\r\n        </Fragment>\r\n    );\r\n};\r\n\r\nexport default Message;\r\n","import {\r\n    Button,\r\n    Card,\r\n    Container,\r\n    Form,\r\n    InputGroup,\r\n    Row,\r\n    Tab,\r\n} from \"react-bootstrap\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { useState, useEffect, useCallback, useRef } from \"react\";\r\nimport { SendMessageTo } from \"../dashboard/actions\";\r\nimport \"./chat.css\";\r\nimport { Device, Status } from \"../services/configs\";\r\nimport chatServices from \"../services/http/chatServices\";\r\n\r\nimport Message from \"./Message\";\r\n\r\nconst ChatMessageBox = ({ friendID }) => {\r\n    const [myMessage, setMyMessage] = useState(\"\");\r\n    const message = useSelector((state) => state.message);\r\n    const device = useSelector((state) => state.device);\r\n    const dispatch = useDispatch();\r\n    const me = useSelector((state) => state.player);\r\n    const mostRecentMessageRef = useRef(null);\r\n\r\n    //...TEMP: just save msges in client side\r\n    const [allMsgs, setAllMsgs] = useState([\r\n        { me: null, friend: null, date: null },\r\n    ]);\r\n\r\n    const loadPreviousMessages = useCallback(async () => {\r\n        try {\r\n            const { status, data } = await chatServices.getOurChat(friendID);\r\n            if (status === Status.Successful) {\r\n                const { myIndex, chat } = data;\r\n                const previousMsgs = chat.map((message) => {\r\n                    const { text, owner, date } = message;\r\n                    if (owner === myIndex)\r\n                        return { me: text, friend: null, date };\r\n                    return { me: null, friend: text, date };\r\n                });\r\n                setAllMsgs(previousMsgs);\r\n            }\r\n        } catch (err) {\r\n            //consider a special place in chat box to show status change or error messages\r\n        }\r\n    }, [friendID]);\r\n\r\n    useEffect(() => {\r\n        loadPreviousMessages();\r\n\r\n        return () => {\r\n            setAllMsgs([]);\r\n        };\r\n    }, [loadPreviousMessages]);\r\n\r\n    const composeMessage = (event) => {\r\n        event.preventDefault();\r\n        let tempMsg = [...allMsgs];\r\n        tempMsg.push({ me: myMessage, friend: null, date: new Date() });\r\n        setAllMsgs(tempMsg);\r\n        dispatch(SendMessageTo(me.fullname, friendID, myMessage));\r\n        setMyMessage(\"\");\r\n\r\n        if (mostRecentMessageRef && mostRecentMessageRef.current) {\r\n            setTimeout(() => {\r\n                mostRecentMessageRef.current.scrollIntoView({\r\n                    behavior: \"smooth\",\r\n                    top: mostRecentMessageRef.current.offsetTop,\r\n                });\r\n            }, 100);\r\n        }\r\n    };\r\n\r\n    const recieveMessage = useCallback(\r\n        (msg) => {\r\n            let tempMsg = [...allMsgs];\r\n            tempMsg.push({ me: null, friend: msg.text, date: new Date() });\r\n            return tempMsg;\r\n        },\r\n        [allMsgs]\r\n    );\r\n\r\n    useEffect(() => {\r\n        const { recieved } = message;\r\n        if (!message.sent && recieved && recieved.friendID === friendID) {\r\n            setAllMsgs(recieveMessage(message.recieved));\r\n        }\r\n    }, [message, friendID]);\r\n\r\n    return (\r\n        <Tab.Pane eventKey={friendID}>\r\n            <Container>\r\n                <Row>\r\n                    <Card\r\n                        border=\"dark\"\r\n                        bg=\"transparent\"\r\n                        className={`mx-auto bigSingleCard ${\r\n                            device !== Device.SmartPhone\r\n                                ? \"chatBoxScrollable\"\r\n                                : \"smartphoneChatBoxScrollable\"\r\n                        }`}>\r\n                        <Card.Body>\r\n                            {allMsgs.map((msg, index) => (\r\n                                <div ref={mostRecentMessageRef}>\r\n                                    <Message\r\n                                        msg={msg}\r\n                                        inSmartphone={device}\r\n                                        previousDay={\r\n                                            index !== 0\r\n                                                ? (new Date(\r\n                                                      allMsgs[index-1].date\r\n                                                  )).getDate()\r\n                                                : 0\r\n                                        }\r\n                                    />\r\n                                </div>\r\n                            ))}\r\n                        </Card.Body>\r\n                    </Card>\r\n                </Row>\r\n                <Row>\r\n                    <Form\r\n                        onSubmit={(event) => composeMessage(event)}\r\n                        className=\"w-100 mt-3\">\r\n                        <InputGroup className=\"w-100\">\r\n                            <InputGroup.Prepend\r\n                                style={{\r\n                                    width: \"8%\",\r\n                                }}>\r\n                                <Button\r\n                                    type=\"submit\"\r\n                                    style={{\r\n                                        border: \"none\",\r\n                                    }}\r\n                                    className=\"w-100 mx-auto\"\r\n                                    variant=\"outline-info\">\r\n                                    <i\r\n                                        className=\"fa fa-paper-plane\"\r\n                                        aria-hidden=\"true\"></i>\r\n                                </Button>\r\n                            </InputGroup.Prepend>\r\n\r\n                            <InputGroup.Prepend\r\n                                style={{\r\n                                    margin: \"auto\",\r\n                                    width: \"92%\",\r\n                                }}>\r\n                                <Form.Control\r\n                                    value={myMessage}\r\n                                    onChange={(e) =>\r\n                                        setMyMessage(e.target.value)\r\n                                    }\r\n                                    placeholder=\"پیام...\"\r\n                                    className=\"bg-transparent chatRoomMessageBox\r\n                                    mx-auto text-right\"></Form.Control>\r\n                            </InputGroup.Prepend>\r\n                        </InputGroup>\r\n                    </Form>\r\n                </Row>\r\n            </Container>\r\n        </Tab.Pane>\r\n    );\r\n};\r\n\r\nexport default ChatMessageBox;\r\n","import { Card, Row, Col, Nav, Tab } from \"react-bootstrap\";\r\nimport { useEffect, useState } from \"react\";\r\nimport Configs from \"../services/configs\";\r\nimport userServices from \"../services/http/userServices\";\r\nimport SingleChatCard from \"./ChatMessageBox\";\r\nimport { useSelector } from \"react-redux\";\r\nimport \"./chat.css\";\r\nimport LoadingBar from '../common/LoadingBar';\r\n\r\nconst ChatRoom = () => {\r\n    const [loading, setLoading] = useState(false);\r\n    const device = useSelector((state) => state.device);\r\n    const [myFriends, setMyFriends] = useState([]);\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n            try {\r\n                setLoading(true); // use preloader here?\r\n                const { status, data } = await userServices.getMyFriends();\r\n                if (status === Configs.Status.Successful)\r\n                    setMyFriends(data.friends);\r\n            } catch (err) {\r\n                setLoading(false);\r\n            }\r\n            setLoading(false);\r\n        })();\r\n    }, []);\r\n\r\n    return (\r\n        <Card\r\n            border=\"secondary\"\r\n            bg=\"transparent\"\r\n            className=\"mx-auto bigSingleCard\">\r\n            <LoadingBar loading={loading} />\r\n            <Card.Header className=\"text-center\">چت روم شما</Card.Header>\r\n            <Card.Body>\r\n                <Tab.Container\r\n                // id=\"left-tabs-example\"\r\n                // defaultActiveKey={filterID}\r\n                // onSelect={(key) => setFilterID(key)}\r\n                >\r\n                    <Row>\r\n                        <Col\r\n                            className={\r\n                                device !== Configs.Device.SmartPhone\r\n                                    ? \"chatRoomDevider chatScrollableFriends\"\r\n                                    : \"smartphoneChatScrollableFriends\"\r\n                            }\r\n                            sm={3}>\r\n                            <Nav\r\n                                variant=\"pills\"\r\n                                className=\"flex-column text-right\">\r\n                                {myFriends.map((friend) => (\r\n                                    <Nav.Item>\r\n                                        <Nav.Link eventKey={friend.userID}>\r\n                                            {friend.fullname}\r\n                                        </Nav.Link>\r\n                                    </Nav.Item>\r\n                                ))}\r\n                            </Nav>\r\n                        </Col>\r\n                        {/* EDIT MAIL LAYOUT <Col> LIKE THIS */}\r\n                        <Col>\r\n                            <Tab.Content>\r\n                                {myFriends.map((friend) => (\r\n                                    <SingleChatCard friendID={friend.userID} />\r\n                                ))}\r\n                            </Tab.Content>\r\n                        </Col>\r\n                    </Row>\r\n                </Tab.Container>\r\n            </Card.Body>\r\n        </Card>\r\n    );\r\n};\r\n\r\nexport default ChatRoom;\r\n","import { Component } from \"react\";\r\nimport ScoresTable from \"./tables/scores/ScoresTable\";\r\nimport { Route, Switch } from \"react-router-dom\";\r\nimport GameGuide from \"./informations/GameGuide\";\r\nimport ContactUs from \"./informations/ContactUs\";\r\nimport SignUp from \"./users/SignUp\";\r\nimport MainLayout from \"./common/MainLayout\";\r\nimport Rankings from \"./tables/rankings/Rankings\";\r\nimport GameDeck from \"./games/GameDeck\";\r\nimport NoticeManager from \"./profile/NoticeManager\";\r\nimport AccountCredentials from \"./profile/AcountCredentials\";\r\nimport MyGamesAndFriends from \"./profile/MyGamesAndFriends\";\r\nimport { Routes } from \"./services/configs\";\r\nimport ChatRoom from \"./chat/ChatRoom\";\r\n\r\nclass App extends Component {\r\n    // 1. use uuid to produce ids\r\n    // state = {  }\r\n\r\n    render() {\r\n        return (\r\n            <MainLayout>\r\n                <Switch>\r\n                    <Route path={Routes.Client.SignUp} component={SignUp} />\r\n                    <Route path={Routes.Client.GameDeck} component={GameDeck} />\r\n                    <Route path={Routes.Client.Rankings} component={Rankings} />\r\n                    <Route\r\n                        path={Routes.Client.GameGuide}\r\n                        component={GameGuide}\r\n                    />\r\n                    <Route\r\n                        path={Routes.Client.ContactUs}\r\n                        component={ContactUs}\r\n                    />\r\n\r\n                    <Route\r\n                        path={Routes.Client.MyGamesAndFriends}\r\n                        component={MyGamesAndFriends}\r\n                    />\r\n                    <Route\r\n                        path={Routes.Client.Notices}\r\n                        component={NoticeManager}\r\n                    />\r\n                    <Route\r\n                        exact\r\n                        path={Routes.Client.Profile}\r\n                        component={AccountCredentials}\r\n                    />\r\n                    <Route\r\n                        path={Routes.Client.ChatRoom}\r\n                        component={ChatRoom}\r\n                    />\r\n                    \r\n                    <Route\r\n                        path={Routes.Client.Root}\r\n                        exact\r\n                        component={ScoresTable}\r\n                    />\r\n                </Switch>\r\n            </MainLayout>\r\n        );\r\n    }\r\n}\r\n\r\nexport default App;\r\n","import { combineReducers } from \"redux\";\r\nimport { playerReducer } from \"./player\";\r\nimport { opponentReducer } from \"./opponent\";\r\nimport { roomReducer } from './room';\r\nimport { scoreboardReducer } from './scoreboard';\r\nimport { toolsReducer } from \"./tools\";\r\nimport { statisticsReducer } from \"./statistics\";\r\nimport { messageReducer } from './message';\r\nimport { deviceReducer } from './device';\r\n\r\nexport const reducers = combineReducers({\r\n    player: playerReducer,\r\n    opponent: opponentReducer,\r\n    room: roomReducer,\r\n    scoreboard: scoreboardReducer,\r\n    tools: toolsReducer,\r\n    statistics: statisticsReducer,\r\n    message: messageReducer,\r\n    device: deviceReducer\r\n});","export const playerReducer = (state = null, action) => {\r\n    switch (action.type) {\r\n        case \"LOAD_ME\":\r\n            return action.payload;\r\n\r\n        case \"UPDATE_ME\":\r\n            return null; //sets state.player => null, forces Mainlayout to reload and update state.player data\r\n\r\n        case \"SIGN_OUT\": {\r\n            sessionStorage.clear();\r\n            return null;\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n","export const opponentReducer = (state = null, action) => {\r\n    switch (action.type) {\r\n        case \"LOAD_OPPONENT\":\r\n            return action.payload;\r\n        case \"RESET_OPPONENT\":\r\n            return null;\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n","export const roomReducer = (state = {name: null, type: null}, action) => {\r\n    switch (action.type) {\r\n        case \"SET_ROOM\":\r\n            const {name, type} = action.payload;            \r\n            return {name, type};\r\n        // case \"SET_GAME_ID\":\r\n        //     return action.payload;\r\n        case \"RESET_ROOM\":\r\n            return {name: null, type: null}\r\n        default:\r\n            return state;\r\n    }\r\n};","// simple scoreboard for player's live games\r\n\r\nexport const scoreboardReducer = (state = {me: null, opp: null}, action) => {\r\n    switch (action.type) {\r\n        case \"UPDATE_SCOREBOARD\":\r\n            return action.payload; // payload === {me: {shape: , score: }, opp: 0} // null for ended or not started games : {me: null, opp: null}\r\n        case \"CLEAN_SCOREBAORD\":\r\n            return {me: null, opp: null};\r\n        default:\r\n            return state;\r\n    }\r\n};","export const toolsReducer = (\r\n    state = {\r\n        updateTriggered: false,\r\n        opponentSearchTriggered: false,\r\n        friendRequest: false,\r\n    },\r\n    action\r\n) => {\r\n    switch (action.type) {\r\n        case \"TRIGGER_UPDATE\":\r\n            return {\r\n                updateTriggered: !state.updateTriggered,\r\n                opponentSearchTriggered: state.opponentSearchTriggered,\r\n                friendRequest: null,\r\n            }; //trigger update\r\n        case \"TRIGGER_OPPONENT_SEARCH\":\r\n            return {\r\n                updateTriggered: state.updateTriggered,\r\n                opponentSearchTriggered: !state.opponentSearchTriggered,\r\n                friendRequest: null,\r\n            }; //trigger search\r\n        case \"SEND_FRIEND_REQUEST\":\r\n            return {\r\n                updateTriggered: state.updateTriggered,\r\n                opponentSearchTriggered: state.opponentSearchTriggered,\r\n                friendRequest: action.payload,\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n","\r\nexport const statisticsReducer = (state = {players: 0, games: 0}, action) => {\r\n    switch (action.type) {\r\n        case \"UPDATE_STATISTICS\":\r\n            const {players, games} = action.payload;\r\n            return {players, games};\r\n        \r\n        default:\r\n            return state;\r\n    }\r\n};","export const messageReducer = (\r\n    state = { sent: null, recieved: null },\r\n    action\r\n) => {\r\n    switch (action.type) {\r\n        case \"RECIEVE_MESSAGE\":\r\n            {\r\n                const { friendID, name, text } = action.payload;\r\n                console.log(action.payload);\r\n                return { recieved: { name, friendID, text }, sent: state.sent };\r\n            }\r\n        case \"SEND_MESSAGE\":\r\n            {\r\n                const { friendID, name, text } = action.payload;\r\n                console.log('payload', action.payload);\r\n                return { sent: { name, friendID, text }, recieved: state.recieved };\r\n            }\r\n        case \"RESET_MESSAGES\":\r\n            {\r\n                return { sent: null, recieved: null };\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n};","export const deviceReducer = (state = 0, action) => {\r\n    switch (action.type) {\r\n        case \"SET_DEVICE\":\r\n            return action.payload;\r\n        \r\n        default:\r\n            return state;\r\n    }\r\n};","import { createStore } from \"redux\";\r\nimport { reducers } from \"../reducers\";\r\n\r\nexport const store = createStore(\r\n    reducers,\r\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__() //temp: enable chrome redux manager extension\r\n);\r\n\r\n//dispatch\r\n// store.subscribe(() => console.log(store.getState()));","import { render } from \"react-dom\";\r\nimport App from \"./App.js\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport { store } from \"./dashboard/store/index\";\r\n\r\nrender(\r\n    <BrowserRouter>\r\n        <Provider store={store}>\r\n            <App />\r\n        </Provider>\r\n    </BrowserRouter>,\r\n    document.getElementById(\"root\")\r\n);\r\n","const ClientRoutes = require('./client');\r\nconst ServerRoutes = require('./server');\r\nconst Status = require('./status');\r\nconst BrowserStorage = require('./browser');\r\nconst GameSetting = require('./gamesetting');\r\n\r\n//all configs\r\nmodule.exports = {\r\n    BrowserStorage,\r\n    Routes: { Server: ServerRoutes, Client: ClientRoutes },\r\n    Status,\r\n    GameSetting,\r\n    Device: { SmartPhone: 0, Tablet: 1, Desktop: 2 }\r\n}"],"sourceRoot":""}