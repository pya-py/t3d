(this.webpackJsonpt3d=this.webpackJsonpt3d||[]).push([[0],{18:function(e){e.exports=JSON.parse('{"serverRoot":"https://t3dweb.herokuapp.com","localRoot":"http://localhost:4000","webSocketRoot":"wss://t3dweb.herokuapp.com","webSocketLocalRoot":"ws://localhost:4000","signupRoute":"signup","signinRoute":"signin","usersRoute":"users","gamesRoute":"games","gameSaveRoute":"save"}')},53:function(e,t,n){},62:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){},98:function(e,t,n){},99:function(e,t,n){"use strict";n.r(t);var r=n(23),a=n(14),s=n(15),c=n(17),o=n(16),l=n(0),i=n(8),u=n.n(i),d=n(19),b=(n(53),n(1)),j=function(e){var t=e.playerXName,n=e.playerOName,r=e.xScore,a=e.oScore,s=null,c=null,o=null,l=null;return r>a?(o="badge-success",s={border:"5px solid green",borderRadius:"15px",paddingLeft:"1%",paddingRight:"1%"},l="badge-danger",c=null):r===a?(o="badge-warning",l="badge-warning",s=null,c=null):(l="badge-success",c={border:"5px solid green",borderRadius:"15px",paddingLeft:"1%",paddingRight:"1%"},o="badge-danger",s=null),Object(b.jsxs)("div",{className:"card border-info mb-3 scoreCard",children:[Object(b.jsx)("div",{className:"card-header text-center border-info",children:"\u0646\u0648\u0639 \u0628\u0627\u0632\u06cc"}),Object(b.jsx)("div",{className:"card-body",children:Object(b.jsxs)("div",{className:"row text-center mx-auto",children:[Object(b.jsx)("span",{className:"col-5",style:s,children:t}),Object(b.jsx)("span",{className:"badge badge-pill ".concat(o," scoreBadge col-1"),children:r<10?"0".concat(r):"".concat(r)}),Object(b.jsx)("span",{className:"badge badge-pill ".concat(l," scoreBadge col-1"),children:a<10?"0".concat(a):"".concat(a)}),Object(b.jsx)("span",{className:"col-5",style:c,children:n})]})}),Object(b.jsx)("button",{id:"btnReplayGame",className:"btn btn-outline-info btn-lg btn-block",children:"\u0628\u0627\u0632\u067e\u062e\u0634 \u0628\u0627\u0632\u06cc"})]})},p=function(e){var t=e.scores;return Object(b.jsx)(l.Fragment,{children:t.map((function(e){return Object(b.jsx)(j,{playerXName:e.xName,playerOName:e.oName,xScore:e.xScore,oScore:e.oScore},e.gameID)}))})},m=n(18),h=n(27),x=n.n(h),O=n(13);x.a.defaults.headers.post["Content-Type"]="application/json",x.a.defaults.headers.put["Content-Type"]="application/json",x.a.interceptors.request.use((function(e){var t=sessionStorage.getItem("token");return e.headers.Authorization=t?"Bearer ".concat(t):null,e}),(function(e){return Promise.reject(e)})),x.a.interceptors.response.use(null,(function(e){var t=401,n=422,r=e.response&&e.response.status>=400&&e.response.status<500;return e.response.status===t?O.b.error("\u0634\u0645\u0627\u0631\u0647 \u062f\u0627\u0646\u0634\u062c\u0648\u06cc\u06cc \u06cc\u0627 \u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u0646\u0627\u062f\u0631\u0633\u062a \u0627\u0633\u062a",{position:"top-right",closeOnClick:!0}):e.response.status===n?O.b.error("\u0641\u0631\u0645\u062a \u0648\u0631\u0648\u062f\u06cc \u0646\u0627\u062f\u0631\u0633\u062a \u0627\u0633\u062a",{position:"top-right",closeOnClick:!0}):r||O.b.error("\u0645\u0634\u06a9\u0644\u06cc \u0627\u0632 \u0633\u0645\u062a \u0633\u0631\u0648\u0631 \u0631\u062e \u062f\u0627\u062f\u0647 \u0627\u0633\u062a.",{position:"top-right",closeOnClick:!0}),Promise.reject(e)}));var f={get:x.a.get,post:x.a.post,put:x.a.put,delete:x.a.delete},v={signUp:function(e){return f.post("".concat(m.serverRoot,"/").concat(m.usersRoute,"/").concat(m.signupRoute),JSON.stringify(e))},signIn:function(e){return f.post("".concat(m.serverRoot,"/").concat(m.usersRoute,"/").concat(m.signinRoute),JSON.stringify(e))},getPlayer:function(e){return f.get("".concat(m.serverRoot,"/").concat(m.usersRoute,"/").concat(e))},getAllPlayers:function(){return f.get("".concat(m.serverRoot,"/").concat(m.usersRoute))},saveUser:function(e,t){sessionStorage.setItem("uid",e),sessionStorage.setItem("token",t)},readUserID:function(){return sessionStorage.getItem("uid")}},g={getAllResults:function(){return f.get("".concat(m.serverRoot,"/").concat(m.gamesRoute))},loadPlayerData:function(){var e=Object(d.a)(u.a.mark((function e(t){var n,r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return e.next=3,v.getPlayer(t);case 3:n=e.sent,r=n.data,a=n.status;case 6:return e.abrupt("return",new Promise((function(e,n){null===t&&n(null),200===a&&e(r.player),n(null)})));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},y=function(e){Object(c.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={liveScores:[],finalScores:[],showLiveOnes:!1,loading:!1},e.btnShowLiveScores=function(){e.setState({showLiveOnes:!0})},e.btnShowFinalScores=function(){e.setState({showLiveOnes:!1})},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;Object(d.a)(u.a.mark((function t(){var n,r,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({loading:!0}),n={SUCCESSFULL:200},t.next=4,g.getAllResults();case 4:if(r=t.sent,a=r.data,r.status!==n.SUCCESSFULL){t.next=9;break}return t.abrupt("return",a.gameResults);case 9:return t.abrupt("return",[]);case 10:case"end":return t.stop()}}),t)})))().then((function(t){e.setState({liveScores:t.filter((function(e){return e.isLive})),finalScores:t.filter((function(e){return!e.isLive})),loading:!1})})).catch((function(t){e.setState({finalScores:[],loading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.liveScores,n=e.finalScores,r=e.showLiveOnes;return Object(b.jsxs)("div",{className:"container",children:[Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-6",children:Object(b.jsx)("button",{className:"scoresTypeSelectButton btn ".concat(r?"btn-outline-success":"btn-outline-primary"),onClick:this.btnShowLiveScores,children:"\u0646\u062a\u0627\u06cc\u062c \u0632\u0646\u062f\u0647"})}),Object(b.jsx)("div",{className:"col-6",children:Object(b.jsx)("button",{className:"scoresTypeSelectButton btn ".concat(r?"btn-outline-primary":"btn-outline-success"),onClick:this.btnShowFinalScores,children:"\u0646\u062a\u0627\u06cc\u062c \u0646\u0647\u0627\u06cc\u06cc"})})]}),Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col-12",children:Object(b.jsx)(p,{scores:r?t:n})})})]})}}]),n}(l.Component),N=n(7),S=(n(62),function(){return Object(b.jsxs)("div",{className:"card border-warning mb-3 singleCard",children:[Object(b.jsx)("div",{className:"card-header text-center border-warning",children:"\u0642\u0648\u0627\u0646\u06cc\u0646 \u0628\u0627\u0632\u06cc"}),Object(b.jsxs)("div",{className:"card-body text-right",children:[Object(b.jsx)("p",{children:"\u0633\u0637\u0631 \u0627\u0648\u0644"}),Object(b.jsx)("p",{children:"\u0633\u0637\u0631 \u062f\u0648\u0645"}),Object(b.jsx)("p",{children:"\u0633\u0637\u0631 \u0633\u0648\u0645"}),Object(b.jsx)("p",{children:"\u0633\u0637\u0631 \u0686\u0647\u0627\u0631\u0645"}),Object(b.jsx)("p",{children:"\u0633\u0637\u0631 \u067e\u0646\u062c\u0645"}),Object(b.jsx)("p",{children:"\u0633\u0637\u0631 \u0634\u0634\u0645"}),Object(b.jsx)("p",{children:"blah blah blah"})]})]})}),w=function(){return Object(b.jsxs)("div",{className:"card border-dark mb-3 singleCard",children:[Object(b.jsx)("div",{className:"card-header text-center border-dark",children:"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u062a\u0645\u0627\u0633"}),Object(b.jsxs)("div",{className:"card-body text-center",children:[Object(b.jsx)("p",{children:"\u062f\u0627\u0646\u0634\u06af\u0627\u0647 \u0639\u0644\u0645 \u0648 \u0635\u0646\u0639\u062a \u0627\u06cc\u0631\u0627\u0646"}),Object(b.jsxs)("p",{children:["E-mail: ",Object(b.jsx)("a",{href:"https://mail.google.com",children:"thcplusplus@gmail.com"})]}),Object(b.jsx)("p",{children:"Phone Number: 0000000000000"}),Object(b.jsx)("p",{children:"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u062a\u0645\u0627\u0633 \u0627\u0633\u062a\u0627\u062f"}),Object(b.jsx)("p",{children:"instagram: ......"}),Object(b.jsx)("p",{children:"blah blah blah"})]})]})},C=n(101),k=n(102),I=n(103),T=n(63),D=function(e){var t=e.loading;return Object(l.useLayoutEffect)((function(){document.body.style={overflowY:"auto"},document.body.style={height:"auto"}}),[t]),Object(b.jsx)(b.Fragment,{children:t?Object(b.jsx)(T.Planets,{time:0,customLoading:t}):null})},R=function(e){Object(c.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={showModal:!1,studentID:"",password:"",loading:!1},e.onCloseClick=function(){return e.setState({showModal:!1})},e.onShowClick=function(){return e.setState({showModal:!0})},e.onSignInSubmitted=function(){var t=Object(d.a)(u.a.mark((function t(n){var r,a,s,c,o,l,i,d;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),e.setState({loading:!0}),r={SUCCESSFULL:200,AUTHENTICATION_INVALID:401},a=e.state,s=a.studentID,c=a.password,o={studentID:Number(s),password:c},t.prev=5,t.next=8,v.signIn(o);case 8:l=t.sent,i=l.status,d=l.data,i===r.SUCCESSFULL&&(v.saveUser(d.userID,d.token),e.props.history.replace("/")),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(5),e.setState({password:""});case 17:e.setState({loading:!1});case 18:case"end":return t.stop()}}),t,null,[[5,14]])})));return function(e){return t.apply(this,arguments)}}(),e.onForgotPasswordClick=function(){},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.showModal,r=t.studentID,a=t.password,s=t.loading;return Object(b.jsxs)(l.Fragment,{children:[Object(b.jsx)(D,{loading:s}),Object(b.jsx)(C.a,{variant:"outline-primary",onClick:this.onShowClick,children:"\u0648\u0631\u0648\u062f \u06a9\u0627\u0631\u0628\u0631\u0627\u0646"}),Object(b.jsxs)(k.a,{show:n,onHide:this.onCloseClick,children:[Object(b.jsx)(k.a.Header,{closeButton:!0}),Object(b.jsx)(k.a.Body,{children:Object(b.jsxs)(I.a,{className:"m-4 text-right",onSubmit:function(t){return e.onSignInSubmitted(t)},children:[Object(b.jsxs)(I.a.Group,{className:"mb-3 form-inline",children:[Object(b.jsx)(I.a.Label,{className:"w-25",children:"\u0634\u0645\u0627\u0631\u0647 \u062f\u0627\u0646\u0634\u062c\u0648\u06cc\u06cc"}),Object(b.jsx)(I.a.Control,{type:"text",className:"w-75 text-left",placeholder:"Student ID",value:r,onChange:function(t){return e.setState({studentID:t.target.value})}})]}),Object(b.jsxs)(I.a.Group,{className:"mb-3 form-inline",controlId:"formBasicPassword",children:[Object(b.jsx)(I.a.Label,{className:"w-25",children:"\u0631\u0645\u0632 \u0639\u0628\u0648\u0631"}),Object(b.jsx)(I.a.Control,{type:"password",className:"w-75 text-left",placeholder:"Password",value:a,onChange:function(t){return e.setState({password:t.target.value})}})]}),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(C.a,{className:"w-50",type:"submit",variant:"outline-success",children:"\u0648\u0631\u0648\u062f"}),Object(b.jsx)(C.a,{className:"w-50",variant:"outline-info",onClick:this.onForgotPasswordClick,children:"\u0641\u0631\u0627\u0645\u0648\u0634\u06cc \u0631\u0645\u0632"})]})]})})]})]})}}]),n}(l.Component),E=Object(N.f)(R),L=(n(96),function(e){Object(c.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={studentID:"",password:"",confirmPassword:"",firstname:"",lastname:"",email:"",loading:!1},e.checkConfirmPassword=function(t){e.setState({confirmPassword:t.target.value}),e.state.password!==t.target.value?t.target.setCustomValidity("\u062a\u0627\u06cc\u06cc\u062f \u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u0628\u0627\u06cc\u062f \u0628\u0627 \u062e\u0648\u062f \u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u0645\u0637\u0627\u0628\u0642\u062a \u06a9\u0627\u0645\u0644 \u062f\u0627\u0634\u062a\u0647 \u0628\u0627\u0634\u062f"):t.target.setCustomValidity("")},e.onSignUpSubmit=function(){var t=Object(d.a)(u.a.mark((function t(n){var r,a,s,c,o,l,i,d,b,j,p,m;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),r=e.state,a=r.studentID,s=r.password,c=r.confirmPassword,o=r.firstname,l=r.lastname,i=r.email,!(o.trim().length<3||l.trim().length<3)){t.next=6;break}return O.b.error("\u0646\u0627\u0645 \u0648 \u0646\u0627\u0645 \u062e\u0627\u0646\u0648\u0627\u062f\u06af\u06cc \u0628\u0627\u06cc\u062f \u062d\u062f\u0627\u0642\u0644 \u0634\u0627\u0645 \u0633\u0647 \u062d\u0631\u0641 \u0641\u0627\u0631\u0633\u06cc \u0628\u0627\u0634\u062f",{position:"top-right",closeOnClick:!0}),e.setState({firstname:o.trim(),lastname:l.trim()}),t.abrupt("return");case 6:if(d={USER_CREATED:201,ALREADY_EXISTS:403},s!==c){t.next=25;break}return t.prev=8,e.setState({loading:!0}),b={studentID:Number(a),password:s,email:i,fullname:(o+" "+l).replace(/\s+/g," ")},t.next=13,v.signUp(b);case 13:j=t.sent,p=j.status,m=j.data,p===d.USER_CREATED&&(O.b.success("\u062b\u0628\u062a \u0646\u0627\u0645 \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u0627\u0646\u062c\u0627\u0645 \u0634\u062f",{position:"top-right",closeOnClick:!0}),v.saveUser(m.userID,m.token),e.props.history.replace("/")),t.next=23;break;case 19:t.prev=19,t.t0=t.catch(8),e.setState({loading:!1}),t.t0.response.status===d.ALREADY_EXISTS?(O.b.error("\u06a9\u0627\u0631\u0628\u0631\u06cc \u0628\u0627 \u0627\u06cc\u0646 \u0634\u0645\u0627\u0631\u0647 \u062f\u0627\u0646\u0634\u062c\u0648\u06cc\u06cc \u06cc\u0627 \u0627\u06cc\u0645\u06cc\u0644 \u0642\u0628\u0644\u0627 \u062b\u0628\u062a \u0646\u0627\u0645 \u06a9\u0631\u062f\u0647 \u0627\u0633\u062a",{position:"top-right",closeOnClick:!0}),O.b.warn("\u0627\u06af\u0631 \u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u062e\u0648\u062f \u0631\u0627 \u0641\u0631\u0627\u0645\u0648\u0634 \u06a9\u0631\u062f\u0647 \u0627\u06cc\u062f\u060c \u0627\u0632 \u06af\u0632\u06cc\u0646\u0647 \u0628\u0627\u0632\u06cc\u0627\u0628\u06cc \u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u062f\u0631 \u0635\u0641\u062d\u0647 \u06cc \u0648\u0631\u0648\u062f \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0646\u0645\u0627\u06cc\u06cc\u062f",{position:"top-right",closeOnClick:!0})):O.b.error("\u062b\u0628\u062a \u0646\u0627\u0645 \u0628\u0627 \u0645\u0634\u06a9\u0644 \u0631\u0648 \u0628\u0647 \u0631\u0648 \u0634\u062f. \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u062a\u0644\u0627\u0634 \u06a9\u062a\u0646\u06cc\u062f",{position:"top-right",closeOnClick:!0});case 23:t.next=26;break;case 25:O.b.error("\u0631\u0645\u0632 \u0639\u0628\u0648\u0631\u0647\u0627 \u0645\u0637\u0627\u0628\u0642\u062a \u0646\u062f\u0627\u0631\u0646\u062f",{position:"top-right",closeOnClick:!0});case 26:e.setState({loading:!1});case 27:case"end":return t.stop()}}),t,null,[[8,19]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.studentID,r=t.password,a=t.confirmPassword,s=t.firstname,c=t.lastname,o=t.email,l=t.loading;return Object(b.jsxs)("div",{className:"card border-success mb-3 signUpCard",children:[Object(b.jsx)(D,{loading:l}),Object(b.jsx)("div",{className:"card-header bg-transparent text-center border-success",children:"\u0641\u0631\u0645 \u062b\u0628\u062a \u0646\u0627\u0645"}),Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsxs)("form",{onSubmit:function(t){return e.onSignUpSubmit(t)},children:[Object(b.jsxs)("div",{className:"form-inline",children:[Object(b.jsx)("label",{className:"w-25",children:"\u0646\u0627\u0645"}),Object(b.jsx)("input",{type:"text",pattern:"[\u0622-\u06cc ]{3,}",onInput:function(e){return e.target.setCustomValidity("")},onInvalid:function(e){return e.target.setCustomValidity("\u0646\u0627\u0645 \u0628\u0627\u06cc\u062f \u0628\u0627 \u062d\u0631\u0648\u0641 \u0641\u0627\u0631\u0633\u06cc \u0648 \u0628\u0627 \u062d\u062f\u0627\u0642\u0644 \u0637\u0648\u0644 \u0633\u0647 \u062d\u0631\u0641 \u0628\u0627\u0634\u062f")},className:"signUpTextBox form-control w-75",placeholder:"First Name",value:s,required:"required",onChange:function(t){return e.setState({firstname:t.target.value})}})]}),Object(b.jsxs)("div",{className:"form-inline",children:[Object(b.jsx)("label",{className:"w-25",children:"\u0646\u0627\u0645 \u062e\u0627\u0646\u0648\u0627\u062f\u06af\u06cc"}),Object(b.jsx)("input",{type:"text",className:"signUpTextBox form-control w-75",pattern:"[\u0622-\u06cc ]{3,}",onInput:function(e){return e.target.setCustomValidity("")},onInvalid:function(e){return e.target.setCustomValidity("\u0646\u0627\u0645 \u062e\u0627\u0646\u0648\u0627\u062f\u06af\u06cc \u0628\u0627\u06cc\u062f \u0628\u0627 \u062d\u0631\u0648\u0641 \u0641\u0627\u0631\u0633\u06cc \u0648 \u0628\u0627 \u062d\u062f\u0627\u0642\u0644 \u0637\u0648\u0644 \u0633\u0647 \u062d\u0631\u0641 \u0628\u0627\u0634\u062f")},placeholder:"Last Name",value:c,required:"required",onChange:function(t){return e.setState({lastname:t.target.value})}})]}),Object(b.jsxs)("div",{className:"form-inline",children:[Object(b.jsx)("label",{className:"w-25",children:"\u0634\u0645\u0627\u0631\u0647 \u062f\u0627\u0646\u0634\u062c\u0648\u06cc\u06cc"}),Object(b.jsx)("input",{type:"text",pattern:"[0-9]{8}",onInput:function(e){return e.target.setCustomValidity("")},onInvalid:function(e){return e.target.setCustomValidity("\u0634\u0645\u0627\u0631\u0647 \u062f\u0627\u0646\u0634\u062c\u0648\u06cc\u06cc \u0628\u0627\u06cc\u062f \u06cc\u06a9 \u0639\u062f\u062f 8 \u0631\u0642\u0645\u06cc \u0628\u0627\u0634\u062f")},className:"signUpTextBox form-control w-75",placeholder:"Student ID",value:n,required:"required",onChange:function(t){return e.setState({studentID:t.target.value})}})]}),Object(b.jsxs)("div",{className:"form-inline",children:[Object(b.jsx)("label",{className:"w-25",children:"\u0627\u06cc\u0645\u06cc\u0644"}),Object(b.jsx)("input",{type:"email",pattern:".{6,}",onInput:function(e){return e.target.setCustomValidity("")},onInvalid:function(e){return e.target.setCustomValidity("\u0648\u0631\u0648\u062f\u06cc \u0628\u0627\u06cc\u062f \u0641\u0631\u0645\u062a \u0645\u0639\u062a\u0628\u0631 \u0627\u06cc\u0645\u06cc\u0644 \u0631\u0627 \u0631\u0639\u0627\u06cc\u062a \u06a9\u0631\u062f\u0647 \u0648 \u062d\u062f\u0627\u0642\u0644 6 \u06a9\u0627\u0631\u0627\u06a9\u062a\u0631 \u0628\u0627\u0634\u062f")},className:"signUpTextBox form-control w-75",placeholder:"E-mail",value:o,required:"required",onChange:function(t){return e.setState({email:t.target.value})}})]}),Object(b.jsxs)("div",{className:"form-inline",children:[Object(b.jsx)("label",{className:"w-25",children:"\u0631\u0645\u0632 \u0639\u0628\u0648\u0631"}),Object(b.jsx)("input",{type:"password",pattern:".{6,15}",onInput:function(e){return e.target.setCustomValidity("")},onInvalid:function(e){return e.target.setCustomValidity("\u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u0628\u0627\u06cc\u062f \u062d\u062f\u0627\u0642\u0644 6 \u06a9\u0627\u0631\u0627\u06a9\u062a\u0631 \u0648 \u062d\u062f\u0627\u06a9\u062b\u0631 15 \u06a9\u0627\u0631\u0627\u06a9\u062a\u0631 \u062f\u0627\u0634\u062a\u0647 \u0628\u0627\u0634\u062f")},className:"signUpTextBox form-control w-75",placeholder:"Password",value:r,required:"required",onChange:function(t){return e.setState({password:t.target.value})}})]}),Object(b.jsxs)("div",{className:"form-inline",children:[Object(b.jsx)("label",{className:"w-25",children:"\u062a\u0627\u06cc\u06cc\u062f \u0631\u0645\u0632 \u0639\u0628\u0648\u0631"}),Object(b.jsx)("input",{type:"password",className:"signUpTextBox form-control w-75",placeholder:"Confirm Password",value:a,required:"required",onChange:function(t){return e.checkConfirmPassword(t)}})]}),Object(b.jsx)("button",{type:"submit",className:"btn btn-success btn-block mt-4",children:"\u062b\u0628\u062a \u0646\u0627\u0645"})]}),Object(b.jsxs)("p",{className:"forgot-password text-right mt-5",children:["\u0627\u06af\u0631 \u0642\u0628\u0644\u0627 \u062b\u0628\u062a \u0646\u0627\u0645 \u06a9\u0631\u062f\u06cc\u060c \u0628\u0647 \u0635\u0641\u062d\u0647 \u06cc ",Object(b.jsx)(E,{})," \u0628\u0631\u0648 !"," "]})]})]})}}]),n}(l.Component)),U=Object(N.f)(L),A=n(11),P=n(9),B=function(){var e=Object(A.d)((function(e){return e.player}));return Object(b.jsxs)("nav",{className:"navbar navbar-expand-lg nav-pills navbar-light bg-light text-right",children:[Object(b.jsx)("div",{className:"container text-right",children:Object(b.jsx)("div",{className:"navbar-expand",id:"navbarResponsive",children:Object(b.jsxs)("ul",{className:"navbar-nav text-primary",children:[Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(P.b,{className:"nav-link text-primary",to:"/",exact:!0,activeClassName:"btn-outline-secondary text-dark",children:"\u0635\u0641\u062d\u0647 \u0627\u0635\u0644\u06cc"})}),Object(b.jsx)("li",{className:"nav-item ml-2",children:Object(b.jsx)(P.b,{className:"nav-link text-primary",to:"/gameDeck",activeClassName:"btn-outline-secondary text-dark",children:"\u0628\u0627\u0632\u06cc \u0647\u0627"})}),Object(b.jsx)("li",{className:"nav-item ml-2",children:Object(b.jsx)(P.b,{className:"nav-link text-primary",to:"/ranking",activeClassName:"btn-outline-secondary text-dark",children:"\u0631\u0646\u06a9\u06cc\u0646\u06af"})}),Object(b.jsx)("li",{className:"nav-item ml-2",children:Object(b.jsx)(P.b,{className:"nav-link text-primary",to:"/gameRules",activeClassName:"btn-outline-secondary text-dark",children:"\u0642\u0648\u0627\u0646\u06cc\u0646"})}),Object(b.jsx)("li",{className:"nav-item ml-2",children:Object(b.jsx)(P.b,{className:"nav-link text-primary",to:"/contactInfo",activeClassName:"btn-outline-secondary text-dark",children:"\u062a\u0645\u0627\u0633 \u0628\u0627 \u0645\u0627"})})]})})}),e?Object(b.jsx)(P.b,{style:{float:"left"},className:"navItems nav-link btn btn-outline-success btn-sm",to:"/controlPanel",children:"\u06a9\u0646\u062a\u0631\u0644 \u067e\u0646\u0644"}):Object(b.jsx)(P.b,{style:{float:"left"},className:"navItems nav-link btn btn-outline-success btn-sm",to:"/signUp",children:"\u062b\u0628\u062a \u0646\u0627\u0645"})]})},_=(n(97),function(e){Object(c.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={studentID:"",password:"",loading:!1},e.onSignInSubmitted=function(){var t=Object(d.a)(u.a.mark((function t(n){var r,a,s,c,o,l,i,d;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),e.setState({loading:!0}),r={SUCCESSFULL:200},a=e.state,s=a.studentID,c=a.password,o={studentID:Number(s),password:c},t.prev=5,t.next=8,v.signIn(o);case 8:l=t.sent,i=l.status,d=l.data,i===r.SUCCESSFULL&&(v.saveUser(d.userID,d.token),e.props.history.replace("/")),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(5),e.setState({password:""});case 17:e.setState({loading:!1});case 18:case"end":return t.stop()}}),t,null,[[5,14]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.studentID,r=t.password,a=t.loading;return Object(b.jsxs)("div",{className:"card signInSidebar border-primary mb-3",children:[Object(b.jsx)("div",{className:"card-header text-center text-primary border-primary",children:"\u0648\u0631\u0648\u062f \u06a9\u0627\u0631\u0628\u0631\u0627\u0646"}),Object(b.jsx)(D,{loading:a}),Object(b.jsx)("div",{className:"card-body text-primary",children:Object(b.jsxs)("form",{onSubmit:function(t){return e.onSignInSubmitted(t)},children:[Object(b.jsx)("input",{type:"text",className:"signInSidebarTextBox form-control text-primary",placeholder:"Student ID",value:n,onChange:function(t){return e.setState({studentID:t.target.value})}}),Object(b.jsx)("br",{}),Object(b.jsx)("input",{type:"password",className:"signInSidebarTextBox form-control text-primary",placeholder:"Password",value:r,onChange:function(t){return e.setState({password:t.target.value})}}),Object(b.jsx)("br",{}),Object(b.jsxs)("div",{className:"card-footer bg-transparent border-primary",children:[Object(b.jsx)("button",{id:"btnSideBarSignIn",type:"submit",className:"btn btn-outline-success btn-lg",children:"\u0648\u0631\u0648\u062f"}),Object(b.jsx)("button",{id:"btnSideBarPasswordRecovery",className:"btn btn-outline-info btn-lg",children:"\u0628\u0627\u0632\u06cc\u0627\u0628\u06cc \u067e\u0633\u0648\u0631\u062f"})]})]})})]})}}]),n}(l.Component)),M=Object(N.f)(_),q=function(){return Object(b.jsxs)("div",{className:"card newsSidebar border-success  mb-3",children:[Object(b.jsx)("div",{className:"card-header text-center text-success border-success",children:"\u0627\u0637\u0644\u0627\u0639\u06cc\u0647"}),Object(b.jsxs)("div",{className:"card-body text-right",children:[Object(b.jsx)("p",{children:"\u0645\u062a\u0646 \u062e\u0628\u0631 1"}),Object(b.jsx)("p",{children:"\u0645\u062a\u0646 \u062e\u0628\u0631 2"}),Object(b.jsx)("p",{children:"\u0645\u062a\u0646 \u062e\u0628\u0631 3"}),Object(b.jsx)("p",{children:"\u0645\u062a\u0646 \u062e\u0628\u0631 4"}),Object(b.jsx)("p",{children:"blah blah blah"})]})]})},F=n(51),G=function(){var e=Object(A.d)((function(e){return e.player}));return Object(b.jsx)("nav",{className:"navbar navbar-expand-lg nav-pills navbar-light bg-light text-right",children:Object(b.jsx)("div",{className:"container text-right",children:Object(b.jsxs)("div",{className:"navbar-expand w-100",id:"navbarResponsive",children:[Object(b.jsx)("ul",{className:"navbar-nav text-primary",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(P.b,{className:"nav-link text-primary",to:"/",exact:!0,activeClassName:"btn-outline-secondary text-dark",children:"\u0635\u0641\u062d\u0647 \u0627\u0635\u0644\u06cc"})}),Object(b.jsx)("li",{className:"nav-item ml-2",children:Object(b.jsx)(P.b,{className:"nav-link text-primary",to:"/gameDeck",activeClassName:"btn-outline-secondary text-dark",children:"\u0628\u0627\u0632\u06cc \u0647\u0627"})}),Object(b.jsx)("li",{className:"nav-item ml-2",children:Object(b.jsx)(P.b,{className:"nav-link text-primary",to:"/ranking",activeClassName:"btn-outline-secondary text-dark",children:"\u0631\u0646\u06a9\u06cc\u0646\u06af"})})]})}),Object(b.jsx)("hr",{}),Object(b.jsx)("ul",{className:"navbar-nav text-primary",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("li",{className:"nav-item ml-2",children:Object(b.jsx)(P.b,{className:"nav-link text-primary",to:"/gameRules",activeClassName:"btn-outline-secondary text-dark",children:"\u0642\u0648\u0627\u0646\u06cc\u0646"})}),Object(b.jsx)("li",{className:"nav-item ml-2",children:Object(b.jsx)(P.b,{className:"nav-link text-primary",to:"/contactInfo",activeClassName:"btn-outline-secondary text-dark",children:"\u062a\u0645\u0627\u0633 \u0628\u0627 \u0645\u0627"})}),Object(b.jsx)("li",{className:"nav-item ml-2",children:e?Object(b.jsx)(P.b,{className:"navItems nav-link btn btn-outline-success btn-block mt-1 mr-lg-5",to:"/controlPanel",children:"\u06a9\u0646\u062a\u0631\u0644 \u067e\u0646\u0644"}):Object(b.jsx)(P.b,{className:"navItems nav-link btn btn-outline-success btn-block mt-1 mr-lg-5",to:"/signUp",children:"\u062b\u0628\u062a \u0646\u0627\u0645"})})]})})]})})})},V=n(104),X=n.p+"static/media/no-avatar.5e7c913e.png",W=function(e){var t=e.player,n=e.inGame;return Object(b.jsxs)("div",{className:"card playerInfoSideBar border-info mb-3",children:[Object(b.jsx)("div",{className:"card-header text-center text-info border-info",children:t.fullname}),Object(b.jsx)("img",{className:"card-img-top playerAvatar",src:X,alt:"\u0645\u0634\u06a9\u0644\u06cc \u062f\u0631 \u0628\u0627\u0631\u06af\u0630\u0627\u0631\u06cc \u062a\u0635\u0648\u06cc\u0631 \u067e\u06cc\u0634 \u0622\u0645\u062f"}),Object(b.jsx)("hr",{}),Object(b.jsx)("div",{className:"card-body",children:Object(b.jsxs)("ul",{className:"list-group list-group-flush",children:[n&&Object(b.jsx)("li",{className:"text-center list-group-item",children:Object(b.jsx)(V.a,{variant:n.index?"danger":"primary",children:Object(b.jsxs)(V.a.Heading,{children:[n.shape," : ",n.score]})})}),Object(b.jsx)("li",{className:" list-group-item",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("p",{className:"col-6 text-right",children:"\u0627\u0645\u062a\u06cc\u0627\u0632 \u0628\u0627\u0632\u06cc\u06a9\u0646"}),Object(b.jsx)("p",{className:"col-6 text-left",children:t.records.points})]})}),Object(b.jsx)("li",{className:" list-group-item",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("p",{className:"col-6 text-right",children:"\u062a\u0639\u062f\u0627\u062f \u0628\u0631\u062f"}),Object(b.jsx)("p",{className:"col-6 text-left",children:t.records.wins})]})}),Object(b.jsx)("li",{className:" list-group-item",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("p",{className:"col-6 text-right",children:"\u062a\u0639\u062f\u0627\u062f \u0628\u0627\u062e\u062a"}),Object(b.jsx)("p",{className:"col-6 text-left",children:t.records.loses})]})}),Object(b.jsx)("li",{className:" list-group-item",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("p",{className:"col-6 text-right",children:"\u062a\u0639\u062f\u0627\u062f \u062a\u0633\u0627\u0648\u06cc"}),Object(b.jsx)("p",{className:"col-6 text-left",children:t.records.draws})]})})]})})]})},J=function(e){return{type:"LOAD_ME",payload:e}},H=function(e){return{type:"SET_ROOM",payload:e}},z=Object(N.f)((function(e){var t=e.location.pathname,n=Object(A.d)((function(e){return e.player})),r=Object(A.d)((function(e){return e.opponent})),a=Object(A.d)((function(e){return e.scoreboard})),s=Object(A.c)(),c=Object(F.useMediaQuery)({query:"(min-width: 1200px)"}),o=Object(F.useMediaQuery)({query:"(max-width: 768px)"}),i=!c&&!o,u=v.readUserID();u&&!n&&g.loadPlayerData(u).then((function(e){s(J(e||null))})).catch((function(e){s(J(null))}));var d=Object(b.jsx)(q,{}),j=n?Object(b.jsx)(W,{player:n,inGame:a.me}):Object(b.jsx)(M,{});return"/signUp"===t&&(d=null,j=null),"/gameDeck"===t&&(r&&(d=Object(b.jsx)(W,{player:r,inGame:a.opp})),o&&(d=null,j=null)),Object(b.jsxs)(l.Fragment,{children:[Object(b.jsx)(O.a,{}),c||i?Object(b.jsx)(B,{}):Object(b.jsx)(G,{}),c&&Object(b.jsxs)("div",{className:"row mx-auto w-100",children:[Object(b.jsx)("div",{className:"col-3",children:j}),Object(b.jsx)("div",{className:null!==d?"col-6":"col-12",children:e.children}),Object(b.jsx)("div",{className:"col-3",children:d})]}),i&&Object(b.jsxs)("div",{className:"row mx-auto w-100",children:[Object(b.jsx)("div",{className:null!==d?"col-8":"col-12",children:e.children}),Object(b.jsx)("div",{className:"col-4",children:d})]}),o&&Object(b.jsxs)("div",{className:"container mx-auto w-100",children:[n?Object(b.jsx)("div",{className:"row w-100 mx-auto",children:j}):null,Object(b.jsx)("div",{className:"row w-100 mx-auto",children:d}),Object(b.jsx)("div",{className:"row w-100 mx-auto",children:e.children})]})]})})),Y=n(32),Q=n(105),K=function(e){var t=e.rowNumber,n=e.name,r=e.points,a=e.wins,s=e.loses,c=e.draws;return Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{scope:"row",children:t}),Object(b.jsx)("td",{children:n}),Object(b.jsx)("td",{children:r}),Object(b.jsx)("td",{children:a}),Object(b.jsx)("td",{children:s}),Object(b.jsx)("td",{children:c})]})},Z=function(e){var t=e.players;return Object(b.jsxs)(Q.a,{border:"dark",style:{width:"100%",borderRadius:"15px"},children:[Object(b.jsx)(Q.a.Header,{className:"text-center",children:"\u0631\u062f\u0647 \u0628\u0646\u062f\u06cc"}),Object(b.jsxs)("table",{className:"table table-striped table-bordered table-hover text-center",children:[Object(b.jsx)("thead",{className:"bg-info",children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{scope:"col",children:"#"}),Object(b.jsx)("th",{scope:"col",children:"\u0646\u0627\u0645 \u0628\u0627\u0632\u06cc\u06a9\u0646"}),Object(b.jsx)("th",{scope:"col",children:"\u0627\u0645\u062a\u06cc\u0627\u0632"}),Object(b.jsx)("th",{scope:"col",children:"\u062a\u0639\u062f\u0627\u062f \u0628\u0631\u062f"}),Object(b.jsx)("th",{scope:"col",children:"\u062a\u0639\u062f\u0627\u062f \u0628\u0627\u062e\u062a"}),Object(b.jsx)("th",{scope:"col",children:"\u062a\u0639\u062f\u0627\u062f \u062a\u0633\u0627\u0648\u06cc"})]})}),Object(b.jsx)("tbody",{children:t.map((function(e){return Object(b.jsx)(K,{rowNumber:t.findIndex((function(t){return t.userID===e.userID}))+1,name:e.fullname,points:e.records.points,wins:e.records.wins,loses:e.records.loses,draws:e.records.draws},e.userID)}))})]})]})},$=function(e){Object(c.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={players:[],loading:!1},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;Object(d.a)(u.a.mark((function t(){var n,r,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({loading:!0}),n={SUCCESSFULL:200},t.next=4,v.getAllPlayers();case 4:if(r=t.sent,a=r.data,r.status!==n.SUCCESSFULL){t.next=9;break}return t.abrupt("return",a.players);case 9:return t.abrupt("return",[]);case 10:case"end":return t.stop()}}),t)})))().then((function(t){var n=Object(Y.a)(t);e.setState({players:n.sort((function(e,t){return t.records.points-e.records.points})),loading:!1})})).catch((function(t){e.setState({players:[],loading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.players,n=e.loading;return Object(b.jsxs)("div",{className:"row mt-3",children:[n?Object(b.jsx)(D,{loading:n}):null,Object(b.jsx)("div",{className:"col-12",children:Object(b.jsx)(Z,{players:t})})]})}}]),n}(l.Component),ee=function(e){Object(c.a)(n,e);var t=Object(o.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return Object(b.jsxs)("div",{className:"card border-success mb-3 signUpCard",children:[Object(b.jsx)("div",{className:"card-header bg-transparent text-center border-success",children:"\u06a9\u0646\u062a\u0631\u0644 \u067e\u0646\u0644"}),Object(b.jsx)("div",{className:"card-body",children:Object(b.jsx)("button",{type:"button",className:"btn btn-danger btn-block mt-4",onClick:this.onSignOutClick,children:"\u062e\u0631\u0648\u062c \u0627\u0632 \u062d\u0633\u0627\u0628 \u06a9\u0627\u0631\u0628\u0631\u06cc"})})]})}}]),n}(l.Component),te=(n(98),function(e,t,n,r){return JSON.stringify({request:e,roomName:t,playerID:n,msg:r})}),ne={createSocketRequest:te,connect:function(e,t,n){return new Promise((function(r,a){var s=new WebSocket(m.webSocketRoot);s.onopen=function(){s.send(te("join",e,t,n)),r(s)},s.onerror=function(e){s.close(),a(e)},s.onclose=function(){r(null)}}))}};var re=function(e){return Object(A.b)((function(e){return{player:e.player,opponent:e.opponent,room:e.room,scoreboard:e.scoreboard}}),(function(e){return{LoadMe:function(t){return e(J(t))},LoadOpponent:function(t){return e(function(e){return{type:"LOAD_OPPONENT",payload:e}}(t))},UpdateMyRecords:function(){return e({type:"UPDATE_ME"})},ResetOpponent:function(){return e({type:"RESET_OPPONENT"})},SetRoom:function(t){return e(H(t))},SetGameID:function(t){return e(function(e){return{type:"SET_GAME_ID",payload:e}}(t))},UpdateScoreboard:function(t){return e(function(e){return{type:"UPDATE_SCOREBOARD",payload:e}}(t))},CleanScoreboard:function(){return e({type:"CLEAN_SCOREBOARD"})}}}))(e)}(function(e){Object(c.a)(n,e);var t=Object(o.a)(n);function n(){var e;return Object(a.a)(this,n),(e=t.call(this)).state={rowMarginRatio:0,players:[{shape:"X",color:"cyan",lineColor:"btn btn-primary",score:0},{shape:"O",color:"darkred",lineColor:"btn btn-danger",score:0}],turn:0,tableDimension:4,table:null,myTurn:void 0,gameID:null,socketConnection:void 0},e.LoadOpponentData=function(t){var n=e.props,r=n.opponent,a=n.LoadOpponent;!r&&t&&g.loadPlayerData(t).then((function(e){a(e||null)})).catch((function(e){a(null)}))},e.updateGameScorebaord=function(){var t=e.state,n=t.myTurn,r=t.players,a=Number(!n);e.props.UpdateScoreboard({me:{index:n,shape:r[n].shape,score:r[n].score},opp:{index:a,shape:r[a].shape,score:r[a].score}})},e.socketOnMessage=function(t){var n=t.data,r=JSON.parse(n),a=r.command,s=r.msg;if("SET_TURN"===a)e.setState({myTurn:Number(s)});else if("START"===a){var c=e.state.myTurn,o=Number(!c);e.LoadOpponentData(s[o])}else if("LOAD"===a){var l=s.table,i=s.xScore,u=s.oScore,d=s.turn,b=Object(Y.a)(e.state.players);b[0].score=i,b[1].score=u,e.setState({table:l,players:b,turn:d}),e.updateGameScorebaord()}else if("UPDATE"===a){var j=e.props,p=j.player,m=j.room,h=s.newMove,x=s.cell,O=s.xScore,f=s.oScore,v=Number(h),g=Object(Y.a)(e.state.players);g[0].score=O,g[1].score=f,e.setState({players:g}),e.state.socketConnection.send(ne.createSocketRequest("moveRecieved",m,p.userID,!0)),e.verifyAndApplyTheMove(x,e.cellButtons[v]),e.cellButtons[v].focus(),e.updateGameScorebaord()}else"END"===a&&(e.endGame(),e.props.CleanScoreboard())},e.forceConnectToWebSocket=function(){var t=Object(d.a)(u.a.mark((function t(n){var r,a,s,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.props,a=r.player,s=r.room,t.prev=1,t.next=4,ne.connect(s,a.userID,e.state.tableDimension);case 4:(c=t.sent).onmessage=e.socketOnMessage,e.setState({socketConnection:c}),n&&n(),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.log(t.t0),setTimeout((function(){console.log("rconnecting from GamePlay"),e.forceConnectToWebSocket(n)}),1e3);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}(),e.updateMarginParameters=function(t){e.setState({rowMarginRatio:t.offsetWidth/12.4})},e.onTableBlockResize=function(t){e.updateMarginParameters(t.target)},e.initiateGameTimer=function(){setInterval((function(){window.navigator.onLine?e.connectionLost&&(console.log("connected"),e.connectionLost=!1,e.forceConnectToWebSocket(null)):(console.log("dissconnected"),e.connectionLost=!0)}),1e3)},e.getCellCoordinates=function(e,t){var n=e%(t*t);return{floor:Math.floor(e/(t*t)),row:Math.floor(n/t),column:n%t}},e.onEachCellClick=function(t){var n=e.state.tableDimension,r=e.props,a=r.player,s=r.opponent,c=r.room;if(s)try{var o=t.target;if(e.state.turn!==e.state.myTurn)return void e.forceConnectToWebSocket(null);var l=e.getCellCoordinates(o.id,n);e.verifyAndApplyTheMove(l,o)&&e.forceConnectToWebSocket((function(){e.state.socketConnection.send(ne.createSocketRequest("move",c,a.userID,o.id)),e.state.socketConnection.send(ne.createSocketRequest("load",c,a.userID,null))}))}catch(i){console.log(i)}},e.verifyAndApplyTheMove=function(t,n){var r=e.state,a=r.players,s=r.turn,c=Object(Y.a)(e.state.table);return null===c[t.floor][t.row][t.column]&&(c[t.floor][t.row][t.column]=s,n.innerHTML=a[s].shape,n.style.color=a[s].color,e.setState({turn:(s+1)%2,table:c}),e.inspectAreaAroundTheCell(t.floor,t.row,t.column),!0)},e.inspectAreaAroundTheCell=function(t,n,r){for(var a=e.state,s=a.players,c=a.table,o=a.tableDimension,l=c[t][n][r],i=0,u=0,d=0,b=0,j=0,p=0,m=0,h=0;h<o;h++)c[t][n][h]===l&&i++,c[t][h][r]===l&&u++,c[h][n][r]===l&&m++,n===r&&(c[t][h][h]===l&&d++,n===t&&c[h][h][h]===l&&j++),n+r+1===o&&(c[t][h][o-h-1]===l&&b++,n===t&&c[h][h][o-h-1]===l&&p++);e.connectTheScoreLines(i,t*o*o+n*o,1,s[l],o),e.connectTheScoreLines(u,t*o*o+r,o,s[l],o),e.connectTheScoreLines(d,t*o*o,o+1,s[l],o),e.connectTheScoreLines(b,t*o*o+(o-1),o-1,s[l],o),e.connectTheScoreLines(j,0,o*(o+1)+1,s[l],o),e.connectTheScoreLines(p,o-1,o*(o+1)-1,s[l],o),e.connectTheScoreLines(m,n*o+r,o*o,s[l],o)},e.connectTheScoreLines=function(t,n,r,a,s){if(t===s){for(var c=function(t){e.cellButtons[n+t*r].className="gameTableCells "+a.lineColor,setTimeout((function(){e.cellButtons[n+t*r].className="gameTableCells btn btn-outline-dark"}),1e3+100*t)},o=0;o<s;o++)c(o);return 1}return 0},e.endGame=Object(d.a)(u.a.mark((function t(){var n,r,a,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.props.UpdateMyRecords(),n=e.state,r=n.players,a=n.myTurn,s=Number(!a),r[a].score>r[s].score?O.b.success("\u0634\u0645\u0627 \u0628\u0631\u0646\u062f\u0647 \u0634\u062f\u06cc\u062f \u0648 \u0633\u0647 \u0627\u0645\u062a\u06cc\u0627\u0632 \u06a9\u0633\u0628 \u06a9\u0631\u062f\u06cc\u062f"):r[a].score===r[s].score?O.b.info("\u0634\u0645\u0627 \u0645\u0633\u0627\u0648\u06cc \u0634\u062f\u06cc\u062f \u0648 \u06cc\u06a9 \u0627\u0645\u062a\u06cc\u0627\u0632 \u06a9\u0633\u0628 \u06a9\u0631\u062f\u06cc\u062f"):O.b.error("\u062a\u06a9\u0628\u06cc\u0631!"),setTimeout((function(){e.props.CleanScoreboard(),e.props.ResetOpponent(),e.props.SetRoom(null)}),5e3);case 5:case"end":return t.stop()}}),t)}))),e.drawGameTable=function(){var t=e.state,n=t.rowMarginRatio,r=t.tableDimension;try{if(e.state.table){for(var a=[],s=0;s<r;s++)a.push(s);var c=e.state,o=c.table,i=c.players;return a.map((function(t){return Object(b.jsxs)(l.Fragment,{children:[a.map((function(s){return Object(b.jsx)("div",{style:{marginLeft:"".concat(s*n,"px")},children:a.map((function(n){return Object(b.jsx)("button",{type:"button",className:"gameTableCells btn btn-outline-dark",style:null!==o[t][s][n]?{color:i[o[t][s][n]].color}:null,id:t*r*r+s*r+n,onClick:function(t){return e.onEachCellClick(t)},children:null!==o[t][s][n]&&i[o[t][s][n]].shape},t*r*r+s*r+n)}))})})),Object(b.jsx)("br",{})]})}))}return"...\u062f\u0631 \u062d\u0627\u0644 \u0627\u062a\u0635\u0627\u0644"}catch(u){return console.log(u),null}},e.connectionLost=!1,e.cellButtons=[],e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.cellButtons=document.getElementsByClassName("gameTableCells");var t=document.getElementById("divTableBlock");this.updateMarginParameters(t),t.addEventListener("resize",(function(t){return e.onTableBlockResize(t)}));var n=this.props,r=n.player,a=n.room;this.forceConnectToWebSocket((function(){e.state.socketConnection.send(ne.createSocketRequest("load",a,r.userID,null))})),this.initiateGameTimer()}},{key:"render",value:function(){return Object(b.jsxs)("div",{id:"divTableBlock",className:"card border-dark gameBorderCard",children:[Object(b.jsxs)("div",{className:"form-inline w-100",children:[Object(b.jsx)("p",{style:{color:this.state.players[1].color},className:"w-50 text-center",children:"O: ".concat(this.state.players[1].score)}),Object(b.jsx)("p",{style:{color:this.state.players[0].color},className:"w-50 text-center",children:"X: ".concat(this.state.players[0].score)})]}),this.drawGameTable()]})}}]),n}(l.Component)),ae=n(65),se=function(){var e=Object(l.useState)(""),t=Object(ae.a)(e,2),n=t[0],r=t[1],a=Object(A.d)((function(e){return e.player})),s=Object(A.c)();return Object(b.jsx)(l.Fragment,{children:Object(b.jsxs)("div",{className:"card border-warning mb-3 singleCard",children:[Object(b.jsx)("div",{className:"card-header text-center border-warning",children:"\u0627\u062a\u0635\u0627\u0644 \u0628\u0627\u0632\u06cc\u06a9\u0646\u0627\u0646"}),Object(b.jsx)("div",{className:"card-body text-right",children:Object(b.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),a?s(H(n)):O.b.error("\u0627\u0628\u062a\u062f\u0627 \u0648\u0627\u0631\u062f \u062d\u0633\u0627\u0628 \u06a9\u0627\u0631\u0628\u0631\u06cc \u062e\u0648\u062f \u0634\u0648\u06cc\u062f")}(e)},children:[Object(b.jsxs)("div",{className:"form-inline",children:[Object(b.jsx)("label",{className:"w-25",children:"\u0646\u0627\u0645 \u0631\u0648\u0645"}),Object(b.jsx)("input",{type:"text",className:"form-control w-75",placeholder:"Room Name",value:n,required:"required",onChange:function(e){return r(e.target.value)}})]}),Object(b.jsx)("button",{type:"submit",className:"btn btn-success btn-block mt-4",children:"\u0634\u0631\u0648\u0639 \u0628\u0627\u0632\u06cc"})]})})]})})},ce=function(){var e=Object(A.d)((function(e){return e.room}));return Object(b.jsx)(l.Fragment,{children:e?Object(b.jsx)(re,{}):Object(b.jsx)(se,{})})},oe=function(e){Object(c.a)(n,e);var t=Object(o.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return Object(b.jsx)(z,{children:Object(b.jsxs)(N.c,{children:[Object(b.jsx)(N.a,{path:"/signUp",component:U}),Object(b.jsx)(N.a,{path:"/gameDeck",component:ce}),Object(b.jsx)(N.a,{path:"/ranking",component:$}),Object(b.jsx)(N.a,{path:"/gameRules",component:S}),Object(b.jsx)(N.a,{path:"/contactInfo",component:w}),Object(b.jsx)(N.a,{path:"/",exact:!0,component:y}),Object(b.jsx)(N.a,{path:"/controlPanel",exact:!0,component:ee})]})})}}]),n}(l.Component),le=n(40),ie=Object(le.a)({player:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_ME":return t.payload;case"UPDATE_ME":return null;case"SIGN_OUT":return sessionStorage.clear(),null;default:return e}},opponent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_OPPONENT":return t.payload;case"RESET_OPPONENT":return null;default:return e}},room:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ROOM":return t.payload;default:return e}},scoreboard:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{me:null,opp:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_SCOREBOARD":return t.payload;case"CLEAN_SCOREBAORD":return{me:null,opp:null};default:return e}}}),ue=Object(le.b)(ie,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());Object(r.render)(Object(b.jsx)(P.a,{children:Object(b.jsx)(A.a,{store:ue,children:Object(b.jsx)(oe,{})})}),document.getElementById("root"))}},[[99,1,2]]]);
//# sourceMappingURL=main.52c9dc96.chunk.js.map