(this.webpackJsonpt3d=this.webpackJsonpt3d||[]).push([[0],{103:function(e,t,a){},110:function(e,t,a){},119:function(e,t,a){},121:function(e,t,a){},122:function(e,t,a){},167:function(e,t){var a="/Profile";e.exports={Root:"/",SignUp:"/SignUp",SignIn:"/SignIn",GameDeck:"/GameDeck",Rankings:"/Rankings",GameGuide:"/GameGuide",ContactUs:"/ContacUs",Profile:a,ChatRoom:"".concat(a,"/").concat("ChatRoom"),MyGamesAndFriends:"".concat(a,"/").concat("GamesFriends"),Notices:"".concat(a,"/").concat("Notices")}},168:function(e,t){e.exports={Root:"https://t3dweb.herokuapp.com",WebSocketRoot:"wss://t3dweb.herokuapp.com/ws",wsGamePlayRoute:"gameplay",wsGlobalRoute:"global",SignUp:"signup",SignIn:"signin",Users:"users",Credentials:"credentials",PasswordChange:"password",Friends:"friends",Public:"public",Administrators:"administrators",Games:"games",Mine:"mine",Chats:"chats",Notices:"notices",NoticeManagement:"manage"}},169:function(e,t){e.exports={Successful:200,CreatedSuccessfully:201,BadRequest:400,Unauthorized:401,Forbidden:403,NotFound:404,NotAcceptable:406,Conflict:409,SessionExpired:420,UnprocessableEntity:422,InternalServerError:500,isErrorExpected:function(e){return e.response&&e.response.status>=400&&e.response.status<500}}},170:function(e,t){e.exports={writeUser:function(e,t){sessionStorage.setItem("pid",e),sessionStorage.setItem("ptk",t)},TOKEN:function(){return sessionStorage.getItem("ptk")},ID:function(){return sessionStorage.getItem("pid")}}},171:function(e,t){e.exports={T3D:{TableRowMargings:[0,40,80,120,160],TurnTimeOut:45}}},198:function(e,t,a){},200:function(e,t,a){},234:function(e,t,a){"use strict";a.r(t);var n=a(24),s=a(10),r=a.n(s),c=a(11),i=a(26),o=a(27),l=a(30),u=a(28),d=(a(110),a(1)),j=a(248),b=a(8),m=a(236),x=a(237),h=a(104),O=a(61),p=a.n(O),f=a(62),g=a.n(f),v=function(e){return new h.default({date:new Date(e),calendar:p.a,locale:g.a})},y=function(e){return[v(e).format("dddd DD MMMM YYYY"),v(e).format("hh:mm")]},N=a(0),S=function(e){e.Type;var t=e.date,a=e.playerXName,n=e.playerOName,s=e.xScore,r=e.oScore,c=Object(d.useState)(null),i=Object(b.a)(c,2),o=i[0],l=i[1],u=Object(d.useState)(null),h=Object(b.a)(u,2),O=h[0],p=h[1],f=Object(d.useState)(null),g=Object(b.a)(f,2),v=g[0],S=g[1];return Object(d.useEffect)((function(){S(y(t)[0]),s>r?(l("badge-success"),p("badge-danger")):s===r?(l("badge-warning"),p("badge-warning")):(p("badge-success"),l("badge-danger"))}),[t,s,r]),Object(N.jsxs)(j.a,{border:"dark",className:"single-score-card",children:[Object(N.jsx)(j.a.Body,{children:Object(N.jsxs)(m.a,{className:"text-center mx-auto",children:[Object(N.jsx)("span",{className:"col-5",children:a}),Object(N.jsx)("span",{className:"badge badge-pill ".concat(o," single-score-badge col-1"),children:s}),Object(N.jsx)("span",{className:"badge badge-pill ".concat(O," single-score-badge col-1"),children:r}),Object(N.jsx)("span",{className:"col-5",children:n})]})}),Object(N.jsx)(j.a.Footer,{className:"p-0",children:Object(N.jsxs)(x.a,{variant:"outline-dark",block:!0,size:"lg",className:"replay-game-button",children:[v,Object(N.jsx)("i",{className:"fa fa-pie-chart px-3","aria-hidden":"true"})]})})]})},w=function(e){var t=e.scores;return console.log(t),Object(N.jsx)(d.Fragment,{children:t.length?t.map((function(e){return Object(N.jsx)(S,{Type:e.Type,date:e.date,playerXName:e.players[0].name,playerOName:e.players[1].name,xScore:e.players[0].score,oScore:e.players[1].score},e.gameID)})):Object(N.jsx)(j.a,{className:"bg-transparent mx-auto mt-3",border:"danger",children:Object(N.jsx)(j.a.Body,{className:"text-center",children:Object(N.jsx)(j.a.Text,{children:"\u0647\u06cc\u0686 \u0628\u0627\u0632\u06cc \u0627\u06cc \u0627\u0646\u062c\u0627\u0645 \u0646\u06af\u0631\u0641\u062a\u0647 \u0627\u0633\u062a"})})})})},C=a(3),k=a.n(C),D=a(36),E=a.n(D),I=a(33),T=function(e){I.b.error(e,{position:"top-right",closeOnClick:!0,icon:Object(N.jsx)("i",{style:{float:"right"},className:"fa fa-times","aria-hidden":"true"})})},R=function(e){I.b.success(e,{position:"top-left",closeOnClick:!0,icon:Object(N.jsx)("i",{style:{float:"right"},className:"fa fa-check","aria-hidden":"true"})})},P=function(e){I.b.info(e,{position:"top-center",closeOnClick:!0,icon:Object(N.jsx)("i",{style:{float:"right"},className:"fa fa-info","aria-hidden":"true"})})},G=function(e){I.b.warn(e,{type:"dark",position:"top-center",closeOnClick:!0,icon:Object(N.jsx)("i",{style:{float:"right"},className:"fa fa-gavel","aria-hidden":"true"})})};E.a.defaults.headers.post["Content-Type"]="application/json",E.a.defaults.headers.put["Content-Type"]="application/json",E.a.interceptors.request.use((function(e){var t=C.browserStorage.TOKEN();return e.headers.Authorization=t?"Bearer ".concat(t):"",e}),(function(e){return Promise.reject(e)})),E.a.interceptors.response.use(null,(function(e){var t=e.response&&e.response.status>=C.Status.BadRequest&&e.response.status<C.Status.InternalServerError;return e.response.status===C.Status.BadRequest?T("\u0645\u0634\u06a9\u0644\u06cc \u062f\u0631 \u0627\u0631\u0633\u0627\u0644 \u062f\u0631\u062e\u0648\u0627\u0633\u062a \u0634\u0645\u0627 \u0628\u0647 \u0633\u0631\u0648\u0631 \u0648\u062c\u0648\u062f \u062f\u0627\u0634\u062a\u060c \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u062a\u0644\u0627\u0634 \u06a9\u0646\u06cc\u062f"):e.response.status===C.Status.Unauthorized?T("\u0627\u062d\u0631\u0627\u0632 \u0647\u0648\u06cc\u062a \u0645\u0648\u0641\u0642\u06cc\u062a \u0622\u0645\u06cc\u0632 \u0646\u0628\u0648\u062f. \u0644\u0637\u0641\u0627 \u0648\u0627\u0631\u062f \u062d\u0633\u0627\u0628 \u06a9\u0627\u0631\u0628\u0631\u06cc \u062e\u0648\u062f \u0634\u0648\u06cc\u062f"):e.response.status===C.Status.Forbidden?T("\u0634\u0645\u0627\u0631\u0647 \u062f\u0627\u0646\u0634\u062c\u0648\u06cc\u06cc \u06cc\u0627 \u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u0646\u0627\u062f\u0631\u0633\u062a \u0627\u0633\u062a"):e.response.status===C.Status.NotAcceptable?T("\u0627\u06cc\u0646 \u0642\u0633\u0645\u062a \u0641\u0642\u0637 \u0645\u062e\u062a\u0635 \u06a9\u0627\u0631\u0628\u0631\u0627\u0646 \u0627\u062f\u0645\u06cc\u0646 \u0645\u06cc \u0628\u0627\u0634\u062f"):e.response.status===C.Status.Conflict?G("\u06a9\u0627\u0631\u0628\u0631\u06cc \u0628\u0627 \u0627\u06cc\u0646 \u0634\u0645\u0627\u0631\u0647 \u062f\u0627\u0646\u0634\u062c\u0648\u06cc\u06cc \u06cc\u0627 \u0627\u06cc\u0645\u06cc\u0644 \u0642\u0628\u0644\u0627 \u062b\u0628\u062a \u0646\u0627\u0645 \u06a9\u0631\u062f\u0647 \u0627\u0633\u062a"):e.response.status===C.Status.SessionExpired?T("\u0646\u0634\u0633\u062a \u0634\u0645\u0627 \u0645\u0646\u0642\u0636\u06cc \u0634\u062f\u0647 \u0627\u0633\u062a\u060c \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u0648\u0627\u0631\u062f \u062d\u0633\u0627\u0628 \u062e\u0648\u062f \u0634\u0648\u06cc\u062f."):e.response.status===C.Status.UnprocessableEntity?T("\u0648\u0631\u0648\u062f\u06cc \u0634\u0645\u0627 \u0628\u0627 \u0627\u0633\u062a\u0627\u0646\u062f\u0627\u0631\u062f\u0647\u0627\u06cc \u0633\u0627\u06cc\u062a \u0645\u0637\u0627\u0628\u0642\u062a \u0646\u062f\u0627\u0631\u062f"):t||T("\u0645\u0634\u06a9\u0644\u06cc \u0627\u0632 \u0633\u0645\u062a \u0633\u0631\u0648\u0631 \u067e\u06cc\u0634 \u0622\u0645\u062f\u0647 \u0627\u0633\u062a ... \u0644\u0637\u0641\u0627 \u0644\u062d\u0638\u0627\u062a\u06cc \u0628\u0639\u062f \u062f\u0648\u0628\u0627\u0631\u0647 \u062a\u0644\u0627\u0634 \u06a9\u0646\u06cc\u062f"),Promise.reject(e)}));var A={get:E.a.get,post:E.a.post,put:E.a.put,delete:E.a.delete},M=C.Routes.Server,L={signUp:function(e){return A.post("".concat(M.Root,"/").concat(M.Users,"/").concat(M.SignUp),JSON.stringify(e))},signIn:function(e){return console.log("".concat(M.Root,"/").concat(M.Users,"/").concat(M.SignIn)),A.post("".concat(M.Root,"/").concat(M.Users,"/").concat(M.SignIn),JSON.stringify(e))},getPlayer:function(e){return A.get("".concat(M.Root,"/").concat(M.Users,"/").concat(M.Public,"/").concat(e))},getAllPlayers:function(){return A.get("".concat(M.Root,"/").concat(M.Users,"/").concat(M.Public))},getMyCredentials:function(){return A.get("".concat(M.Root,"/").concat(M.Users,"/").concat(M.Credentials))},editMyCredentials:function(e){return A.put("".concat(M.Root,"/").concat(M.Users,"/").concat(M.Credentials),JSON.stringify(e))},changeMyPassword:function(e){return A.put("".concat(M.Root,"/").concat(M.Users,"/").concat(M.Credentials,"/").concat(M.PasswordChange),JSON.stringify(e))},getMyFriends:function(){return A.get("".concat(M.Root,"/").concat(M.Users,"/").concat(M.Credentials,"/").concat(M.Friends))},isMyFriend:function(e){return A.get("".concat(M.Root,"/").concat(M.Users,"/").concat(M.Credentials,"/").concat(M.Friends,"/").concat(e))},isAdministrator:function(e){return A.get("".concat(M.Root,"/").concat(M.Users,"/").concat(M.Administrators,"/").concat(e))}},_=C.Routes.Server,U={getAllGames:function(){return A.get("".concat(_.Root,"/").concat(_.Games))},getMyGames:function(){return A.get("".concat(_.Root,"/").concat(_.Games,"/").concat(_.Mine))},loadPlayerData:function(){var e=Object(c.a)(r.a.mark((function e(t){var a,n,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return e.next=3,L.getPlayer(t);case 3:a=e.sent,n=a.data,s=a.status;case 6:return e.abrupt("return",new Promise((function(e,a){null===t&&a(null),s===C.Status.Successful&&e(n.player),a(null)})));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},F=a(238),q=a(153),B=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={liveScores:[],finalScores:[],showLiveOnes:!1,loading:!1},e.btnShowLiveScores=function(){e.setState({showLiveOnes:!0})},e.btnShowFinalScores=function(){e.setState({showLiveOnes:!1})},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log("CHecking prop: ",this.props.Device),Object(c.a)(r.a.mark((function t(){var a,n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({loading:!0}),t.next=3,U.getAllGames();case 3:if(a=t.sent,n=a.data,a.status!==k.a.Status.Successful){t.next=8;break}return t.abrupt("return",n.allGames);case 8:return t.abrupt("return",[]);case 9:case"end":return t.stop()}}),t)})))().then((function(t){t=t.reverse(),e.setState({liveScores:t.filter((function(e){return e.isLive})),finalScores:t.filter((function(e){return!e.isLive})),loading:!1})})).catch((function(t){e.setState({finalScores:[],loading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.liveScores,a=e.finalScores,n=e.showLiveOnes;return Object(N.jsxs)(F.a,{children:[Object(N.jsxs)(m.a,{children:[Object(N.jsx)(q.a,{children:Object(N.jsxs)(x.a,{variant:n?"outline-success":"outline-primary",className:"scores-mode-select-button",onClick:this.btnShowLiveScores,children:["\u0646\u062a\u0627\u06cc\u062c \u0632\u0646\u062f\u0647",Object(N.jsx)("i",{className:"fa fa-play-circle px-3","aria-hidden":"true"})]})}),Object(N.jsx)(q.a,{children:Object(N.jsxs)(x.a,{variant:n?"outline-primary":"outline-success",className:"scores-mode-select-button",onClick:this.btnShowFinalScores,children:["\u0646\u062a\u0627\u06cc\u062c \u0646\u0647\u0627\u06cc\u06cc",Object(N.jsx)("i",{className:"fa fa-play-circle px-3","aria-hidden":"true"})]})})]}),Object(N.jsx)(m.a,{children:Object(N.jsx)(q.a,{children:Object(N.jsx)(w,{scores:n?t:a})})})]})}}]),a}(d.Component),K=a(15),V=a(13),H=(a(119),function(){return Object(N.jsxs)(j.a,{border:"warning",className:"simple-single-card",children:[Object(N.jsx)(j.a.Header,{className:"text-center",children:"\u0631\u0627\u0647\u0646\u0645\u0627\u06cc \u0628\u0627\u0632\u06cc"}),Object(N.jsxs)(j.a.Body,{className:"text-right",children:[Object(N.jsx)(j.a.Text,{children:"\u062f\u0627\u0646\u0634\u06af\u0627\u0647 \u0639\u0644\u0645 \u0648 \u0635\u0646\u0639\u062a \u0627\u06cc\u0631\u0627\u0646"}),Object(N.jsxs)(j.a.Text,{children:["E-mail: ",Object(N.jsx)("a",{href:"https://mail.google.com",children:"thcplusplus@gmail.com"})]}),Object(N.jsx)(j.a.Text,{children:"Phone Number: 0000000000000"}),Object(N.jsx)(j.a.Text,{children:"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u062a\u0645\u0627\u0633 \u0627\u0633\u062a\u0627\u062f"}),Object(N.jsx)(j.a.Text,{children:"instagram: ......"}),Object(N.jsx)(j.a.Text,{children:"blah blah blah"})]})]})}),J=function(){return Object(N.jsxs)(j.a,{border:"dark",className:"simple-single-card",children:[Object(N.jsx)(j.a.Header,{className:"text-center",children:"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u062a\u0645\u0627\u0633"}),Object(N.jsxs)(j.a.Body,{className:"text-right",children:[Object(N.jsx)(j.a.Text,{children:"\u062f\u0627\u0646\u0634\u06af\u0627\u0647 \u0639\u0644\u0645 \u0648 \u0635\u0646\u0639\u062a \u0627\u06cc\u0631\u0627\u0646"}),Object(N.jsxs)(j.a.Text,{children:["E-mail: ",Object(N.jsx)("a",{href:"https://mail.google.com",children:"thcplusplus@gmail.com"})]}),Object(N.jsx)(j.a.Text,{children:"Phone Number: 0000000000000"}),Object(N.jsx)(j.a.Text,{children:"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u062a\u0645\u0627\u0633 \u0627\u0633\u062a\u0627\u062f"}),Object(N.jsx)(j.a.Text,{children:"instagram: ......"}),Object(N.jsx)(j.a.Text,{children:"blah blah blah"})]})]})},z=a(244),W=a(245),Y=a(92),X=function(e){var t=e.loading,a=Object(d.useState)(0),n=Object(b.a)(a,2),s=n[0],r=n[1];Object(d.useEffect)((function(){r(Math.floor(100*Math.random()))}),[]),Object(d.useLayoutEffect)((function(){document.body.style={overflowY:"auto"},document.body.style={height:"auto"}}),[t,s]);var c=s%3===0?Object(N.jsx)(Y.Circle2,{time:0,customLoading:t}):s%3===1?Object(N.jsx)(Y.Planets,{time:0,customLoading:t}):Object(N.jsx)(Y.Sugar,{time:0,customLoading:t});return Object(N.jsx)(d.Fragment,{children:t?c:null})},Q=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={showModal:!1,studentID:"",password:"",loading:!1},e.onCloseClick=function(){return e.setState({showModal:!1})},e.onShowClick=function(){return e.setState({showModal:!0})},e.onSignInSubmitted=function(){var t=Object(c.a)(r.a.mark((function t(a){var n,s,c,i,o,l,u;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),e.setState({loading:!0}),n=e.state,s=n.studentID,c=n.password,i={studentID:Number(s),password:c},t.prev=4,t.next=7,L.signIn(i);case 7:o=t.sent,l=o.status,u=o.data,l===k.a.Status.Successful&&(C.browserStorage.writeUser(u.userID,u.token),e.props.history.replace("/")),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(4),e.setState({password:""}),k.a.Status.isErrorExpected(t.t0)||I.b.error(".\u0648\u0631\u0648\u062f \u0628\u0627 \u0645\u0634\u06a9\u0644 \u0631\u0648 \u0628\u0647 \u0631\u0648 \u0634\u062f. \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u062a\u0644\u0627\u0634 \u06a9\u062a\u0646\u06cc\u062f.",{position:"top-right",closeOnClick:!0});case 17:e.setState({loading:!1});case 18:case"end":return t.stop()}}),t,null,[[4,13]])})));return function(e){return t.apply(this,arguments)}}(),e.onForgotPasswordClick=function(){},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.showModal,n=t.studentID,s=t.password,r=t.loading;return Object(N.jsxs)(d.Fragment,{children:[Object(N.jsx)(X,{loading:r}),Object(N.jsxs)(x.a,{variant:"outline-primary",onClick:this.onShowClick,children:[Object(N.jsx)("i",{className:"fa fa-user px-2","aria-hidden":"true"}),"\u0648\u0631\u0648\u062f \u06a9\u0627\u0631\u0628\u0631\u0627\u0646"]}),Object(N.jsxs)(z.a,{backdrop:"static",show:a,onHide:this.onCloseClick,children:[Object(N.jsx)(z.a.Header,{closeButton:!0}),Object(N.jsx)(z.a.Body,{children:Object(N.jsxs)(W.a,{className:"m-4 text-right",onSubmit:function(t){return e.onSignInSubmitted(t)},children:[Object(N.jsxs)(W.a.Group,{className:"mb-3 form-inline",children:[Object(N.jsx)(W.a.Label,{className:"w-25",children:"\u0634\u0645\u0627\u0631\u0647 \u062f\u0627\u0646\u0634\u062c\u0648\u06cc\u06cc"}),Object(N.jsx)(W.a.Control,{type:"text",className:"w-75 text-left",placeholder:"Student ID",autoComplete:"username",value:n,onChange:function(t){return e.setState({studentID:t.target.value})}})]}),Object(N.jsxs)(W.a.Group,{className:"mb-3 form-inline",controlId:"formBasicPassword",children:[Object(N.jsx)(W.a.Label,{className:"w-25",children:"\u0631\u0645\u0632 \u0639\u0628\u0648\u0631"}),Object(N.jsx)(W.a.Control,{type:"password",className:"w-75 text-left",placeholder:"Password",autoComplete:"current-password",value:s,onChange:function(t){return e.setState({password:t.target.value})}})]}),Object(N.jsx)("hr",{}),Object(N.jsxs)(m.a,{children:[Object(N.jsxs)(x.a,{className:"w-50",type:"submit",variant:"outline-success",children:[Object(N.jsx)("i",{className:"fa fa-sign-in px-2","aria-hidden":"true"}),"\u0648\u0631\u0648\u062f"]}),Object(N.jsxs)(x.a,{className:"w-50",variant:"outline-warning",onClick:this.onForgotPasswordClick,children:[Object(N.jsx)("i",{className:"fa fa-recycle px-2","aria-hidden":"true"}),"\u0641\u0631\u0627\u0645\u0648\u0634\u06cc \u0631\u0645\u0632"]})]})]})})]})]})}}]),a}(d.Component),Z=Object(V.f)(Q),$=(a(198),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={studentID:"",password:"",confirmPassword:"",firstname:"",lastname:"",email:"",loading:!1},e.checkConfirmPassword=function(t){e.setState({confirmPassword:t.target.value}),e.state.password!==t.target.value?t.target.setCustomValidity("\u062a\u0627\u06cc\u06cc\u062f \u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u0628\u0627\u06cc\u062f \u0628\u0627 \u062e\u0648\u062f \u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u0645\u0637\u0627\u0628\u0642\u062a \u06a9\u0627\u0645\u0644 \u062f\u0627\u0634\u062a\u0647 \u0628\u0627\u0634\u062f"):t.target.setCustomValidity("")},e.onSignUpSubmit=function(){var t=Object(c.a)(r.a.mark((function t(a){var n,s,c,i,o,l,u,d,j,b,m;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n=e.state,s=n.studentID,c=n.password,i=n.confirmPassword,o=n.firstname,l=n.lastname,u=n.email,!(o.trim().length<3||l.trim().length<3)){t.next=6;break}return T("\u0646\u0627\u0645 \u0648 \u0646\u0627\u0645 \u062e\u0627\u0646\u0648\u0627\u062f\u06af\u06cc \u0628\u0627\u06cc\u062f \u062d\u062f\u0627\u0642\u0644 \u0634\u0627\u0645 \u0633\u0647 \u062d\u0631\u0641 \u0641\u0627\u0631\u0633\u06cc \u0628\u0627\u0634\u062f"),e.setState({firstname:o.trim(),lastname:l.trim()}),t.abrupt("return");case 6:if(c!==i){t.next=24;break}return t.prev=7,e.setState({loading:!0}),d={studentID:Number(s),password:c,email:u,fullname:(o+" "+l).replace(/\s+/g," ")},t.next=12,L.signUp(d);case 12:j=t.sent,b=j.status,m=j.data,b===k.a.Status.CreatedSuccessfully&&(R("\u062b\u0628\u062a \u0646\u0627\u0645 \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u0627\u0646\u062c\u0627\u0645 \u0634\u062f"),C.browserStorage.writeUser(m.userID,m.token),e.props.history.replace("/")),t.next=22;break;case 18:t.prev=18,t.t0=t.catch(7),e.setState({loading:!1}),t.t0.response.status===k.a.Status.Conflict?P("\u0627\u06af\u0631 \u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u062e\u0648\u062f \u0631\u0627 \u0641\u0631\u0627\u0645\u0648\u0634 \u06a9\u0631\u062f\u0647 \u0627\u06cc\u062f\u060c \u0627\u0632 \u06af\u0632\u06cc\u0646\u0647 \u0628\u0627\u0632\u06cc\u0627\u0628\u06cc \u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u062f\u0631 \u0635\u0641\u062d\u0647 \u06cc \u0648\u0631\u0648\u062f \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0646\u0645\u0627\u06cc\u06cc\u062f"):k.a.Status.isErrorExpected(t.t0)||T("\u062b\u0628\u062a \u0646\u0627\u0645 \u0628\u0627 \u0645\u0634\u06a9\u0644 \u0631\u0648 \u0628\u0647 \u0631\u0648 \u0634\u062f. \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u062a\u0644\u0627\u0634 \u06a9\u062a\u0646\u06cc\u062f");case 22:t.next=25;break;case 24:T("\u0631\u0645\u0632 \u0639\u0628\u0648\u0631\u0647\u0627 \u0645\u0637\u0627\u0628\u0642\u062a \u0646\u062f\u0627\u0631\u0646\u062f");case 25:e.setState({loading:!1});case 26:case"end":return t.stop()}}),t,null,[[7,18]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.studentID,n=t.password,s=t.confirmPassword,r=t.firstname,c=t.lastname,i=t.email,o=t.loading;return Object(N.jsxs)(j.a,{border:"success",className:"sign-up-card",children:[Object(N.jsx)(X,{loading:o}),Object(N.jsx)(j.a.Header,{className:"bg-transparent text-center border-success",children:"\u0641\u0631\u0645 \u062b\u0628\u062a \u0646\u0627\u0645"}),Object(N.jsx)(j.a.Body,{children:Object(N.jsxs)(W.a,{onSubmit:function(t){return e.onSignUpSubmit(t)},children:[Object(N.jsxs)(W.a.Group,{className:"form-inline",children:[Object(N.jsx)(W.a.Label,{className:"w-25",children:"\u0646\u0627\u0645"}),Object(N.jsx)(W.a.Control,{type:"text",pattern:"[\u0622-\u06cc ]{3,}",onInput:function(e){return e.target.setCustomValidity("")},onInvalid:function(e){return e.target.setCustomValidity("\u0646\u0627\u0645 \u0628\u0627\u06cc\u062f \u0628\u0627 \u062d\u0631\u0648\u0641 \u0641\u0627\u0631\u0633\u06cc \u0648 \u0628\u0627 \u062d\u062f\u0627\u0642\u0644 \u0637\u0648\u0644 \u0633\u0647 \u062d\u0631\u0641 \u0628\u0627\u0634\u062f")},className:"sign-up-textbox w-75",placeholder:"First Name",value:r,required:"required",onChange:function(t){return e.setState({firstname:t.target.value})}})]}),Object(N.jsxs)(W.a.Group,{className:"form-inline",children:[Object(N.jsx)(W.a.Label,{className:"w-25",children:"\u0646\u0627\u0645 \u062e\u0627\u0646\u0648\u0627\u062f\u06af\u06cc"}),Object(N.jsx)(W.a.Control,{type:"text",className:"sign-up-textbox w-75",pattern:"[\u0622-\u06cc ]{3,}",onInput:function(e){return e.target.setCustomValidity("")},onInvalid:function(e){return e.target.setCustomValidity("\u0646\u0627\u0645 \u062e\u0627\u0646\u0648\u0627\u062f\u06af\u06cc \u0628\u0627\u06cc\u062f \u0628\u0627 \u062d\u0631\u0648\u0641 \u0641\u0627\u0631\u0633\u06cc \u0648 \u0628\u0627 \u062d\u062f\u0627\u0642\u0644 \u0637\u0648\u0644 \u0633\u0647 \u062d\u0631\u0641 \u0628\u0627\u0634\u062f")},placeholder:"Last Name",value:c,required:"required",onChange:function(t){return e.setState({lastname:t.target.value})}})]}),Object(N.jsxs)(W.a.Group,{className:"form-inline",children:[Object(N.jsx)(W.a.Label,{className:"w-25",children:"\u0634\u0645\u0627\u0631\u0647 \u062f\u0627\u0646\u0634\u062c\u0648\u06cc\u06cc"}),Object(N.jsx)(W.a.Control,{type:"text",pattern:"[0-9]{8}",onInput:function(e){return e.target.setCustomValidity("")},onInvalid:function(e){return e.target.setCustomValidity("\u0634\u0645\u0627\u0631\u0647 \u062f\u0627\u0646\u0634\u062c\u0648\u06cc\u06cc \u0628\u0627\u06cc\u062f \u06cc\u06a9 \u0639\u062f\u062f 8 \u0631\u0642\u0645\u06cc \u0628\u0627\u0634\u062f")},className:"sign-up-textbox w-75",placeholder:"Student ID",value:a,autoComplete:"username",required:"required",onChange:function(t){return e.setState({studentID:t.target.value})}})]}),Object(N.jsxs)(W.a.Group,{className:"form-inline",children:[Object(N.jsx)(W.a.Label,{className:"w-25",children:"\u0627\u06cc\u0645\u06cc\u0644"}),Object(N.jsx)(W.a.Control,{type:"email",pattern:".{6,}",onInput:function(e){return e.target.setCustomValidity("")},onInvalid:function(e){return e.target.setCustomValidity("\u0648\u0631\u0648\u062f\u06cc \u0628\u0627\u06cc\u062f \u0641\u0631\u0645\u062a \u0645\u0639\u062a\u0628\u0631 \u0627\u06cc\u0645\u06cc\u0644 \u0631\u0627 \u0631\u0639\u0627\u06cc\u062a \u06a9\u0631\u062f\u0647 \u0648 \u062d\u062f\u0627\u0642\u0644 6 \u06a9\u0627\u0631\u0627\u06a9\u062a\u0631 \u0628\u0627\u0634\u062f")},className:"sign-up-textbox w-75",placeholder:"E-mail",value:i,required:"required",onChange:function(t){return e.setState({email:t.target.value})}})]}),Object(N.jsxs)(W.a.Group,{className:"form-inline",children:[Object(N.jsx)(W.a.Label,{className:"w-25",children:"\u0631\u0645\u0632 \u0639\u0628\u0648\u0631"}),Object(N.jsx)(W.a.Control,{type:"password",pattern:".{6,15}",onInput:function(e){return e.target.setCustomValidity("")},onInvalid:function(e){return e.target.setCustomValidity("\u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u0628\u0627\u06cc\u062f \u062d\u062f\u0627\u0642\u0644 6 \u06a9\u0627\u0631\u0627\u06a9\u062a\u0631 \u0648 \u062d\u062f\u0627\u06a9\u062b\u0631 15 \u06a9\u0627\u0631\u0627\u06a9\u062a\u0631 \u062f\u0627\u0634\u062a\u0647 \u0628\u0627\u0634\u062f")},className:"sign-up-textbox w-75",placeholder:"Password",value:n,autoComplete:"new-password",required:"required",onChange:function(t){return e.setState({password:t.target.value})}})]}),Object(N.jsxs)(W.a.Group,{className:"form-inline",children:[Object(N.jsx)(W.a.Label,{className:"w-25",children:"\u062a\u0627\u06cc\u06cc\u062f \u0631\u0645\u0632 \u0639\u0628\u0648\u0631"}),Object(N.jsx)(W.a.Control,{type:"password",className:"sign-up-textbox w-75",placeholder:"Confirm Password",value:s,required:"required",onChange:function(t){return e.checkConfirmPassword(t)}})]}),Object(N.jsxs)(x.a,{type:"submit",className:"btn btn-success btn-block mt-4",children:[Object(N.jsx)("i",{className:"fa fa-user-plus px-2","aria-hidden":"true"}),"\u062b\u0628\u062a \u0646\u0627\u0645"]})]})}),Object(N.jsxs)(j.a.Footer,{className:"border-primary bg-transparent",children:["\u0627\u06af\u0631 \u0642\u0628\u0644\u0627 \u062b\u0628\u062a \u0646\u0627\u0645 \u06a9\u0631\u062f\u06cc\u060c \u0628\u0647 \u0635\u0641\u062d\u0647 \u06cc ",Object(N.jsx)(Z,{})," \u0628\u0631\u0648 !"]})]})}}]),a}(d.Component)),ee=Object(V.f)($),te=(a(121),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={studentID:"",password:"",loading:!1},e.onSignInSubmitted=function(){var t=Object(c.a)(r.a.mark((function t(a){var n,s,c,i,o,l,u;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),e.setState({loading:!0}),n=e.state,s=n.studentID,c=n.password,i={studentID:Number(s),password:c},t.prev=4,t.next=7,L.signIn(i);case 7:o=t.sent,l=o.status,u=o.data,l===k.a.Status.Successful&&(console.log(u),C.browserStorage.writeUser(u.userID,u.token),e.props.history.replace("/")),t.next=18;break;case 13:t.prev=13,t.t0=t.catch(4),console.log(t.t0),e.setState({password:""}),k.a.Status.isErrorExpected(t.t0)||T(".\u0648\u0631\u0648\u062f \u0628\u0627 \u0645\u0634\u06a9\u0644 \u0631\u0648 \u0628\u0647 \u0631\u0648 \u0634\u062f. \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u062a\u0644\u0627\u0634 \u06a9\u062a\u0646\u06cc\u062f.");case 18:e.setState({loading:!1});case 19:case"end":return t.stop()}}),t,null,[[4,13]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.studentID,n=t.password,s=t.loading;return Object(N.jsxs)(j.a,{border:"primary",className:"sign-in-sidebar",children:[Object(N.jsx)(j.a.Header,{border:"primary",className:"text-center text-primary",children:"\u0648\u0631\u0648\u062f \u06a9\u0627\u0631\u0628\u0631\u0627\u0646"}),Object(N.jsx)(X,{loading:s}),Object(N.jsx)(j.a.Body,{className:"text-primary",children:Object(N.jsxs)(W.a,{onSubmit:function(t){return e.onSignInSubmitted(t)},children:[Object(N.jsx)(W.a.Control,{type:"text",autoComplete:"username",className:"sign-in-sidebar-textBox",placeholder:"\u0634\u0645\u0627\u0631\u0647 \u062f\u0627\u0646\u0634\u062c\u0648\u06cc\u06cc",value:a,onChange:function(t){return e.setState({studentID:t.target.value})}}),Object(N.jsx)("br",{}),Object(N.jsx)(W.a.Control,{type:"password",autoComplete:"current-password",className:"sign-in-sidebar-textBox",placeholder:"\u0631\u0645\u0632 \u0639\u0628\u0648\u0631",value:n,onChange:function(t){return e.setState({password:t.target.value})}}),Object(N.jsx)("br",{}),Object(N.jsx)(j.a.Footer,{className:"bg-transparent border-primary",children:Object(N.jsxs)(m.a,{children:[Object(N.jsx)(q.a,{children:Object(N.jsxs)(x.a,{type:"submit",variant:"success",className:"sign-in-sidebar-buttons",children:[Object(N.jsx)("i",{className:"fa fa-sign-in px-3","aria-hidden":"true"}),"\u0648\u0631\u0648\u062f"]})}),Object(N.jsx)(q.a,{children:Object(N.jsxs)(x.a,{className:"sign-in-sidebar-buttons",variant:"warning",children:[Object(N.jsx)("i",{className:"fa fa-recycle px-3","aria-hidden":"true"}),"\u0628\u0627\u0632\u06cc\u0627\u0628\u06cc \u067e\u0633\u0648\u0631\u062f"]})})]})})]})})]})}}]),a}(d.Component)),ae=Object(V.f)(te),ne=C.Routes.Server,se={createNotice:function(e){return A.post("".concat(ne.Root,"/").concat(ne.Notices,"/").concat(ne.NoticeManagement),JSON.stringify(e))},getAdvancedNotics:function(){return A.get("".concat(ne.Root,"/").concat(ne.Notices,"/").concat(ne.NoticeManagement))},getShortNotices:function(){return A.get("".concat(ne.Root,"/").concat(ne.Notices))},editNotice:function(e,t){return A.put("".concat(ne.Root,"/").concat(ne.Notices,"/").concat(ne.NoticeManagement,"/").concat(e),JSON.stringify(t))}},re=a(239),ce=a(246),ie=function(){var e=Object(d.useState)([]),t=Object(b.a)(e,2),a=t[0],n=t[1];return Object(d.useEffect)((function(){Object(c.a)(r.a.mark((function e(){var t,a,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,se.getShortNotices();case 3:t=e.sent,a=t.status,s=t.data,a===k.a.Status.Successful&&(s.notices.length&&n(s.notices.reverse()),0===s.notices.length&&n([{title:"\u067e\u06cc\u0627\u0645",text:"\u0627\u0637\u0644\u0627\u0639\u06cc\u0647 \u062c\u062f\u06cc\u062f\u06cc \u0648\u062c\u0648\u062f \u0646\u062f\u0627\u0631\u062f"}])),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),n([{title:"\u062e\u0637\u0627",text:"...\u0645\u0634\u06a9\u0644\u06cc \u062d\u06cc\u0646 \u0628\u0627\u0631\u06af\u0630\u0627\u0631\u06cc \u0627\u0637\u0644\u0627\u0639\u06cc\u0647 \u0647\u0627 \u067e\u06cc\u0634 \u0622\u0645\u062f. \u062f\u0648\u0628\u0627\u0631\u0647 \u0627\u0645\u062a\u062d\u0627\u0646 \u06a9\u0646\u06cc\u062f"}]);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()}),[]),Object(N.jsxs)(j.a,{className:"notice-sidebar",border:"success",children:[Object(N.jsx)(j.a.Header,{className:"text-center text-success",children:"\u0627\u0637\u0644\u0627\u0639\u06cc\u0647 \u0647\u0627"}),Object(N.jsx)(j.a.Body,{className:"text-right",children:a.length&&a.map((function(e){return Object(N.jsxs)(d.Fragment,{children:[Object(N.jsxs)(re.a,{variant:"info",children:[Object(N.jsx)("i",{className:"fa fa-rss px-3","aria-hidden":"true"}),Object(N.jsx)("span",{style:{color:"red",fontSize:"18px"},children:e.title}),": ",e.text]}),Object(N.jsx)("hr",{})]},Object(ce.a)())}))})]})},oe=a.p+"static/media/no-avatar.5e7c913e.png",le=a(242),ue=a(249),de=a(240),je=a(9),be=function(){var e=Object(je.d)((function(e){return e.statistics})),t=e.players,a=e.games;return Object(N.jsxs)(ue.a,{className:"list-group list-group-flush",children:[Object(N.jsx)(ue.a.Item,{className:"bg-transparent",children:Object(N.jsxs)(m.a,{children:[Object(N.jsx)(q.a,{children:Object(N.jsxs)(j.a.Text,{className:"text-center",children:[Object(N.jsx)("i",{className:"fa fa-wifi px-2","aria-hidden":"true"}),"\u06a9\u0627\u0631\u0628\u0631\u0627\u0646 \u0622\u0646\u0644\u0627\u06cc\u0646"]})}),Object(N.jsx)(q.a,{children:Object(N.jsx)(de.a,{className:"player-badge-font-size",variant:"success",pill:!0,children:t})})]})}),Object(N.jsx)(ue.a.Item,{className:"bg-transparent",children:Object(N.jsxs)(m.a,{children:[Object(N.jsx)(q.a,{children:Object(N.jsxs)(j.a.Text,{className:"text-center",children:[Object(N.jsx)("i",{className:"fa fa-gamepad px-2","aria-hidden":"true"}),"\u0628\u0627\u0632\u06cc \u0647\u0627\u06cc \u0641\u0639\u0627\u0644"]})}),Object(N.jsx)(q.a,{children:Object(N.jsx)(de.a,{className:"player-badge-font-size",variant:"success",pill:!0,children:a})})]})})]})},me=function(e){return{type:"LOAD_ME",payload:e}},xe=function(e){return{type:"SET_ROOM",payload:e}},he=function(e){return{type:"SEND_FRIEND_REQUEST",payload:e}},Oe=function(e,t,a){return{type:"SEND_MESSAGE",payload:{name:e,friendID:t,text:a}}},pe=a(241),fe=function(e){var t=e.friendID,a=Object(d.useState)(""),n=Object(b.a)(a,2),s=n[0],r=n[1],c=Object(je.d)((function(e){return e.message})),i=Object(je.c)(),o=Object(je.d)((function(e){return e.player}));return Object(N.jsxs)(W.a,{onSubmit:function(e){return function(e){s&&(e.preventDefault(),i(Oe(o.fullname,t,s)),r(""))}(e)},children:[Object(N.jsx)(m.a,{className:"w-100 mt-3 mx-auto",children:Object(N.jsx)(re.a,{className:"w-100 text-right",variant:"info",children:c&&c.recieved?c.recieved.text:Object(N.jsx)("p",{className:"p-1",children:" "})})}),Object(N.jsx)(m.a,{className:"w-100 mx-auto mb-3",children:Object(N.jsxs)(pe.a,{className:"w-100",children:[Object(N.jsx)(pe.a.Prepend,{style:{width:"10%"},children:Object(N.jsx)(x.a,{type:"submit",className:"mx-auto",variant:"outline-info",children:Object(N.jsx)("i",{className:"fa fa-paper-plane","aria-hidden":"true"})})}),Object(N.jsx)(pe.a.Prepend,{style:{width:"88%"},children:Object(N.jsx)(W.a.Control,{placeholder:"\u067e\u06cc\u0627\u0645...",value:s,onChange:function(e){return r(e.target.value)},className:"text-right"})})]})})]})},ge=(a(43),function(e){var t=e.children,a=e.title,n=e.small;return Object(N.jsx)(ue.a.Item,{className:"bg-transparent",children:Object(N.jsxs)(m.a,{className:!n&&"py-2",children:[Object(N.jsx)(q.a,{className:"text-center",children:Object(N.jsx)(j.a.Text,{children:a})}),Object(N.jsx)(q.a,{className:n?"text-left":"text-center",children:Object(N.jsx)(de.a,{className:"friend-badge-font-size",pill:!0,variant:"primary",children:t})})]})})}),ve=function(e){var t=Object(je.d)((function(e){return e.player})),a=Object(je.d)((function(e){return e.scoreboard})),n=Object(je.c)(),s=Object(d.useState)(!1),i=Object(b.a)(s,2),o=i[0],l=i[1],u=e.person?e.person:t,m=Object(d.useState)(null),h=Object(b.a)(m,2),O=h[0],p=h[1];if(Object(d.useEffect)((function(){console.log(a),p(t&&u.userID!==t.userID?a.opp:a.me)}),[u,t,a]),Object(d.useEffect)((function(){t&&u.userID!==t.userID&&Object(c.a)(r.a.mark((function e(){var t,a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.isMyFriend(u.userID);case 3:t=e.sent,a=t.status,n=t.data,a===k.a.Status.Successful&&l(n.isFriend),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()}),[t,u]),!u)return null;var f=u.records;return Object(N.jsxs)(j.a,{border:"info",className:"player-info-sidebar",children:[Object(N.jsxs)(j.a.Header,{className:"text-center text-info form-inline",children:[Object(N.jsx)(q.a,{children:Object(N.jsx)(j.a.Text,{className:"text-left",children:u.fullname})}),Object(N.jsx)(q.a,{children:Object(N.jsx)(le.a,{className:"card-img-top player-avatar",src:oe,alt:"\u0645\u0634\u06a9\u0644\u06cc \u062f\u0631 \u0628\u0627\u0631\u06af\u0630\u0627\u0631\u06cc \u062a\u0635\u0648\u06cc\u0631 \u067e\u06cc\u0634 \u0622\u0645\u062f"})})]}),Object(N.jsx)(j.a.Body,{children:Object(N.jsxs)(ue.a,{className:"list-group list-group-flush",children:[O&&Object(N.jsx)(ue.a.Item,{children:Object(N.jsx)(re.a,{variant:O.index?"danger":"primary",children:Object(N.jsxs)(re.a.Heading,{className:"text-center",children:[O.score," : ",O.shape]})})}),Object(N.jsx)(ge,{small:!0,title:"\u0627\u0645\u062a\u06cc\u0627\u0632 \u0628\u0627\u0632\u06cc\u06a9\u0646",children:f.points}),Object(N.jsx)(ge,{small:!0,title:"\u062a\u0639\u062f\u0627\u062f \u0628\u0631\u062f\u0647\u0627",children:f.wins}),Object(N.jsx)(ge,{small:!0,title:"\u062a\u0639\u062f\u0627\u062f \u062a\u0633\u0627\u0648\u06cc",children:f.draws}),Object(N.jsx)(ge,{small:!0,title:"\u062a\u0639\u062f\u0627\u062f \u0628\u0627\u062e\u062a\u0647\u0627",children:f.loses})]})}),Object(N.jsx)(j.a.Footer,{children:t===u?Object(N.jsx)(be,{}):o?Object(N.jsx)(fe,{friendID:u.userID}):Object(N.jsxs)(x.a,{variant:"outline-info",block:!0,onClick:function(e){return function(e){e.target.innerHTML="\u0627\u0631\u0633\u0627\u0644 \u0634\u062f...",e.target.disabled=!0,n(he(u.userID))}(e)},children:[Object(N.jsx)("i",{className:"fa fa-handshake-o px-2","aria-hidden":"true"}),"\u062f\u0631\u062e\u0648\u0627\u0633\u062a \u062f\u0648\u0633\u062a\u06cc"]})})]})},ye=a(82),Ne=Object(V.f)((function(e){var t=e.location,a=Object(je.d)((function(e){return e.message})),n=t.pathname,s=Object(je.c)();return Object(d.useEffect)((function(){try{a&&a.recieved&&!a.recieved.pushed&&n!==C.Routes.Client.ChatRoom&&(C.Routes.Client.GameDeck,function(e){var t=e.name,a=e.text;Object(I.b)("".concat(t," : ").concat(a),{type:"dark",position:"top-left",closeOnClick:!0,icon:Object(N.jsx)("i",{style:{float:"right",textAlign:"right"},className:"fa fa-envelope-o","aria-hidden":"true"})})}(a.recieved),s({type:"MEESAGE_PUSHED"}));var e=Object(ye.a)(C.browserStorage.TOKEN());if(e){var t=e.exp,r=(t-e.iat)/60;Date.now()/1e3/60+r/4>=t/60&&G("\u0646\u0634\u0633\u062a \u0634\u0645\u0627 \u062f\u0631 \u0634\u0631\u0641 \u0627\u0646\u0642\u0636\u0627\u0633\u062a ... \u0628\u0631\u0627\u06cc \u067e\u06cc\u0634 \u06af\u06cc\u0631\u06cc \u0627\u0632 \u0628\u0631\u0648\u0632 \u0645\u0634\u06a9\u0644 \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u0648\u0627\u0631\u062f \u062d\u0633\u0627\u0628 \u062e\u0648\u062f \u0634\u0648\u06cc\u062f")}}catch(c){console.log(c)}}),[a,n,s]),null})),Se=Object(V.f)((function(e){var t=Object(d.useState)(null),a=Object(b.a)(t,2),n=a[0],s=a[1],i=Object(d.useState)(null),o=Object(b.a)(i,2),l=o[0],u=o[1],j=Object(d.useState)(!1),h=Object(b.a)(j,2),O=h[0],p=h[1],f=Object(je.d)((function(e){return e.player})),g=Object(je.d)((function(e){return e.opponent})),v=Object(je.d)((function(e){return e.tools})),y=Object(je.d)((function(e){return e.room})),S=Object(je.d)((function(e){return e.message})),w=Object(d.useState)(!0),k=Object(b.a)(w,2),D=k[0],E=k[1],I=Object(je.c)(),P=Object(d.useCallback)((function(){return setInterval((function(){n&&(console.log("updating statistics..."),n.send(JSON.stringify({token:C.browserStorage.TOKEN(),request:"online",clientID:f.userID,msg:null})))}),3e5)}),[n,f]);Object(d.useEffect)((function(){console.log("global timer enabled");var e=P();return function(){console.log("global timer disabled"),clearInterval(e)}}),[P]);var A=Object(d.useCallback)((function(){return new Promise((function(t,a){var n=new WebSocket("".concat(C.Routes.Server.WebSocketRoot,"/").concat(C.Routes.Server.wsGlobalRoute));n.onopen=function(){n.send(JSON.stringify({token:C.browserStorage.TOKEN(),request:"online",clientID:f.userID,msg:null})),t(n)},n.onmessage=function(a){var s,r,c,i=a.data,o=JSON.parse(i),l=o.command,d=o.msg;switch(l){case"ONLINE":var j=d.players,b=d.games;I({type:"UPDATE_STATISTICS",payload:{players:j,games:b}});break;case"NOT_AUTHORIZED":T("\u0646\u0634\u0633\u062a \u0634\u0645\u0627 \u0645\u0646\u0642\u0636\u06cc \u0634\u062f\u0647\u060c \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u0648\u0627\u0631\u062f \u062d\u0633\u0627\u0628 \u06a9\u0627\u0631\u0628\u0631\u06cc \u062e\u0648\u062f \u0634\u0648\u06cc\u062f"),C.browserStorage.writeUser(null,null),e.history.replace(C.Routes.Client.SignUp);break;case"FIND_RESULT":d?(console.log("your room",d),I(xe(d)),n.send(JSON.stringify({token:C.browserStorage.TOKEN(),request:"online",clientID:f.userID,msg:null}))):setTimeout((function(){I({type:"TRIGGER_OPPONENT_SEARCH"})}),5e3);break;case"FRIENDSHIP_REQUEST":d.askerID===g.userID&&(u(d),p(!0));break;case"FRIENDSHIP_RESPONSE":var m=d.answer,x=d.targetName;m?R("".concat(x," \u062f\u0631\u062e\u0648\u0627\u0633\u062a \u062f\u0648\u0633\u062a\u06cc \u0634\u0645\u0627 \u0631\u0627 \u067e\u0630\u06cc\u0631\u0641\u062a")):G("".concat(x," \u062f\u0631\u062e\u0648\u0627\u0633\u062a \u062f\u0648\u0633\u062a\u06cc \u0634\u0645\u0627 \u0631\u0627 \u0631\u062f \u06a9\u0631\u062f")),I(he(null));break;case"TARGET_OFFLINE":case"FRIENDLY_GAME":case"FRIENDLY_RESULT":break;case"CHAT":I((s=d.name,r=d.friendID,c=d.text,{type:"RECIEVE_MESSAGE",payload:{name:s,friendID:r,text:c}}))}t(n)},n.onerror=function(e){n.close(),a(e)},n.onclose=function(){console.log("Reconnecting in  5 seconds"),setTimeout((function(){Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,console.log("global socket online request"),!f){e.next=8;break}return e.next=5,A();case 5:e.t0=e.sent,e.next=9;break;case 8:e.t0=null;case 9:t=e.t0,s(t),e.next=16;break;case 13:e.prev=13,e.t1=e.catch(0),console.log(e.t1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))()}),5e3),t(null)}}))}),[I,g,f]);Object(d.useEffect)((function(){D&&f&&Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,console.log("global socket online request"),!f){e.next=8;break}return e.next=5,A();case 5:e.t0=e.sent,e.next=9;break;case 8:e.t0=null;case 9:t=e.t0,s(t),e.next=16;break;case 13:e.prev=13,e.t1=e.catch(0),console.log(e.t1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))()}),[D,f,A]),Object(d.useEffect)((function(){y.type?!y.name&&n&&f&&n.send(JSON.stringify({token:C.browserStorage.TOKEN(),request:"find",clientID:f.userID,msg:y.type})):y.name||n&&n.send(JSON.stringify({token:C.browserStorage.TOKEN(),request:"close_game",clientID:f.userID,msg:null}))}),[f,y,v.opponentSearchTriggered,n]),Object(d.useEffect)((function(){v.friendRequest&&n.send(JSON.stringify({token:C.browserStorage.TOKEN(),request:"friendship",clientID:f.userID,msg:{targetID:v.friendRequest,askerName:f.fullname}}))}),[v.friendRequest,n,f]);var M=function(e){n.send(JSON.stringify({token:C.browserStorage.TOKEN(),request:"respond_friendship",clientID:f.userID,msg:{answer:e,targetName:f.fullname,askerID:l.askerID}})),p(!1),u(null),I(he(null))};return Object(d.useEffect)((function(){S.sent&&(n.send(JSON.stringify({token:C.browserStorage.TOKEN(),request:"chat",clientID:f.userID,msg:S.sent})),I({type:"RESET_MESSAGES"}))}),[f,S,n,I]),setInterval((function(){window.navigator.onLine?D||E(!0):D&&E(!1)}),5e3),Object(N.jsxs)(d.Fragment,{children:[Object(N.jsx)(Ne,{}),Object(N.jsxs)(z.a,{show:O,onHide:function(){return M(!1)},children:[Object(N.jsx)(z.a.Header,{closeButton:!0}),Object(N.jsxs)(z.a.Body,{className:"text-right",children:[Object(N.jsxs)("p",{children:[l?Object(N.jsx)(de.a,{style:{fontSize:"18px",margin:"2%"},pill:!0,variant:"warning",children:l.askerName}):null,"\u0628\u0647 \u0634\u0645\u0627 \u067e\u06cc\u0634\u0646\u0647\u0627\u062f \u062f\u0648\u0633\u062a\u06cc \u062f\u0627\u062f\u0647 \u0627\u0633\u062a."]}),Object(N.jsx)("p",{children:"\u0627\u06af\u0631 \u062a\u0645\u0627\u06cc\u0644 \u0628\u0647 \u062f\u0648\u0633\u062a\u06cc \u0646\u062f\u0627\u0631\u06cc\u062f \u0645\u06cc\u062a\u0648\u0627\u0646\u062f \u062f\u0631\u062e\u0648\u0627\u0633\u062a \u0631\u0627 \u0631\u062f \u06a9\u0646\u06cc\u062f."})]}),Object(N.jsx)(z.a.Footer,{className:"w-100 text-right",children:Object(N.jsxs)(m.a,{className:"w-100",children:[Object(N.jsx)(q.a,{children:Object(N.jsx)(x.a,{variant:"success",block:!0,onClick:function(){return M(!0)},children:"\u067e\u0630\u06cc\u0631\u0641\u062a\u0646"})}),Object(N.jsx)(q.a,{children:Object(N.jsx)(x.a,{block:!0,variant:"danger",onClick:function(){return M(!1)},children:"\u0631\u062f"})})]})})]})]})})),we=function(){var e=C.browserStorage.ID(),t=Object(je.c)(),a=Object(je.d)((function(e){return e.opponent}));return Object(d.useEffect)((function(){console.log("storageUserID user changed"),e?(console.log("auth called"),U.loadPlayerData(e).then((function(e){t(me(e))})).catch((function(e){t(me(null))}))):t(me(null))}),[e,a,t]),null},Ce=Object(d.createContext)({device:0}),ke=Object(V.f)((function(e){var t=Object(d.useContext)(Ce),a=e.location.pathname,n=Object(je.d)((function(e){return e.player})),s=Object(je.d)((function(e){return e.opponent})),r=Object(je.d)((function(e){return e.scoreboard})),c=Object(d.useState)(null),i=Object(b.a)(c,2),o=i[0],l=i[1],u=Object(d.useState)(null),j=Object(b.a)(u,2),x=j[0],h=j[1];return Object(d.useEffect)((function(){l(Object(N.jsx)(ie,{}))}),[]),Object(d.useEffect)((function(){console.log("context.device responsive manager called");var e=function(){t.device!==C.Devices.Tablet?h(n?Object(N.jsx)(ve,{}):Object(N.jsx)(ae,{})):h(null)};a===C.Routes.Client.SignUp?(h(null),l(null)):a===C.Routes.Client.GameDeck?(e(),s&&(t.device!==C.Devices.SmartPhone?l(Object(N.jsx)(ve,{person:s})):(l(null),h(null)))):(l(Object(N.jsx)(ie,{})),e())}),[n,s,a,r,t.device]),Object(N.jsxs)(d.Fragment,{children:[Object(N.jsx)(we,{}),n&&Object(N.jsx)(Se,{}),t.device!==C.Devices.SmartPhone?Object(N.jsxs)(m.a,{className:"w-100 mx-auto",children:[x&&Object(N.jsx)(q.a,{xs:3,children:x}),Object(N.jsx)(q.a,{className:"mx-auto",xs:a!==C.Routes.Client.SignUp?null:7,children:e.children}),o&&Object(N.jsx)(q.a,{xs:t.device!==C.Devices.Tablet?3:4,children:o})]}):Object(N.jsxs)(F.a,{children:[n?Object(N.jsx)(m.a,{className:"w-100 mx-auto",children:x}):null,Object(N.jsx)(m.a,{className:"w-100 mx-auto",children:o}),Object(N.jsx)(m.a,{className:"w-100 mx-auto",children:e.children})]})]})})),De=a(41),Ee=function(e){var t=e.rowNumber,a=e.name,n=e.points,s=e.wins,r=e.loses,c=e.draws;return Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{scope:"row",children:t}),Object(N.jsx)("td",{children:a}),Object(N.jsx)("td",{children:n}),Object(N.jsx)("td",{children:s}),Object(N.jsx)("td",{children:r}),Object(N.jsx)("td",{children:c})]})},Ie=function(e){var t=e.players;return Object(N.jsxs)(j.a,{border:"dark",style:{width:"100%",borderRadius:"5px"},children:[Object(N.jsx)(j.a.Header,{className:"text-center",children:"\u0631\u062f\u0647 \u0628\u0646\u062f\u06cc"}),Object(N.jsxs)("table",{className:"table table-striped table-bordered table-hover text-center",children:[Object(N.jsx)("thead",{className:"bg-info",children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{scope:"col",children:"#"}),Object(N.jsx)("th",{scope:"col",children:"\u0646\u0627\u0645 \u0628\u0627\u0632\u06cc\u06a9\u0646"}),Object(N.jsx)("th",{scope:"col",children:"\u0627\u0645\u062a\u06cc\u0627\u0632"}),Object(N.jsx)("th",{scope:"col",children:"\u062a\u0639\u062f\u0627\u062f \u0628\u0631\u062f"}),Object(N.jsx)("th",{scope:"col",children:"\u062a\u0639\u062f\u0627\u062f \u0628\u0627\u062e\u062a"}),Object(N.jsx)("th",{scope:"col",children:"\u062a\u0639\u062f\u0627\u062f \u062a\u0633\u0627\u0648\u06cc"})]})}),Object(N.jsx)("tbody",{children:t.map((function(e){return Object(N.jsx)(Ee,{rowNumber:t.findIndex((function(t){return t.userID===e.userID}))+1,name:e.fullname,points:e.records.points,wins:e.records.wins,loses:e.records.loses,draws:e.records.draws},e.userID)}))})]})]})},Te=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={players:[],loading:!1},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;Object(c.a)(r.a.mark((function t(){var a,n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({loading:!0}),t.next=3,L.getAllPlayers();case 3:if(a=t.sent,n=a.data,a.status!==k.a.Status.Successful){t.next=8;break}return t.abrupt("return",n.players);case 8:return t.abrupt("return",[]);case 9:case"end":return t.stop()}}),t)})))().then((function(t){var a=Object(De.a)(t);e.setState({players:a.sort((function(e,t){return t.records.points-e.records.points||t.records.wins-e.records.wins||e.records.loses-t.records.loses})),loading:!1})})).catch((function(t){e.setState({players:[],loading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.players,a=e.loading;return Object(N.jsxs)(m.a,{className:"mx-auto mt-3",children:[a?Object(N.jsx)(X,{loading:a}):null,Object(N.jsx)(m.a,{className:"w-100 mx-auto",children:Object(N.jsx)(Ie,{players:t})})]})}}]),a}(d.Component),Re=(a(122),function(e,t,a,n){return JSON.stringify({request:e,rname:t,playerID:a,token:C.browserStorage.TOKEN(),msg:n})}),Pe=function(e,t,a){return new Promise((function(n,s){var r=new WebSocket("".concat(C.Routes.Server.WebSocketRoot,"/").concat(C.Routes.Server.wsGamePlayRoute));r.onopen=function(){r.send(Re("join",e,t,a)),n(r)},r.onerror=function(e){r.close(),s(e)},r.onclose=function(){n(null)}}))};var Ge=function(e){return Object(je.b)((function(e){return{player:e.player,opponent:e.opponent,room:e.room,scoreboard:e.scoreboard,tools:e.tools}}),(function(e){return{LoadMe:function(t){return e(me(t))},LoadOpponent:function(t){return e(function(e){return{type:"LOAD_OPPONENT",payload:e}}(t))},ResetOpponent:function(){return e({type:"RESET_OPPONENT"})},SetRoom:function(t){return e(xe(t))},ResetRoom:function(){return e({type:"RESET_ROOM"})},SetGameID:function(t){return e(function(e){return{type:"SET_GAME_ID",payload:e}}(t))},UpdateScoreboard:function(t){return e(function(e){return{type:"UPDATE_SCOREBOARD",payload:e}}(t))},CleanScoreboard:function(){return e({type:"CLEAN_SCOREBOARD"})},TriggerRecordUpdate:function(){return e({type:"TRIGGER_UPDATE"})},SaveNewToken:function(){return e({type:"SAVE_TOKEN"})}}}))(e)},Ae=function(e){var t=e.timeRemaining,a=e.players,n=Object(d.useState)(null),s=Object(b.a)(n,2),r=s[0],c=s[1],i=C.GameSetting.T3D.TurnTimeOut/3;return Object(d.useEffect)((function(){var e=null,a=null;t?t>=i?(e="text-success",a=Object(N.jsx)("i",{className:"fa fa-hourglass-start px-2","aria-hidden":"true"})):(e="text-danger",a=Object(N.jsx)("i",{className:"fa fa-hourglass-half px-2","aria-hidden":"true"})):(e="text-dark",a=Object(N.jsx)("i",{className:"fa fa-hourglass-end px-2","aria-hidden":"true"})),c(Object(N.jsxs)("div",{className:e,children:[a,t]}))}),[t,i]),Object(N.jsx)(j.a.Header,{className:"w-100 text-center",children:Object(N.jsxs)(m.a,{style:{fontSize:"20px"},children:[Object(N.jsxs)(q.a,{style:{textAlign:"right",color:a[1].color},children:[a[1].shape," : ",a[1].score]}),Object(N.jsx)(q.a,{children:r}),Object(N.jsxs)(q.a,{style:{textAlign:"left",color:a[0].color},children:[a[0].score," : ",a[0].shape]})]})})},Me=function(e){for(var t=e.timeRemaining,a=e.dimension,n=e.players,s=e.table,r=e.onEachCellClick,c=e.normalCell,i=[],o=0;o<a;o++)i.push(o);return Object(N.jsxs)(j.a,{bg:"transparent",border:"dark",className:"w-100 mx-auto",children:[Object(N.jsx)(Ae,{timeRemaining:t,players:n}),Object(N.jsx)(j.a.Body,{className:"game-border-card",children:s?i.map((function(e){return Object(N.jsxs)(d.Fragment,{children:[i.map((function(t){return Object(N.jsx)(m.a,{style:{direction:"ltr",marginLeft:"".concat(C.GameSetting.T3D.TableRowMargings[t],"px")},children:i.map((function(i){return Object(N.jsx)(x.a,{variant:c,className:"game-table-cells",style:null!==s[e][t][i]?{color:n[s[e][t][i]].color}:null,id:e*a*a+t*a+i,onClick:function(e){return r(e)},children:null!==s[e][t][i]&&n[s[e][t][i]].shape},e*a*a+t*a+i)}))})})),Object(N.jsx)("br",{})]})})):Object(N.jsx)("p",{className:"text-center",children:" \u062f\u0631 \u062d\u0627\u0644 \u0627\u062a\u0635\u0627\u0644... "})})]})},Le=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).state={normalCell:"outline-dark",players:[{shape:Object(N.jsx)("i",{className:"fa fa-times","aria-hidden":"true"}),color:"blue",selected:"warning",lineColor:"primary",score:0},{shape:Object(N.jsx)("i",{className:"fa fa-sun-o","aria-hidden":"true"}),color:"darkred",selected:"warning",lineColor:"danger",score:0}],turn:0,dimension:3,table:null,myTurn:void 0,gameID:null,socketGamePlay:void 0,playerOnline:!0,timeRemaining:0,timerID:null,connectionCheckTimerID:null},e.LoadOpponentData=function(t){var a=e.props,n=a.opponent,s=a.LoadOpponent;!n&&t&&U.loadPlayerData(t).then((function(e){s(e||null)})).catch((function(e){s(null)}))},e.updateGameScorebaord=function(){var t=e.state,a=t.myTurn,n=t.players,s=Number(!a);e.props.UpdateScoreboard({me:{index:a,shape:n[a].shape,score:n[a].score},opp:{index:s,shape:n[s].shape,score:n[s].score}})},e.enableTimerForMyMove=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C.GameSetting.T3D.TurnTimeOut;e.setState({timeRemaining:t});var a=setInterval((function(){var t=e.state,a=t.timeRemaining,n=t.timerID;a<=0?clearInterval(n):e.setState({timeRemaining:e.state.timeRemaining-1})}),1e3);e.setState({timerID:a})},e.updatePlayerStates=function(t){var a=t.turn,n=t.xScore,s=t.oScore,r=Object(De.a)(e.state.players);r[0].score=n,r[1].score=s,e.setState({players:r,turn:a}),e.updateGameScorebaord()},e.disableAllTimers=function(){var t=e.state,a=t.connectionCheckTimerID,n=t.timerID;clearTimeout(a),clearTimeout(n)},e.socketOnMessage=function(t){var a=t.data,n=JSON.parse(a),s=n.cmd,r=n.msg;if("START"===s){var c=v(r).format("hh:mm");G("\u0628\u0627\u0632\u06cc \u0631\u0627\u0633 \u0633\u0627\u0639\u062a ".concat(c," \u0622\u063a\u0627\u0632 \u0634\u062f."))}else if("GAME"===s){var i=r.IDs,o=r.dimension,l=r.myTurn;e.setState({dimension:o,myTurn:l});var u=Number(!l);e.LoadOpponentData(i[u])}else if("LOAD"===s){e.updatePlayerStates(r);var d=r.table;e.setState({table:d}),e.updateGameScorebaord()}else if("TIMER"===s)console.log("time updated: ",r),e.setState({timeRemaining:r}),clearTimeout(e.state.timerID),e.enableTimerForMyMove(r);else if("SCORES"===s)e.updatePlayerStates(r);else if("UPDATE"===s){var j=e.props,b=j.player,m=j.room,x=e.state.dimension,h=Number(r.nextMove);e.verifyAndApplyTheMove(e.getCellCoordinates(h,x),e.cellButtons[h]),e.updatePlayerStates(r),e.cellButtons[h].focus(),e.updateGameScorebaord(),e.state.socketGamePlay.send(Re("move_recieved",m.name,b.userID,!0)),e.enableTimerForMyMove()}else if("MOVE_MISSED"===s){var O=e.state.myTurn;e.setState({turn:r}),r===O&&e.enableTimerForMyMove()}else"END"===s?(e.updatePlayerStates(r),e.endThisGame(),e.disableAllTimers()):"CLOSE"===s?(G("\u0628\u062f\u0644\u06cc\u0644 \u062d\u0627\u0636\u0631 \u0646\u0628\u0648\u062f\u0646 \u0647\u06cc\u0686 \u06a9\u062f\u0627\u0645 \u0627\u0632 \u0628\u0627\u0632\u06cc\u06a9\u06cc\u0646\u0627\u0646\u060c \u0628\u0627\u0632\u06cc \u0634\u0645\u0627 \u06a9\u0646\u0633\u0644 \u0634\u062f"),e.closeThisGame()):console.log("wrong socket request")},e.forceConnectWS=function(){var t=Object(c.a)(r.a.mark((function t(a){var n,s,c,i;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props,s=n.player,c=n.room,t.prev=1,t.next=4,Pe(c.name,s.userID,c.type);case 4:(i=t.sent).onmessage=e.socketOnMessage,e.setState({socketGamePlay:i}),a&&a(),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.log(t.t0),setTimeout((function(){console.log("rconnecting from GamePlay"),e.forceConnectWS(a)}),a?1e3:3e3);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}(),e.enableConnectionCheckTimer=function(){return setInterval((function(){window.navigator.onLine?e.state.playerOnline||(console.log("connected"),e.setState({playerOnline:!0}),e.forceConnectWS(null)):e.state.playerOnline&&(console.log("dissconnected"),e.setState({playerOnline:!1}))}),2500)},e.getCellCoordinates=function(e,t){var a=e%(t*t);return{floor:Math.floor(e/(t*t)),row:Math.floor(a/t),column:a%t}},e.onEachCellClick=function(t){var a=e.state,n=a.dimension,s=a.turn,r=a.timerID,c=e.props,i=c.player,o=c.opponent,l=c.room;if(o)try{var u=t.target;if(e.state.turn!==e.state.myTurn)return console.log(e.state.myTurn),void e.forceConnectWS(null);var d=e.getCellCoordinates(u.id,n);e.verifyAndApplyTheMove(d,u)&&(e.setState({turn:(s+1)%2}),e.forceConnectWS((function(){e.state.socketGamePlay.send(Re("move",l.name,i.userID,u.id))})),clearInterval(r),e.setState({timeRemaining:0}))}catch(j){console.log(j)}},e.verifyAndApplyTheMove=function(t,a){var n=e.state,s=n.players,r=n.turn,c=n.normalCell,i=Object(De.a)(e.state.table);return null===i[t.floor][t.row][t.column]&&(i[t.floor][t.row][t.column]=r,e.setState({table:i}),a.className="game-table-cells btn btn-".concat(s[r].selected),setTimeout((function(){a.className="game-table-cells btn btn-".concat(c)}),1e3),e.inspectAreaAroundTheCell(t.floor,t.row,t.column),!0)},e.inspectAreaAroundTheCell=function(t,a,n){for(var s=e.state,r=s.players,c=s.table,i=s.dimension,o=c[t][a][n],l=0,u=0,d=0,j=0,b=0,m=0,x=0,h=0;h<i;h++)c[t][a][h]===o&&l++,c[t][h][n]===o&&u++,c[h][a][n]===o&&x++,a===n&&(c[t][h][h]===o&&d++,a===t&&c[h][h][h]===o&&b++),a+n+1===i&&(c[t][h][i-h-1]===o&&j++,a===t&&c[h][h][i-h-1]===o&&m++);e.connectTheScoreLines(l,t*i*i+a*i,1,r[o],i),e.connectTheScoreLines(u,t*i*i+n,i,r[o],i),e.connectTheScoreLines(d,t*i*i,i+1,r[o],i),e.connectTheScoreLines(j,t*i*i+(i-1),i-1,r[o],i),e.connectTheScoreLines(b,0,i*(i+1)+1,r[o],i),e.connectTheScoreLines(m,i-1,i*(i+1)-1,r[o],i),e.connectTheScoreLines(x,a*i+n,i*i,r[o],i)},e.connectTheScoreLines=function(t,a,n,s,r){var c=e.state.normalCell;if(t===r)for(var i=function(t){e.cellButtons[a+t*n].className="game-table-cells btn btn-".concat(s.lineColor),setTimeout((function(){e.cellButtons[a+t*n].className="game-table-cells btn btn-".concat(c)}),1e3+100*t)},o=0;o<r;o++)i(o)},e.closeThisGame=function(){e.state.socketGamePlay.close(),e.setState({socketGamePlay:null}),setTimeout((function(){e.props.CleanScoreboard(),e.props.ResetOpponent(),e.props.ResetRoom(),e.props.TriggerRecordUpdate(),e.props.history.replace("/")}),5e3)},e.endThisGame=function(){var t=e.state,a=t.players,n=t.myTurn,s=Number(!n);a[n].score>a[s].score?P("\u0634\u0645\u0627 \u0628\u0631\u0646\u062f\u0647 \u0634\u062f\u06cc\u062f \u0648 \u0633\u0647 \u0627\u0645\u062a\u06cc\u0627\u0632 \u06a9\u0633\u0628 \u06a9\u0631\u062f\u06cc\u062f"):a[n].score===a[s].score?P("\u0634\u0645\u0627 \u0645\u0633\u0627\u0648\u06cc \u0634\u062f\u06cc\u062f \u0648 \u06cc\u06a9 \u0627\u0645\u062a\u06cc\u0627\u0632 \u06a9\u0633\u0628 \u06a9\u0631\u062f\u06cc\u062f"):P("\u0634\u0645\u0627 \u0628\u0627\u062e\u062a\u06cc\u062f"),e.closeThisGame()},e.cellButtons=[],e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.cellButtons=document.getElementsByClassName("game-table-cells");var t=this.props,a=t.player,n=t.room,s=this.state.myTurn;this.setState({dimension:n.type}),this.forceConnectWS((function(){e.state.socketGamePlay.send(Re("load",n.name,a.userID,null)),e.state.socketGamePlay.send(Re("mytimer",n.name,a.userID,s))})),console.log("TOO MANY UNNEEDED PROPS SENT: ",this.props),this.setState({connectionCheckTimerID:this.enableConnectionCheckTimer()})}},{key:"componentWillUnmount",value:function(){this.disableAllTimers()}},{key:"render",value:function(){return Object(N.jsx)(Me,{dimension:this.state.dimension,players:this.state.players,table:this.state.table,timeRemaining:this.state.timeRemaining,onEachCellClick:this.onEachCellClick,normalCell:this.state.normalCell})}}]),a}(d.Component),_e=Object(V.f)(Ge(Le)),Ue=function(e){var t=e.friendlyGame,a=Object(d.useState)(""),n=Object(b.a)(a,2),s=n[0],r=n[1],c=Object(d.useState)(4),i=Object(b.a)(c,2),o=i[0],l=i[1],u=Object(je.d)((function(e){return e.player})),j=Object(d.useState)(!1),m=Object(b.a)(j,2),h=m[0],O=m[1],p=Object(je.c)();return Object(d.useEffect)((function(){return function(){O(!1)}}),[]),Object(N.jsxs)(d.Fragment,{children:[Object(N.jsx)(X,{loading:h}),Object(N.jsx)("hr",{}),Object(N.jsxs)(W.a,{onSubmit:function(e){return function(e){e.preventDefault(),u?t?p(xe({name:s,type:o})):(p(xe({name:null,type:o})),p({type:"TRIGGER_OPPONENT_SEARCH"}),O(!0)):P("\u0627\u0628\u062a\u062f\u0627 \u0628\u0627\u06cc\u062f \u0648\u0627\u0631\u062f \u062d\u0633\u0627\u0628 \u06a9\u0627\u0631\u0628\u0631\u06cc \u062e\u0648\u062f \u0634\u0648\u06cc\u062f")}(e)},children:[Object(N.jsxs)(W.a.Group,{className:"form-inline",children:[Object(N.jsx)(W.a.Label,{className:"w-25",children:"\u0627\u0628\u0639\u0627\u062f \u062c\u062f\u0648\u0644"}),Object(N.jsxs)(pe.a,{style:{border:"1px solid orange",borderRadius:"5px",padding:"2px"},children:[Object(N.jsxs)(pe.a.Prepend,{className:"mx-5",children:[Object(N.jsx)(pe.a.Radio,{value:"3",name:"tableDimension",checked:3===o,onChange:function(){return l(3)}}),Object(N.jsx)(pe.a.Text,{children:"3 * 3 * 3"})]}),Object(N.jsxs)(pe.a.Prepend,{className:"mx-5",children:[Object(N.jsx)(pe.a.Radio,{value:"4",name:"tableDimension",checked:4===o,onChange:function(){return l(4)}}),Object(N.jsx)(pe.a.Text,{children:"4 * 4 * 4"})]}),Object(N.jsxs)(pe.a.Prepend,{className:"mx-5",children:[Object(N.jsx)(pe.a.Radio,{value:"5",name:"tableDimension",checked:5===o,onChange:function(){return l(5)}}),Object(N.jsx)(pe.a.Text,{children:"5 * 5 * 5"})]})]})]}),Object(N.jsx)("hr",{}),t&&Object(N.jsxs)(W.a.Group,{className:"mt-3 form-inline",children:[Object(N.jsx)(W.a.Label,{className:"w-25",children:"\u0646\u0627\u0645 \u0631\u0648\u0645"}),Object(N.jsx)(W.a.Control,{type:"text",className:"w-75 text-left bg-transparent",placeholder:"Room Name",value:s,required:"required",onChange:function(e){return r(e.target.value)}})]}),Object(N.jsx)("hr",{}),Object(N.jsxs)(x.a,{type:"submit",className:"mt-4",block:!0,variant:"success",children:[Object(N.jsx)("i",{className:"fa ".concat(t?"fa-handshake-o":"fa-search"," px-2"),"aria-hidden":"true"}),t?"\u0627\u0631\u0633\u0627\u0644 \u062f\u0631\u062e\u0648\u0627\u0633\u062a":"\u062c\u0633\u062a\u062c\u0648"]})]})]})},Fe=a(250),qe=a(243),Be=a(157),Ke=(a(200),function(e){var t=e.title,a=e.summary;return Object(N.jsxs)(F.a,{children:[Object(N.jsx)(m.a,{children:Object(N.jsxs)(re.a,{className:"text-right w-100",variant:"info",children:[Object(N.jsx)(re.a.Heading,{className:"text-center",children:Object(N.jsx)(de.a,{variant:"success p-2",children:t})}),Object(N.jsx)("p",{children:a}),Object(N.jsx)("p",{children:a}),Object(N.jsx)("p",{children:a}),Object(N.jsx)("p",{children:a})]})}),Object(N.jsx)("hr",{}),Object(N.jsx)(m.a,{children:Object(N.jsxs)(re.a,{className:"text-right w-100",pill:"true",variant:"info",children:[Object(N.jsx)("p",{children:"\u062a\u0639\u062f\u0627\u062f \u0634\u0631\u06a9\u062a \u06a9\u0646\u0646\u062f\u06af\u0627\u0646 : 00000000"}),Object(N.jsx)("p",{children:"\u0646\u06a9\u0627\u062a \u062f\u06cc\u06af\u0631"})]})}),Object(N.jsx)("hr",{}),Object(N.jsxs)(m.a,{children:[Object(N.jsx)(q.a,{children:Object(N.jsx)(x.a,{block:!0,variant:"outline-success",children:"\u0634\u0631\u06a9\u062a \u062f\u0631 \u0645\u0633\u0627\u0628\u0642\u0647"})}),Object(N.jsx)(q.a,{children:Object(N.jsx)(x.a,{block:!0,variant:"outline-secondary",children:"\u0628\u0627\u0632\u06cc\u06a9\u0646\u0627\u0646 \u062d\u0627\u0636\u0631"})})]})]})}),Ve=function(){return Object(N.jsxs)(qe.a.Container,{id:"left-tabs-example",defaultActiveKey:"first",children:[Object(N.jsx)("hr",{}),Object(N.jsxs)(m.a,{children:[Object(N.jsx)(q.a,{className:"competition-menu-body",sm:3,children:Object(N.jsxs)(Be.a,{variant:"pills",className:"flex-column",children:[Object(N.jsx)(Be.a.Item,{children:Object(N.jsx)(Be.a.Link,{className:"text-right",eventKey:"first",children:"\u062c\u0627\u0645 \u062d\u0630\u0641\u06cc"})}),Object(N.jsx)(Be.a.Item,{children:Object(N.jsx)(Be.a.Link,{className:"text-right",eventKey:"second",children:"\u0644\u06cc\u06af \u0627\u0645\u062a\u06cc\u0627\u0632\u06cc"})}),Object(N.jsx)(Be.a.Item,{children:Object(N.jsx)(Be.a.Link,{className:"text-right",eventKey:"third",children:"\u0628\u0627\u0632\u06cc \u0634\u0631\u0637\u06cc"})}),Object(N.jsx)(Be.a.Item,{children:Object(N.jsx)(Be.a.Link,{className:"text-right",eventKey:"forth",children:"\u062c\u062f\u0648\u0644 \u0631\u0646\u062f\u0648\u0645"})}),Object(N.jsx)(Be.a.Item,{children:Object(N.jsx)(Be.a.Link,{className:"text-right",eventKey:"fifth",children:"\u0648 \u063a\u06cc\u0631\u0647"})})]})}),Object(N.jsx)(q.a,{sm:9,children:Object(N.jsxs)(qe.a.Content,{children:[Object(N.jsx)(qe.a.Pane,{eventKey:"first",children:Object(N.jsx)(Ke,{title:"\u062c\u0627\u0645 \u062d\u0630\u0641\u06cc",summary:"\u062a\u0648\u0636\u06cc\u062d\u0627\u062a \u0627\u06cc\u0646 \u0646\u0648\u0639 \u0645\u0633\u0627\u0628\u0642\u0647"})}),Object(N.jsx)(qe.a.Pane,{eventKey:"second",children:Object(N.jsx)(Ke,{title:"\u0644\u06cc\u06af \u0627\u0645\u062a\u06cc\u0627\u0632\u06cc",summary:"\u062a\u0648\u0636\u06cc\u062d\u0627\u062a \u0627\u06cc\u0646 \u0646\u0648\u0639 \u0645\u0633\u0627\u0628\u0642\u0647"})}),Object(N.jsx)(qe.a.Pane,{eventKey:"third",children:Object(N.jsx)(Ke,{title:"\u0628\u0627\u0632\u06cc \u0634\u0631\u0637\u06cc",summary:"\u062a\u0648\u0636\u06cc\u062d\u0627\u062a \u0627\u06cc\u0646 \u0646\u0648\u0639 \u0645\u0633\u0627\u0628\u0642\u0647"})}),Object(N.jsx)(qe.a.Pane,{eventKey:"forth",children:Object(N.jsx)(Ke,{title:"\u062c\u062f\u0648\u0644 \u0631\u0646\u062f\u0648\u0645",summary:"\u062a\u0648\u0636\u06cc\u062d\u0627\u062a \u0627\u06cc\u0646 \u0646\u0648\u0639 \u0645\u0633\u0627\u0628\u0642\u0647"})}),Object(N.jsx)(qe.a.Pane,{eventKey:"fifth",children:Object(N.jsx)(Ke,{title:"\u0648 \u063a\u06cc\u0631\u0647",summary:"\u062a\u0648\u0636\u06cc\u062d\u0627\u062a \u0627\u06cc\u0646 \u0646\u0648\u0639 \u0645\u0633\u0627\u0628\u0642\u0647"})})]})})]})]})},He=function(){var e=Object(je.d)((function(e){return e.room}));return Object(N.jsx)(d.Fragment,{children:e.name?Object(N.jsx)(_e,{}):Object(N.jsx)(j.a,{border:"secondary",bg:"transparent",className:"game-deck-card",children:Object(N.jsx)(j.a.Body,{children:Object(N.jsxs)(Fe.a,{defaultActiveKey:"randomGame",transition:!1,id:"noanim-tab-example",variant:"pills",className:"mb-3",children:[Object(N.jsx)(qe.a,{eventKey:"randomGame",title:"\u0628\u0627\u0632\u06cc \u062a\u0635\u0627\u062f\u0641\u06cc",children:Object(N.jsx)(Ue,{friendlyGame:!1})}),Object(N.jsx)(qe.a,{eventKey:"competitions",title:"\u0645\u0633\u0627\u0628\u0642\u0627\u062a",children:Object(N.jsx)(Ve,{})}),Object(N.jsx)(qe.a,{eventKey:"friendlyGame",title:"\u0628\u0627\u0632\u06cc \u0628\u0627 \u062f\u0648\u0633\u062a\u0627\u0646",children:Object(N.jsx)(Ue,{friendlyGame:!0})})]})})})})},Je=a(107),ze=a.n(Je),We=function(){var e=Object(je.d)((function(e){return e.player})),t=Object(d.useState)(void 0),a=Object(b.a)(t,2),n=a[0],s=a[1],i=Object(d.useState)(""),o=Object(b.a)(i,2),l=o[0],u=o[1],h=Object(d.useState)(""),O=Object(b.a)(h,2),f=O[0],v=O[1],y=Object(d.useState)(null),S=Object(b.a)(y,2),w=S[0],k=S[1],D=Object(d.useState)(null),E=Object(b.a)(D,2),I=E[0],P=E[1],G=Object(d.useState)([]),A=Object(b.a)(G,2),M=A[0],L=A[1],_=Object(d.useState)(null),U=Object(b.a)(_,2),F=U[0],B=U[1],K=Object(d.useState)(!1),V=Object(b.a)(K,2),H=V[0],J=V[1],z=Object(d.useState)(!1),Y=Object(b.a)(z,2),Q=Y[0],Z=Y[1],$=function(){u(""),v(""),k(null),P(null),B(null),J(!H)};Object(d.useEffect)((function(){Object(c.a)(r.a.mark((function e(){var t,a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Z(!0),e.next=4,se.getAdvancedNotics();case 4:t=e.sent,a=t.status,n=t.data,a===C.Status.Successful&&(n.notices.length&&L(n.notices.reverse()),0===n.notices.length&&L([{title:"\u067e\u06cc\u0627\u0645",text:"\u0627\u0637\u0644\u0627\u0639\u06cc\u0647 \u062c\u062f\u06cc\u062f\u06cc \u0648\u062c\u0648\u062f \u0646\u062f\u0627\u0631\u062f"}])),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),L([{title:"\u062e\u0637\u0627",text:"...\u0645\u0634\u06a9\u0644\u06cc \u062d\u06cc\u0646 \u0628\u0627\u0631\u06af\u0630\u0627\u0631\u06cc \u0627\u0637\u0644\u0627\u0639\u06cc\u0647 \u0647\u0627 \u067e\u06cc\u0634 \u0622\u0645\u062f. \u062f\u0648\u0628\u0627\u0631\u0647 \u0627\u0645\u062a\u062d\u0627\u0646 \u06a9\u0646\u06cc\u062f"}]),Z(!1);case 14:Z(!1);case 15:case"end":return e.stop()}}),e,null,[[0,10]])})))()}),[H]),Object(d.useEffect)((function(){var t=void 0;if(C.browserStorage.TOKEN()){var a=Object(ye.a)(C.browserStorage.TOKEN());if(t=a&&a.user.admin&&a.exp>Date.now()/1e3,!e||!1===t)return T("\u0645\u062a\u0627\u0633\u0641\u0627\u0646\u0647 \u0634\u0645\u0627 \u0645\u062c\u0648\u0632 \u062f\u0633\u062a\u0631\u0633\u06cc \u0628\u0647 \u0627\u06cc\u0646 \u0635\u0641\u062d\u0647 \u0631\u0627 \u0646\u062f\u0627\u0631\u06cc\u062f."),null}else t=!1;s(t)}),[e]);var ee=function(){var e=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Z(!0),e.next=4,se.createNotice({title:l,text:f,startDate:new Date(w),endDate:new Date(I)});case 4:t=e.sent,t.status===C.Status.CreatedSuccessfully&&(R("\u0627\u0637\u0644\u0627\u0639\u06cc\u0647 \u06cc ".concat(l," \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u0633\u0627\u062e\u062a\u0647 \u0634\u062f")),$()),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),C.Status.isErrorExpected(e.t0)||T("\u062e\u0637\u0627\u06cc\u06cc \u062f\u0631 \u0630\u062e\u06cc\u0631\u0647 \u0627\u0637\u0644\u0627\u0639\u06cc\u0647 \u0628\u0648\u062c\u0648\u062f \u0627\u0645\u062f ... \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u062a\u0644\u0627\u0634 \u06a9\u0646\u06cc\u062f");case 12:Z(!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(F){e.next=2;break}return e.abrupt("return");case 2:return Z(!0),e.prev=3,e.next=6,se.editNotice(F,{title:l,text:f,startDate:w,endDate:I});case 6:t=e.sent,t.status===C.Status.Successful&&(R("\u0627\u0637\u0644\u0627\u0639\u06cc\u0647 \u06cc ".concat(l," \u0628\u0627 \u0645\u0648\u0631\u0641\u0642\u06cc\u062a \u0648\u06cc\u0631\u0627\u06cc\u0634 \u0634\u062f")),$()),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),C.Status.isErrorExpected(e.t0)||T("\u062e\u0637\u0627\u06cc\u06cc \u062f\u0631 \u0630\u062e\u06cc\u0631\u0647 \u062a\u063a\u06cc\u06cc\u0631\u0627\u062a \u0628\u0648\u062c\u0648\u062f \u0627\u0645\u062f ... \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u062a\u0644\u0627\u0634 \u06a9\u0646\u06cc\u062f");case 14:Z(!1);case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}();return Object(N.jsx)(d.Fragment,{children:e&&n&&Object(N.jsxs)(m.a,{style:{height:"100%"},children:[Object(N.jsx)(X,{loading:Q}),Object(N.jsx)(q.a,{xs:5,children:Object(N.jsxs)(j.a,{border:"success",bg:"transparent",className:"mx-auto notice-manager-card",children:[Object(N.jsx)(j.a.Header,{className:"text-center",children:"\u0627\u0637\u0644\u0627\u0639\u06cc\u0647 \u062c\u062f\u06cc\u062f"}),Object(N.jsxs)(j.a.Body,{className:"text-right",children:[Object(N.jsx)(W.a.Label,{className:"my-1 mx-auto",children:"\u0639\u0646\u0648\u0627\u0646 \u0627\u0637\u0644\u0627\u0639\u06cc\u0647"}),Object(N.jsx)(W.a.Control,{value:l,onChange:function(e){return u(e.target.value)},pattern:".{3,30}",onInput:function(e){return e.target.setCustomValidity("")},onInvalid:function(e){return e.target.setCustomValidity("\u0639\u0646\u0648\u0627\u0646 \u0627\u0637\u0644\u0627\u0639\u06cc\u0647 \u0628\u0627\u06cc\u062f \u062d\u062f\u0627\u0642\u0644 3 \u0648 \u062d\u062f\u0627\u06a9\u062b\u0631 30 \u06a9\u0627\u0631\u0627\u06a9\u062a\u0631 \u062f\u0627\u0634\u062a\u0647 \u0628\u0627\u0634\u062f")},className:"my-1 mx-auto",type:"text",placeholder:"\u0639\u0646\u0648\u0627\u0646",required:"required"}),Object(N.jsx)("hr",{}),Object(N.jsx)(W.a.Label,{className:"my-1 mx-auto",children:"\u062a\u0648\u0636\u06cc\u062d\u0627\u062a"}),Object(N.jsx)(W.a.Control,{as:"textarea",pattern:".{5,200}",onInput:function(e){return e.target.setCustomValidity("")},onInvalid:function(e){return e.target.setCustomValidity("\u0645\u062a\u0646 \u0627\u0637\u0644\u0627\u0639\u06cc\u0647 \u0628\u0627\u06cc\u062f \u062d\u062f\u0627\u0642\u0644 5 \u0648 \u062d\u062f\u0627\u06a9\u062b\u0631 200 \u06a9\u0627\u0631\u0627\u06a9\u062a\u0631 \u062f\u0627\u0634\u062a\u0647 \u0628\u0627\u0634\u062f")},className:"my-1 mx-auto h-25",placeholder:"\u0645\u062a\u0646 \u06a9\u0627\u0645\u0644 \u0627\u0637\u0644\u0627\u0639\u06cc\u0647 \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f",value:f,required:"required",onChange:function(e){return v(e.target.value)}}),Object(N.jsx)("hr",{}),Object(N.jsx)(W.a.Label,{className:"my-1 mx-2",children:"\u062a\u0627\u0631\u06cc\u062e \u0634\u0631\u0648\u0639 \u0646\u0645\u0627\u06cc\u0634"}),Object(N.jsx)(ze.a,{className:"my-1 mx-auto w-100",calendar:p.a,locale:g.a,calendarPosition:"bottom-right",value:w,onChange:k,required:"required"}),Object(N.jsx)("hr",{}),Object(N.jsx)(W.a.Label,{className:"my-1 mx-2",children:"\u062a\u0627\u0631\u06cc\u062e \u067e\u0627\u06cc\u0627\u0646 \u0646\u0645\u0627\u06cc\u0634"}),Object(N.jsx)(ze.a,{className:"my-1 mx-auto",calendar:p.a,locale:g.a,calendarPosition:"bottom-right",value:I,onChange:P,required:"required"}),Object(N.jsx)("hr",{})]}),Object(N.jsx)(j.a.Footer,{children:F?Object(N.jsxs)(m.a,{children:[Object(N.jsx)(q.a,{children:Object(N.jsxs)(x.a,{block:!0,variant:"outline-primary",onClick:te,children:[Object(N.jsx)("i",{className:"fa fa-floppy-o px-3","aria-hidden":"true"}),"\u0630\u062e\u06cc\u0631\u0647 \u062a\u063a\u06cc\u06cc\u0631\u0627\u062a"]})}),Object(N.jsx)(q.a,{children:Object(N.jsxs)(x.a,{block:!0,variant:"outline-warning text-secondary",onClick:function(){$()},children:[Object(N.jsx)("i",{className:"fa fa-floppy-o px-3","aria-hidden":"true"}),"\u0644\u063a\u0648 \u0648\u06cc\u0631\u0627\u06cc\u0634"]})})]}):Object(N.jsxs)(x.a,{block:!0,variant:"success",onClick:ee,children:[Object(N.jsx)("i",{className:"fa fa-floppy-o px-3","aria-hidden":"true"}),"\u0627\u06cc\u062c\u0627\u062f \u0627\u0637\u0644\u0627\u0639\u06cc\u0647"]})})]})}),Object(N.jsx)(q.a,{xs:7,children:Object(N.jsxs)(j.a,{border:"info",bg:"transparent",className:"mx-auto notice-manager-card",children:[Object(N.jsx)(j.a.Header,{className:"text-center",children:"\u0627\u0637\u0644\u0627\u0639\u06cc\u0647 \u0647\u0627\u06cc \u0642\u0628\u0644\u06cc"}),Object(N.jsx)(j.a.Body,{style:{overflowY:"scroll"},className:"text-right",children:M.map((function(e){return Object(N.jsxs)(d.Fragment,{children:[Object(N.jsxs)(re.a,{variant:"secondary",children:[Object(N.jsx)("i",{className:"fa fa-info-circle px-3","aria-hidden":"true"}),Object(N.jsx)("span",{style:{color:"red",fontSize:"18px"},children:e.title}),": ",e.text,Object(N.jsx)("i",{className:"icon-edit-notice fa fa-pencil-square-o px-3","aria-hidden":"true",onClick:function(){return function(e){B(e._id),u(e.title),v(e.text),k(new Date(e.startDate)),P(new Date(e.endDate))}(e)}})]}),Object(N.jsx)("hr",{})]})}))})]})})]})})},Ye=0,Xe=1,Qe=2,Ze=function(){var e=Object(d.useState)(""),t=Object(b.a)(e,2),a=t[0],n=t[1],s=Object(d.useState)(""),i=Object(b.a)(s,2),o=i[0],l=i[1],u=Object(d.useState)(""),h=Object(b.a)(u,2),O=h[0],p=h[1],f=Object(d.useState)(""),g=Object(b.a)(f,2),v=g[0],y=g[1],S=Object(d.useState)(""),w=Object(b.a)(S,2),C=w[0],D=w[1],E=Object(d.useState)(Ye),I=Object(b.a)(E,2),P=I[0],G=I[1],A=Object(d.useState)(!1),M=Object(b.a)(A,2),_=M[0],U=M[1],F=Object(d.useState)(""),B=Object(b.a)(F,2),K=B[0],V=B[1],H=Object(d.useState)(""),J=Object(b.a)(H,2),z=J[0],Y=J[1],Q=Object(je.c)();Object(d.useEffect)((function(){Object(c.a)(r.a.mark((function e(){var t,a,s,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,D(!0),e.next=4,L.getMyCredentials();case 4:t=e.sent,a=t.status,s=t.data,a===k.a.Status.Successful&&(c=s.me,n(c.fullname),l(c.studentID),p(c.email)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),k.a.Status.isErrorExpected(e.t0)||Error("\u062d\u06cc\u0646 \u062f\u0631\u06cc\u0627\u0641\u062a \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u06a9\u0627\u0631\u0628\u0631 \u0627\u06cc\u0631\u0627\u062f\u06cc \u067e\u06cc\u0634 \u0622\u0645\u062f. ... \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u062a\u0644\u0627\u0634 \u06a9\u0646\u06cc\u062f."),D(!1);case 14:D(!1);case 15:case"end":return e.stop()}}),e,null,[[0,10]])})))()}),[_]);var Z=function(){D(!1),G(Ye),U(!_)},$=function(){var e=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(!0),e.prev=1,e.next=4,L.editMyCredentials({studentID:o,fullname:a,email:O,password:v});case 4:t=e.sent,t.status===k.a.Status.Successful&&(R("\u062a\u063a\u06cc\u06cc\u0631\u0627\u062a \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u0627\u0639\u0645\u0627\u0644 \u0634\u062f"),Q({type:"TRIGGER_UPDATE"}),Z()),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),k.a.Status.isErrorExpected(e.t0)||Error("\u062e\u0637\u0627\u06cc\u06cc \u062f\u0631 \u0630\u062e\u06cc\u0631\u0647 \u062a\u063a\u06cc\u06cc\u0631\u0627\u062a \u0628\u0648\u062c\u0648\u062f \u0627\u0645\u062f ... \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u062a\u0644\u0627\u0634 \u06a9\u0646\u06cc\u062f",{position:"top-left",closeOnClick:!0});case 12:D(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(!0),e.prev=1,e.next=4,L.changeMyPassword({studentID:o,password:v,newPassword:K});case 4:t=e.sent,t.status===k.a.Status.Successful&&(R("\u0631\u0645\u0632 \u0634\u0645\u0627 \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u062a\u063a\u06cc\u06cc\u0631 \u062f\u0627\u062f\u0647 \u0634\u062f"),Q({type:"TRIGGER_UPDATE"}),Z()),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),k.a.Status.isErrorExpected(e.t0)||T("\u062e\u0637\u0627\u06cc\u06cc \u062f\u0631 \u0630\u062e\u06cc\u0631\u0647 \u062a\u063a\u06cc\u06cc\u0631\u0627\u062a \u0628\u0648\u062c\u0648\u062f \u0627\u0645\u062f ... \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u062a\u0644\u0627\u0634 \u06a9\u0646\u06cc\u062f");case 12:D(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();return Object(N.jsx)(d.Fragment,{children:Object(N.jsxs)(j.a,{border:"secondary",bg:"transparent",className:"big-single-card",children:[Object(N.jsx)(j.a.Header,{className:"text-center",children:Object(N.jsxs)(m.a,{className:"w-100 mx-auto",children:[Object(N.jsx)(q.a,{children:Object(N.jsxs)(x.a,{block:!0,onClick:function(){return G(Ye)},variant:"".concat(P?"outline-secondary":"outline-primary"),children:[P===Ye&&Object(N.jsx)("i",{className:"fa fa-dot-circle-o px-2","aria-hidden":"true"}),"\u0641\u0642\u0637 \u0645\u0634\u0627\u0647\u062f\u0647"]})}),Object(N.jsx)(q.a,{children:Object(N.jsxs)(x.a,{block:!0,onClick:function(){return G(Xe)},variant:"".concat(P===Xe?"outline-primary":"outline-secondary"),children:[P===Xe&&Object(N.jsx)("i",{className:"fa fa-dot-circle-o px-2","aria-hidden":"true"}),"\u0648\u06cc\u0631\u0627\u06cc\u0634"]})}),Object(N.jsx)(q.a,{children:Object(N.jsxs)(x.a,{block:!0,onClick:function(){return G(Qe)},variant:"".concat(P===Qe?"outline-primary":"outline-secondary"),children:[P===Qe&&Object(N.jsx)("i",{className:"fa fa-dot-circle-o px-2","aria-hidden":"true"}),"\u062a\u063a\u06cc\u06cc\u0631 \u0631\u0645\u0632 \u0639\u0628\u0648\u0631"]})})]})}),Object(N.jsxs)(W.a,{onSubmit:function(e){return function(e){switch(e.preventDefault(),P){case Xe:return void $();case Qe:return void ee();default:return}}(e)},children:[Object(N.jsxs)(j.a.Body,{className:"w-75 text-center mx-auto",children:[Object(N.jsx)(X,{loading:C}),P!==Qe&&Object(N.jsxs)(d.Fragment,{children:[Object(N.jsxs)(W.a.Group,{className:"form-inline",children:[Object(N.jsx)(W.a.Label,{className:"w-25",children:"\u0634\u0645\u0627\u0631\u0647 \u062f\u0627\u0646\u0634\u062c\u0648\u06cc\u06cc"}),Object(N.jsx)(W.a.Control,{type:"text",disabled:!0,className:"account-info-textbox w-75",placeholder:"Student ID",value:o})]}),Object(N.jsxs)(W.a.Group,{className:"form-inline",children:[Object(N.jsx)(W.a.Label,{className:"w-25",children:"\u0646\u0627\u0645 \u06a9\u0627\u0631\u0628\u0631"}),Object(N.jsx)(W.a.Control,{disabled:!P,type:"text",className:"account-info-textbox w-75",pattern:"[\u0622-\u06cc ]{6,}",onInput:function(e){return e.target.setCustomValidity("")},onInvalid:function(e){return e.target.setCustomValidity("\u0646\u0627\u0645 \u062e\u0627\u0646\u0648\u0627\u062f\u06af\u06cc \u0628\u0627\u06cc\u062f \u0628\u0627 \u062d\u0631\u0648\u0641 \u0641\u0627\u0631\u0633\u06cc \u0648 \u0628\u0627 \u062d\u062f\u0627\u0642\u0644 \u0637\u0648\u0644 \u0633\u0647 \u062d\u0631\u0641 \u0628\u0627\u0634\u062f")},placeholder:"Full Name",value:a,required:"required",onChange:function(e){return n(e.target.value)}})]}),Object(N.jsxs)(W.a.Group,{className:"form-inline",children:[Object(N.jsx)(W.a.Label,{className:"w-25",children:"\u0627\u06cc\u0645\u06cc\u0644"}),Object(N.jsx)(W.a.Control,{type:"email",disabled:!P,pattern:".{6,}",onInput:function(e){return e.target.setCustomValidity("")},onInvalid:function(e){return e.target.setCustomValidity("\u0648\u0631\u0648\u062f\u06cc \u0628\u0627\u06cc\u062f \u0641\u0631\u0645\u062a \u0645\u0639\u062a\u0628\u0631 \u0627\u06cc\u0645\u06cc\u0644 \u0631\u0627 \u0631\u0639\u0627\u06cc\u062a \u06a9\u0631\u062f\u0647 \u0648 \u062d\u062f\u0627\u0642\u0644 6 \u06a9\u0627\u0631\u0627\u06a9\u062a\u0631 \u0628\u0627\u0634\u062f")},className:"account-info-textbox w-75",placeholder:"E-mail",value:O,required:"required",onChange:function(e){return p(e.target.value)}})]})]}),P!==Ye&&Object(N.jsxs)(W.a.Group,{className:"form-inline",children:[Object(N.jsx)(W.a.Label,{className:"w-25",children:"\u0631\u0645\u0632 \u0639\u0628\u0648\u0631 ".concat(P===Qe?"\u0641\u0639\u0644\u06cc":"")}),Object(N.jsx)(W.a.Control,{type:"password",className:"account-info-textbox w-75",placeholder:"Password",value:v,onChange:function(e){return y(e.target.value)}})]}),P===Qe&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)(W.a.Group,{className:"form-inline",children:[Object(N.jsx)(W.a.Label,{className:"w-25",children:"\u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u062c\u062f\u06cc\u062f"}),Object(N.jsx)(W.a.Control,{type:"password",pattern:".{6,15}",onInput:function(e){return e.target.setCustomValidity("")},onInvalid:function(e){return e.target.setCustomValidity("\u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u0628\u0627\u06cc\u062f \u062d\u062f\u0627\u0642\u0644 6 \u06a9\u0627\u0631\u0627\u06a9\u062a\u0631 \u0648 \u062d\u062f\u0627\u06a9\u062b\u0631 15 \u06a9\u0627\u0631\u0627\u06a9\u062a\u0631 \u062f\u0627\u0634\u062a\u0647 \u0628\u0627\u0634\u062f")},className:"account-info-textbox w-75",placeholder:"New Password",value:K,required:"required",onChange:function(e){return V(e.target.value)}})]}),Object(N.jsxs)(W.a.Group,{className:"form-inline",children:[Object(N.jsx)(W.a.Label,{className:"w-25",children:"\u062a\u0627\u06cc\u06cc\u062f \u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u062c\u062f\u06cc\u062f"}),Object(N.jsx)(W.a.Control,{type:"password",className:"account-info-textbox w-75",placeholder:"Confirm New Password",value:z,required:"required",onChange:function(e){return function(e){Y(e.target.value),K!==e.target.value?e.target.setCustomValidity("\u062a\u0627\u06cc\u06cc\u062f \u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u062c\u062f\u06cc\u062f \u0628\u0627\u06cc\u062f \u0628\u0627 \u062e\u0648\u062f \u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u062c\u062f\u06cc\u062f \u0645\u0637\u0627\u0628\u0642\u062a \u06a9\u0627\u0645\u0644 \u062f\u0627\u0634\u062a\u0647 \u0628\u0627\u0634\u062f"):e.target.setCustomValidity("")}(e)}})]})]})]}),Object(N.jsx)(j.a.Footer,{children:Object(N.jsxs)(x.a,{type:"submit",disabled:!P,block:!0,variant:"success",className:"w-50 mx-auto",children:[Object(N.jsx)("i",{className:"fa fa-wrench px-2","aria-hidden":"true"}),"\u062b\u0628\u062a \u062a\u063a\u06cc\u06cc\u0631\u0627\u062a"]})})]})]})})},$e=a.p+"static/media/no-avatar.5e7c913e.png",et=a(160),tt=function(e){var t=Object(je.d)((function(e){return e.player}));if(!t)return null;var a=(e.friend?e.friend:t).records;return Object(N.jsxs)(j.a,{border:"success",bg:"transparent",className:"friend-records",children:[Object(N.jsx)(j.a.Body,{children:Object(N.jsxs)(m.a,{className:"w-100 p-0 mx-auto",children:[Object(N.jsx)(q.a,{xs:3,className:"text-center mx-auuto",children:Object(N.jsx)(et.a,{style:{width:"100%",height:"100%",margin:"auto",textAlign:"center"},round:!0,src:$e})}),Object(N.jsx)(q.a,{children:Object(N.jsxs)(ue.a,{className:" list-group list-group-flush",children:[Object(N.jsxs)(m.a,{children:[Object(N.jsx)(q.a,{className:"p-0 w-100",children:Object(N.jsx)(ge,{title:"\u0627\u0645\u062a\u06cc\u0627\u0632 \u0628\u0627\u0632\u06cc\u06a9\u0646",children:a.points})}),Object(N.jsx)(q.a,{className:"p-0 w-100",children:Object(N.jsx)(ge,{title:"\u062a\u0639\u062f\u0627\u062f \u0628\u0631\u062f\u0647\u0627",children:a.wins})})]}),Object(N.jsxs)(m.a,{children:[Object(N.jsx)(q.a,{className:"p-0 w-100",children:Object(N.jsx)(ge,{title:"\u062a\u0639\u062f\u0627\u062f \u062a\u0633\u0627\u0648\u06cc",children:a.draws})}),Object(N.jsx)(q.a,{className:"p-0 w-100",children:Object(N.jsx)(ge,{title:"\u062a\u0639\u062f\u0627\u062f \u0628\u0627\u062e\u062a\u0647\u0627",children:a.loses})})]})]})})]})}),e.friend&&Object(N.jsx)(j.a.Footer,{children:Object(N.jsxs)(m.a,{children:[Object(N.jsx)(q.a,{children:Object(N.jsxs)(x.a,{variant:"secondary",block:!0,onClick:null,children:[Object(N.jsx)("i",{className:"fa fa-handshake-o px-2","aria-hidden":"true"}),"\u062f\u0631\u062e\u0648\u0627\u0633\u062a \u0628\u0627\u0632\u06cc"]})}),Object(N.jsx)(q.a,{children:Object(N.jsx)(x.a,{variant:"danger",block:!0,onClick:null,children:"\u062a\u0633\u062a"})})]})})]})},at=function(){var e=Object(d.useState)(!1),t=Object(b.a)(e,2),a=t[0],n=t[1],s=Object(d.useState)([]),i=Object(b.a)(s,2),o=i[0],l=i[1],u=Object(d.useState)([]),x=Object(b.a)(u,2),h=x[0],O=x[1],p=Object(d.useState)("me"),f=Object(b.a)(p,2),g=f[0],v=f[1],y=Object(d.useState)(-1),S=Object(b.a)(y,2),C=S[0],D=S[1];Object(d.useEffect)((function(){Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(!0),e.next=4,U.getMyGames();case 4:return(t=e.sent).status===k.a.Status.Successful&&O(t.data.myGames.reverse()),e.next=8,L.getMyFriends();case 8:(t=e.sent).status===k.a.Status.Successful&&l(t.data.friends),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0),n(!1);case 16:n(!1);case 17:case"end":return e.stop()}}),e,null,[[0,12]])})))()}),[]),Object(d.useEffect)((function(){D("me"!==g?o.findIndex((function(e){return e.userID===g})):-1)}),[g,o]);return Object(N.jsxs)(j.a,{border:"secondary",bg:"transparent",className:"big-single-card",children:[Object(N.jsx)(j.a.Header,{className:"text-center",children:"\u0644\u06cc\u0633\u062a \u062f\u0648\u0633\u062a\u0627\u0646 \u0648 \u0622\u0645\u0627\u0631 \u0628\u0627\u0632\u06cc \u0647\u0627"}),Object(N.jsx)(X,{loading:a}),Object(N.jsxs)(j.a.Body,{children:[Object(N.jsx)(X,{loading:a}),Object(N.jsx)(qe.a.Container,{defaultActiveKey:g,onSelect:function(e){return v(e)},children:Object(N.jsxs)(m.a,{className:"tabs-list-friends-in-games-scrollable",children:[Object(N.jsx)(q.a,{className:"friend-list-name-length",xs:3,children:Object(N.jsxs)(Be.a,{variant:"pills",className:"flex-column text-right",children:[Object(N.jsx)(Be.a.Item,{children:Object(N.jsx)(Be.a.Link,{eventKey:"me",children:"\u0647\u0645\u0647 \u0628\u0627\u0632\u06cc \u0647\u0627"})}),o.map((function(e){return Object(N.jsx)(Be.a.Item,{children:Object(N.jsx)(Be.a.Link,{eventKey:e.userID,children:Object(N.jsxs)(m.a,{className:"w-100",children:[Object(N.jsx)(q.a,{children:e.fullname}),Object(N.jsx)(q.a,{xs:1,children:Object(N.jsx)("i",{onClick:function(){},className:"icon-unfriend fa fa-times pl-2","area-hidden":"true"})})]})})})}))]})}),Object(N.jsx)(q.a,{xs:9,children:Object(N.jsx)(tt,{friend:-1!==C?o[C]:null})}),Object(N.jsx)(q.a,{children:Object(N.jsxs)(qe.a.Content,{children:[Object(N.jsx)(qe.a.Pane,{eventKey:"me",children:Object(N.jsx)(w,{scores:h})}),o.map((function(e){return Object(N.jsx)(qe.a.Pane,{eventKey:e.userID,children:Object(N.jsx)(w,{scores:h.filter((function(t){return e.userID===t.players[0].id||e.userID===t.players[1].id}))})})}))]})})]})})]})]})},nt=(a(103),C.Routes.Server),st={getOurChat:function(e){return A.get("".concat(nt.Root,"/").concat(nt.Chats,"/").concat(e))}},rt=function(e){var t=e.msg,a=e.previousDay,n=e.inDesktop,s=t.date,r=Object(d.useState)(!1),c=Object(b.a)(r,2),i=c[0],o=c[1],l=Object(d.useState)(null),u=Object(b.a)(l,2),j=u[0],x=u[1],h=Object(d.useState)(null),O=Object(b.a)(h,2),p=O[0],f=O[1];return Object(d.useEffect)((function(){var e=y(s),t=Object(b.a)(e,2),n=t[0],r=t[1];x(r),f(n),o(new Date(s).getDate()!==a||0===a)}),[s,a]),Object(N.jsxs)(d.Fragment,{children:[i?Object(N.jsxs)(d.Fragment,{children:[Object(N.jsx)("hr",{}),Object(N.jsx)("p",{className:"message-date",children:p})]}):null,Object(N.jsxs)(m.a,{children:[Object(N.jsx)(q.a,{children:t.me&&Object(N.jsx)(re.a,{className:"text-right",variant:"dark",children:n?Object(N.jsxs)(m.a,{children:[Object(N.jsx)(q.a,{children:t.me}),Object(N.jsx)(q.a,{className:"my-message-time",xs:3,children:j})]}):Object(N.jsxs)(d.Fragment,{children:[Object(N.jsx)(m.a,{children:t.me}),Object(N.jsx)(m.a,{className:"my-message-time",xs:3,children:j})]})})}),Object(N.jsx)(q.a,{children:t.friend&&Object(N.jsx)(re.a,{className:"text-right",variant:"primary",children:n?Object(N.jsxs)(m.a,{children:[Object(N.jsx)(q.a,{className:"friend-message-time",xs:3,children:j}),Object(N.jsx)(q.a,{children:t.friend})]}):Object(N.jsxs)(d.Fragment,{children:[Object(N.jsx)(m.a,{children:t.friend}),Object(N.jsx)(m.a,{className:"friend-message-time",xs:3,children:j})]})})})]})]},Object(ce.a)())},ct=function(e){var t=e.friendID,a=Object(d.useState)(""),n=Object(b.a)(a,2),s=n[0],i=n[1],o=Object(je.d)((function(e){return e.message})),l=Object(je.c)(),u=Object(je.d)((function(e){return e.player})),h=Object(d.useRef)(null),O=Object(d.useContext)(Ce),p=Object(d.useState)([{me:null,friend:null,date:null,key:0}]),f=Object(b.a)(p,2),g=f[0],v=f[1],y=Object(d.useCallback)(Object(c.a)(r.a.mark((function e(){var a,n,s,c,i,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,st.getOurChat(t);case 3:a=e.sent,n=a.status,s=a.data,n===C.Status.Successful&&(c=s.myIndex,i=s.chat,o=i.map((function(e){var t=e.text,a=e.owner,n=e.date;return a===c?{me:t,friend:null,date:n}:{me:null,friend:t,date:n}})),v(o)),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])}))),[t]);Object(d.useEffect)((function(){return y(),function(){v([])}}),[y]);var S=Object(d.useCallback)((function(e){var t=Object(De.a)(g);return t.push({me:null,friend:e.text,date:new Date}),t}),[g]);return Object(d.useEffect)((function(){var e=o.recieved;!o.sent&&e&&e.friendID===t&&(v(S(o.recieved)),setTimeout((function(){h&&h.current&&h.current.scrollIntoView({behavior:"smooth",top:h.current.offsetTop})}),100))}),[o,t]),Object(N.jsx)(qe.a.Pane,{eventKey:t,children:Object(N.jsxs)(F.a,{children:[Object(N.jsx)(m.a,{children:Object(N.jsx)(j.a,{border:"dark",bg:"transparent",className:"big-single-card ".concat(O.device!==C.Devices.SmartPhone?"chat-box-scrollable":"smartphone-chat-box-scrollable"),children:Object(N.jsx)(j.a.Body,{children:g.map((function(e,t){return Object(N.jsx)("div",{ref:h,children:Object(N.jsx)(rt,{msg:e,inDesktop:O.device===C.Devices.Desktop,previousDay:0!==t?new Date(g[t-1].date).getDate():0})})}))})})}),Object(N.jsx)(m.a,{children:Object(N.jsx)(W.a,{onSubmit:function(e){return function(e){if(e.preventDefault(),s){var a=Object(De.a)(g);a.push({me:s,friend:null,date:new Date,key:g.length}),v(a),l(Oe(u.fullname,t,s)),i(""),h&&h.current&&setTimeout((function(){h.current.scrollIntoView({behavior:"smooth",top:h.current.offsetTop})}),100)}}(e)},className:"w-100 mt-3",children:Object(N.jsxs)(pe.a,{className:"w-100",children:[Object(N.jsx)(pe.a.Prepend,{style:{width:"8%"},children:Object(N.jsx)(x.a,{type:"submit",style:{border:"none",fontSize:"22px"},className:"w-100 mx-auto",variant:"outline-info",children:Object(N.jsx)("i",{className:"fa fa-paper-plane","aria-hidden":"true"})})}),Object(N.jsx)(pe.a.Prepend,{style:{margin:"auto",width:"92%"},children:Object(N.jsx)(W.a.Control,{value:s,onChange:function(e){return i(e.target.value)},placeholder:"\u067e\u06cc\u0627\u0645...",className:"bg-transparent chat-room-message-box\r mx-auto text-right"})})]})})})]})})},it=function(e){e.Device;var t=Object(d.useState)(!1),a=Object(b.a)(t,2),n=a[0],s=a[1],i=Object(d.useState)([]),o=Object(b.a)(i,2),l=o[0],u=o[1],x=Object(d.useContext)(Ce);return Object(d.useEffect)((function(){Object(c.a)(r.a.mark((function e(){var t,a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s(!0),e.next=4,L.getMyFriends();case 4:t=e.sent,a=t.status,n=t.data,a===C.Status.Successful&&u(n.friends),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),s(!1);case 13:s(!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))()}),[]),Object(N.jsxs)(j.a,{border:"secondary",bg:"transparent",className:"chat-main-card",children:[Object(N.jsx)(X,{loading:n}),Object(N.jsx)(j.a.Header,{className:"text-center",children:"\u0686\u062a \u0631\u0648\u0645 \u0634\u0645\u0627"}),Object(N.jsx)(j.a.Body,{children:Object(N.jsx)(qe.a.Container,{children:Object(N.jsxs)(m.a,{children:[Object(N.jsx)(q.a,{className:x.device!==C.Devices.SmartPhone?"chat-room-devider chat-scrollable-friends":"smartphone-chat-scrollable-friends",sm:3,children:Object(N.jsx)(Be.a,{variant:"pills",className:"flex-column text-right",children:l.map((function(e){return Object(N.jsx)(Be.a.Item,{children:Object(N.jsx)(Be.a.Link,{eventKey:e.userID,children:e.fullname},e.userID)})}))})}),Object(N.jsx)(q.a,{children:Object(N.jsx)(qe.a.Content,{children:l.map((function(e){return Object(N.jsx)(ct,{friendID:e.userID},Object(ce.a)())}))})})]})})})]})},ot=Object(V.f)((function(e){var t=Object(je.d)((function(e){return e.player})),a=Object(je.c)();return Object(N.jsxs)(m.a,{className:"profile-panel-sidebar d-flex flex-column flex-shrink-0",children:[Object(N.jsxs)(x.a,{style:{border:"none"},variant:"outline-warning",className:"d-flex align-items-center mb-3 mb-md-0 me-md-auto link-dark text-decoration-none",children:[Object(N.jsx)("i",{className:"fa fa-cogs px-2","aria-hidden":"true"}),"\u067e\u0646\u0644 \u06a9\u0627\u0631\u0628\u0631\u06cc"]}),Object(N.jsx)("hr",{}),Object(N.jsxs)("ul",{className:"nav nav-pills flex-column mb-auto",children:[Object(N.jsx)("li",{className:"nav-item",children:Object(N.jsxs)(K.b,{exact:!0,to:k.a.Routes.Client.Profile,className:"nav-link","aria-current":"page",children:[Object(N.jsx)("i",{className:"fa fa-user-o px-2","aria-hidden":"true"}),"\u0645\u0634\u062e\u0635\u0627\u062a"]})}),Object(N.jsx)("li",{children:Object(N.jsxs)(K.b,{className:"nav-link link-dark",to:k.a.Routes.Client.MyGamesAndFriends,children:[Object(N.jsx)("i",{className:"fa fa-users px-2","aria-hidden":"true"}),"\u062f\u0648\u0633\u062a\u0627\u0646 \u0648 \u0628\u0627\u0632\u06cc \u0647\u0627"]})}),Object(N.jsx)("li",{children:Object(N.jsxs)(K.b,{className:"nav-link link-dark",to:k.a.Routes.Client.ChatRoom,children:[Object(N.jsx)("i",{className:"fa fa-comment px-2","aria-hidden":"true"}),"\u0686\u062a \u0631\u0648\u0645"]})}),Object(N.jsx)("hr",{}),t&&t.isAdmin&&Object(N.jsxs)(d.Fragment,{children:[Object(N.jsx)("li",{children:Object(N.jsxs)(K.b,{className:"nav-link link-dark border-top",to:k.a.Routes.Client.Notices,children:[Object(N.jsx)("i",{className:"fa fa-newspaper-o px-2","aria-hidden":"true"}),"\u0627\u0637\u0644\u0627\u0639\u06cc\u0647 \u0647\u0627"]})}),Object(N.jsx)("li",{children:Object(N.jsxs)(K.b,{className:"nav-link link-dark",to:"/controlPanel/admin/whatever",children:[Object(N.jsx)("svg",{className:"bi me-2",width:"16",height:"16"}),"\u0627\u0645\u06a9\u0627\u0646\u0627\u062a \u0627\u062f\u0645\u06cc\u0646"]})})]})]}),Object(N.jsx)("hr",{}),Object(N.jsxs)(x.a,{variant:"outline-danger",onClick:function(){a({type:"SIGN_OUT"}),e.history.replace("/")},children:[Object(N.jsx)("i",{className:"fa fa-sign-out px-2","aria-hidden":"true"}),"\u062e\u0631\u0648\u062c \u0627\u0632 \u062d\u0633\u0627\u0628 \u06a9\u0627\u0631\u0628\u0631\u06cc"]})]})})),lt=Object(V.f)((function(e){var t=Object(je.d)((function(e){return e.player})),a=Object(je.c)();return Object(N.jsxs)(m.a,{bg:"light",className:"profile-panel-sidebar-collapsed w-100 text-right",children:[Object(N.jsx)(x.a,{style:{border:"none",padding:0},variant:"outline-warning",className:"d-flex align-items-center mb-3 mb-md-0 me-md-auto link-dark text-decoration-none",children:Object(N.jsx)("i",{className:"fa fa-cogs","aria-hidden":"true"})}),Object(N.jsx)(K.b,{exact:!0,to:k.a.Routes.Client.Profile,className:"nav-link","aria-current":"page",children:Object(N.jsx)("i",{className:"fa fa-user-o","aria-hidden":"true"})}),Object(N.jsx)(K.b,{className:"nav-link link-dark",to:k.a.Routes.Client.MyGamesAndFriends,children:Object(N.jsx)("i",{className:"fa fa-users","aria-hidden":"true"})}),Object(N.jsx)(K.b,{className:"nav-link link-dark",to:k.a.Routes.Client.ChatRoom,children:Object(N.jsx)("i",{className:"fa fa-weixin","aria-hidden":"true"})}),Object(N.jsx)("hr",{}),t&&t.isAdmin&&Object(N.jsxs)(d.Fragment,{children:[Object(N.jsx)(K.b,{className:"nav-link link-dark border-top",to:k.a.Routes.Client.Notices,children:Object(N.jsx)("i",{className:"fa fa-newspaper-o","aria-hidden":"true"})}),Object(N.jsx)(K.b,{className:"nav-link link-dark",to:"/controlPanel/admin/whatever",children:Object(N.jsx)("svg",{className:"bi me-2",width:"16",height:"16"})})]}),Object(N.jsx)("hr",{}),Object(N.jsx)(x.a,{className:"text-right",variant:"outline-danger",onClick:function(){a({type:"SIGN_OUT"}),e.history.replace("/")},children:Object(N.jsx)("i",{className:"fa fa-sign-out","aria-hidden":"true"})})]})})),ut=function(e){e.Device;var t=e.children,a=Object(je.d)((function(e){return e.player})),n=Object(d.useContext)(Ce);return Object(N.jsxs)(d.Fragment,{children:[Object(N.jsx)(we,{}),a&&Object(N.jsx)(Se,{}),n.device===C.Devices.Desktop?Object(N.jsxs)(m.a,{className:"w-100 mx-auto",children:[Object(N.jsx)(q.a,{xs:3,children:Object(N.jsx)(ot,{})}),Object(N.jsx)(q.a,{children:t})]}):Object(N.jsxs)(m.a,{className:"w-100 mx-auto",children:[Object(N.jsx)(q.a,{xs:1,children:Object(N.jsx)(lt,{})}),Object(N.jsx)(q.a,{children:t})]})]})},dt=a(247),jt=function(){var e=Object(je.d)((function(e){return e.player})),t=Object(d.useContext)(Ce);return Object(N.jsx)(dt.a,{bg:"light",className:"nav-pills text-right",children:Object(N.jsx)(F.a,{className:"text-right",children:Object(N.jsxs)(Be.a,{className:"me-auto",children:[Object(N.jsxs)(K.b,{className:"nav-link text-primary",activeClassName:"btn-success text-dark",to:e?C.Routes.Client.Profile:C.Routes.Client.SignUp,children:[Object(N.jsx)("i",{className:"fa fa-address-card px-2","aria-hidden":"true"}),e?t.device!==C.Devices.SmartPhone&&e.fullname:"\u062b\u0628\u062a \u0646\u0627\u0645"]}),Object(N.jsxs)(K.b,{className:"nav-link text-primary",to:C.Routes.Client.Root,exact:!0,activeClassName:"btn-outline-secondary text-dark",children:[Object(N.jsx)("i",{className:"fa fa-home px-2","aria-hidden":"true"}),t.device===C.Devices.Desktop&&"\u0635\u0641\u062d\u0647 \u0627\u0635\u0644\u06cc"]}),Object(N.jsxs)(K.b,{className:"nav-link text-primary",to:C.Routes.Client.GameDeck,activeClassName:"btn-outline-secondary text-dark",children:[Object(N.jsx)("i",{className:"fa fa-gamepad px-2","aria-hidden":"true"}),t.device===C.Devices.Desktop&&"\u0628\u0627\u0632\u06cc \u0647\u0627"]}),e&&Object(N.jsxs)(K.b,{className:"nav-link text-primary",to:C.Routes.Client.ChatRoom,activeClassName:"btn-outline-secondary text-dark",children:[Object(N.jsx)("i",{className:"fa fa-comment px-2","aria-hidden":"true"}),t.device===C.Devices.Desktop&&"\u0686\u062a \u0631\u0648\u0645"]}),Object(N.jsxs)(K.b,{className:"nav-link text-primary",to:C.Routes.Client.Rankings,activeClassName:"btn-outline-secondary text-dark",children:[Object(N.jsx)("i",{className:"fa fa-list-ol px-2","aria-hidden":"true"}),t.device===C.Devices.Desktop&&"\u0631\u0646\u06a9\u06cc\u0646\u06af"]}),Object(N.jsxs)(K.b,{className:"nav-link text-primary",to:C.Routes.Client.GameGuide,activeClassName:"btn-outline-secondary text-dark",children:[Object(N.jsx)("i",{className:"fa fa-eye px-2","aria-hidden":"true"}),t.device===C.Devices.Desktop&&"\u0631\u0627\u0647\u0646\u0645\u0627"]}),Object(N.jsxs)(K.b,{className:"nav-link text-primary",to:C.Routes.Client.ContactUs,activeClassName:"btn-outline-secondary text-dark",children:[Object(N.jsx)("i",{className:"fa fa-phone-square px-2","aria-hidden":"true"}),t.device===C.Devices.Desktop&&"\u062a\u0645\u0627\u0633 \u0628\u0627 \u0645\u0627"]})]})})})},bt=function(){return Object(N.jsxs)(K.a,{children:[Object(N.jsx)(I.a,{}),Object(N.jsx)(jt,{}),Object(N.jsxs)(V.c,{children:[Object(N.jsx)(V.a,{path:"".concat(C.Routes.Client.Profile,"/:path?"),exact:!0,children:Object(N.jsx)(ut,{children:Object(N.jsxs)(V.c,{children:[Object(N.jsx)(V.a,{path:C.Routes.Client.MyGamesAndFriends,children:Object(N.jsx)(at,{})}),Object(N.jsx)(V.a,{path:C.Routes.Client.Notices,children:Object(N.jsx)(We,{})}),Object(N.jsx)(V.a,{path:C.Routes.Client.ChatRoom,children:Object(N.jsx)(it,{})}),Object(N.jsx)(V.a,{exact:!0,path:C.Routes.Client.Profile,children:Object(N.jsx)(Ze,{})})]})})}),Object(N.jsx)(V.a,{children:Object(N.jsx)(ke,{children:Object(N.jsxs)(V.c,{children:[Object(N.jsx)(V.a,{path:C.Routes.Client.SignUp,children:Object(N.jsx)(ee,{})}),Object(N.jsx)(V.a,{path:C.Routes.Client.GameDeck,children:Object(N.jsx)(He,{})}),Object(N.jsx)(V.a,{path:C.Routes.Client.Rankings,children:Object(N.jsx)(Te,{})}),Object(N.jsxs)(V.a,{path:C.Routes.Client.GameGuide,children:[Object(N.jsx)(H,{}),"/"]}),Object(N.jsx)(V.a,{path:C.Routes.Client.ContactUs,children:Object(N.jsx)(J,{})}),Object(N.jsx)(V.a,{path:C.Routes.Client.Root,exact:!0,children:Object(N.jsx)(B,{})})]})})})]})]})},mt=a(88),xt=Object(mt.a)({player:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_ME":return t.payload;case"SIGN_OUT":return sessionStorage.clear(),null;default:return e}},opponent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_OPPONENT":return t.payload;case"RESET_OPPONENT":return null;default:return e}},room:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{name:null,type:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ROOM":var a=t.payload,n=a.name,s=a.type;return{name:n,type:s};case"RESET_ROOM":return{name:null,type:null};default:return e}},scoreboard:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{me:null,opp:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_SCOREBOARD":return t.payload;case"CLEAN_SCOREBOARD":return{me:null,opp:null};default:return e}},tools:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{updateTriggered:!1,opponentSearchTriggered:!1,friendRequest:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TRIGGER_UPDATE":return{updateTriggered:!e.updateTriggered,opponentSearchTriggered:e.opponentSearchTriggered,friendRequest:null};case"TRIGGER_OPPONENT_SEARCH":return{updateTriggered:e.updateTriggered,opponentSearchTriggered:!e.opponentSearchTriggered,friendRequest:null};case"SEND_FRIEND_REQUEST":return{updateTriggered:e.updateTriggered,opponentSearchTriggered:e.opponentSearchTriggered,friendRequest:t.payload};default:return e}},statistics:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{players:0,games:0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_STATISTICS":var a=t.payload,n=a.players,s=a.games;return{players:n,games:s};default:return e}},message:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{sent:null,recieved:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RECIEVE_MESSAGE":var a=t.payload,n=a.friendID,s=a.name,r=a.text;return{recieved:{name:s,friendID:n,text:r,pushed:!1},sent:e.sent};case"SEND_MESSAGE":var c=t.payload,i=c.friendID,o=c.name,l=c.text;return console.log("payload",t.payload),{sent:{name:o,friendID:i,text:l},recieved:e.recieved};case"MEESAGE_PUSHED":return e.recieved&&(e.recieved.pushed=!0),e;case"RESET_MESSAGES":return{sent:null,recieved:null};default:return e}},token:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE_TOKEN":return C.browserStorage.TOKEN();default:return e}}}),ht=Object(mt.b)(xt,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),Ot=a(108),pt=function(e){var t=e.children,a=Object(Ot.useMediaQuery)({query:"(min-width: 1200px)"}),n=Object(Ot.useMediaQuery)({query:"(max-width: 768px)"}),s=!a&&!n,r=Object(d.useState)(null),c=Object(b.a)(r,2),i=c[0],o=c[1];return console.log("runned"),Object(d.useEffect)((function(){o([a,s,n].findIndex((function(e){return e})))}),[a,s,n]),Object(N.jsx)(Ce.Provider,{value:{device:i},children:t})};Object(n.render)(Object(N.jsx)(je.a,{store:ht,children:Object(N.jsx)(pt,{children:Object(N.jsx)(bt,{})})}),document.getElementById("root"))},3:function(e,t,a){var n=a(167),s=a(168),r=a(169),c=a(170),i=a(171);e.exports={browserStorage:c,Routes:{Server:s,Client:n},Status:r,GameSetting:i,Devices:{SmartPhone:2,Tablet:1,Desktop:0}}},43:function(e,t,a){}},[[234,1,2]]]);
//# sourceMappingURL=main.5c64c3c2.chunk.js.map