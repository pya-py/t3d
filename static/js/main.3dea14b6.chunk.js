(this.webpackJsonpt3d=this.webpackJsonpt3d||[]).push([[0],{105:function(e,t,a){},120:function(e,t,a){},151:function(e,t,a){},152:function(e,t,a){},153:function(e,t,a){},171:function(e,t){var a="/Profile";e.exports={Root:"/",SignUp:"/SignUp",SignIn:"/SignIn",GameDeck:"/GameDeck",Rankings:"/Rankings",GameGuide:"/GameGuide",ContactUs:"/ContacUs",Profile:a,ChatRoom:"".concat(a,"/").concat("ChatRoom"),MyGamesAndFriends:"".concat(a,"/").concat("GamesFriends"),Notices:"".concat(a,"/").concat("Notices")}},172:function(e,t){e.exports={Root:"https://t3dweb.herokuapp.com",WebSocketRoot:"wss://t3dweb.herokuapp.com/ws",wsGamePlayRoute:"gameplay",wsGlobalRoute:"global",SignUp:"signup",SignIn:"signin",Users:"users",Private:"private",Credentials:"credentials",PasswordChange:"password",Friends:"friends",Public:"public",Administrators:"administrators",Games:"games",Mine:"mine",Chats:"chats",Interactions:"interact",SingleChat:"single",Notices:"notices",NoticeManagement:"manage"}},173:function(e,t){e.exports={Successful:200,CreatedSuccessfully:201,BadRequest:400,Unauthorized:401,Forbidden:403,NotFound:404,NotAcceptable:406,Conflict:409,SessionExpired:420,UnprocessableEntity:422,InternalServerError:500,isErrorExpected:function(e){return e.response&&e.response.status>=400&&e.response.status<500}}},174:function(e,t){e.exports={save:function(e){sessionStorage.setItem("ptk",e)},reset:function(){sessionStorage.clear()},TOKEN:function(){return sessionStorage.getItem("ptk")}}},175:function(e,t){e.exports={T3D:{TableRowMargings:[0,40,80,120,160],TurnTimeOut:45}}},232:function(e,t,a){},234:function(e,t,a){},235:function(e,t,a){"use strict";a.r(t);var n=a(25),r=a(37),c=a(1),s=a(247),i=a(238),o=a(155),l=a(9),u=a(14),d=Object(c.createContext)({device:0,signOut:function(){},goTo:function(){},redirectToGamePlay:function(){}}),j=a(3),b=a.n(j),m=a(0),x=function(){var e=Object(l.d)((function(e){return e.me})),t=Object(c.useContext)(d);return Object(m.jsx)(s.a,{bg:"light",className:"nav-pills text-right",children:Object(m.jsx)(i.a,{className:"text-right",children:Object(m.jsxs)(o.a,{className:"me-auto",children:[Object(m.jsxs)(u.b,{className:"nav-link text-primary",activeClassName:"btn-success text-dark",to:e?j.Routes.Client.Profile:j.Routes.Client.SignUp,children:[Object(m.jsx)("i",{className:"fa fa-address-card px-2","aria-hidden":"true"}),e?t.device!==j.Devices.SmartPhone&&e.fullname:"\u062b\u0628\u062a \u0646\u0627\u0645"]}),Object(m.jsxs)(u.b,{className:"nav-link text-primary",to:j.Routes.Client.Root,exact:!0,activeClassName:"btn-outline-secondary text-dark",children:[Object(m.jsx)("i",{className:"fa fa-home px-2","aria-hidden":"true"}),t.device===j.Devices.Desktop&&"\u0635\u0641\u062d\u0647 \u0627\u0635\u0644\u06cc"]}),Object(m.jsxs)(u.b,{className:"nav-link text-primary",to:j.Routes.Client.GameDeck,activeClassName:"btn-outline-secondary text-dark",children:[Object(m.jsx)("i",{className:"fa fa-gamepad px-2","aria-hidden":"true"}),t.device===j.Devices.Desktop&&"\u0628\u0627\u0632\u06cc \u0647\u0627"]}),e&&Object(m.jsxs)(u.b,{className:"nav-link text-primary",to:j.Routes.Client.ChatRoom,activeClassName:"btn-outline-secondary text-dark",children:[Object(m.jsx)("i",{className:"fa fa-comment px-2","aria-hidden":"true"}),t.device===j.Devices.Desktop&&"\u0686\u062a \u0631\u0648\u0645"]}),Object(m.jsxs)(u.b,{className:"nav-link text-primary",to:j.Routes.Client.Rankings,activeClassName:"btn-outline-secondary text-dark",children:[Object(m.jsx)("i",{className:"fa fa-list-ol px-2","aria-hidden":"true"}),t.device===j.Devices.Desktop&&"\u0631\u0646\u06a9\u06cc\u0646\u06af"]}),Object(m.jsxs)(u.b,{className:"nav-link text-primary",to:j.Routes.Client.GameGuide,activeClassName:"btn-outline-secondary text-dark",children:[Object(m.jsx)("i",{className:"fa fa-eye px-2","aria-hidden":"true"}),t.device===j.Devices.Desktop&&"\u0631\u0627\u0647\u0646\u0645\u0627"]}),Object(m.jsxs)(u.b,{className:"nav-link text-primary",to:j.Routes.Client.ContactUs,activeClassName:"btn-outline-secondary text-dark",children:[Object(m.jsx)("i",{className:"fa fa-phone-square px-2","aria-hidden":"true"}),t.device===j.Devices.Desktop&&"\u062a\u0645\u0627\u0633 \u0628\u0627 \u0645\u0627"]})]})})})},h=a(10),f=a(109),p=a(13),O=a(5),g=a.n(O),v=a(11),y=a(38),N=a.n(y),S=function(e){r.b.error(e,{position:"top-right",closeOnClick:!0,icon:Object(m.jsx)("i",{style:{float:"right"},className:"fa fa-times","aria-hidden":"true"})})},w=function(e){r.b.success(e,{position:"top-left",closeOnClick:!0,icon:Object(m.jsx)("i",{style:{float:"right"},className:"fa fa-check","aria-hidden":"true"})})},C=function(e){r.b.info(e,{position:"top-center",closeOnClick:!0,icon:Object(m.jsx)("i",{style:{float:"right"},className:"fa fa-info","aria-hidden":"true"})})},k=function(e,t){r.b.warn(e,{type:"dark",position:"top-center",onClick:t,closeOnClick:!Boolean(t),icon:Object(m.jsx)("i",{style:{float:"right"},className:"fa fa-gavel","aria-hidden":"true"})})};N.a.defaults.headers.post["Content-Type"]="application/json",N.a.defaults.headers.put["Content-Type"]="application/json",N.a.interceptors.request.use((function(e){var t=j.browserStorage.TOKEN();return e.headers.Authorization=t?"Bearer ".concat(t):null,e}),(function(e){return Promise.reject(e)})),N.a.interceptors.response.use(null,(function(e){try{var t=e.response&&e.response.status>=j.Status.BadRequest&&e.response.status<j.Status.InternalServerError;e.response.status===j.Status.BadRequest?S("\u0645\u0634\u06a9\u0644\u06cc \u062f\u0631 \u0627\u0631\u0633\u0627\u0644 \u062f\u0631\u062e\u0648\u0627\u0633\u062a \u0634\u0645\u0627 \u0628\u0647 \u0633\u0631\u0648\u0631 \u0648\u062c\u0648\u062f \u062f\u0627\u0634\u062a\u060c \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u062a\u0644\u0627\u0634 \u06a9\u0646\u06cc\u062f"):e.response.status===j.Status.Unauthorized?(S("\u0627\u062d\u0631\u0627\u0632 \u0647\u0648\u06cc\u062a \u0645\u0648\u0641\u0642\u06cc\u062a \u0622\u0645\u06cc\u0632 \u0646\u0628\u0648\u062f. \u0644\u0637\u0641\u0627 \u0648\u0627\u0631\u062f \u062d\u0633\u0627\u0628 \u06a9\u0627\u0631\u0628\u0631\u06cc \u062e\u0648\u062f \u0634\u0648\u06cc\u062f"),j.browserStorage.reset()):e.response.status===j.Status.Forbidden?S("\u0634\u0645\u0627\u0631\u0647 \u062f\u0627\u0646\u0634\u062c\u0648\u06cc\u06cc \u06cc\u0627 \u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u0646\u0627\u062f\u0631\u0633\u062a \u0627\u0633\u062a"):e.response.status===j.Status.NotAcceptable?S("\u0627\u06cc\u0646 \u0642\u0633\u0645\u062a \u0641\u0642\u0637 \u0645\u062e\u062a\u0635 \u06a9\u0627\u0631\u0628\u0631\u0627\u0646 \u0627\u062f\u0645\u06cc\u0646 \u0645\u06cc \u0628\u0627\u0634\u062f"):e.response.status===j.Status.Conflict?k("\u06a9\u0627\u0631\u0628\u0631\u06cc \u0628\u0627 \u0627\u06cc\u0646 \u0634\u0645\u0627\u0631\u0647 \u062f\u0627\u0646\u0634\u062c\u0648\u06cc\u06cc \u06cc\u0627 \u0627\u06cc\u0645\u06cc\u0644 \u0642\u0628\u0644\u0627 \u062b\u0628\u062a \u0646\u0627\u0645 \u06a9\u0631\u062f\u0647 \u0627\u0633\u062a"):e.response.status===j.Status.SessionExpired?(S("\u0646\u0634\u0633\u062a \u0634\u0645\u0627 \u0645\u0646\u0642\u0636\u06cc \u0634\u062f\u0647 \u0627\u0633\u062a\u060c \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u0648\u0627\u0631\u062f \u062d\u0633\u0627\u0628 \u062e\u0648\u062f \u0634\u0648\u06cc\u062f."),j.browserStorage.reset()):e.response.status===j.Status.UnprocessableEntity?S("\u0648\u0631\u0648\u062f\u06cc \u0634\u0645\u0627 \u0628\u0627 \u0627\u0633\u062a\u0627\u0646\u062f\u0627\u0631\u062f\u0647\u0627\u06cc \u0633\u0627\u06cc\u062a \u0645\u0637\u0627\u0628\u0642\u062a \u0646\u062f\u0627\u0631\u062f"):t||S("\u0645\u0634\u06a9\u0644\u06cc \u0627\u0632 \u0633\u0645\u062a \u0633\u0631\u0648\u0631 \u067e\u06cc\u0634 \u0622\u0645\u062f\u0647 \u0627\u0633\u062a ... \u0644\u0637\u0641\u0627 \u0644\u062d\u0638\u0627\u062a\u06cc \u0628\u0639\u062f \u062f\u0648\u0628\u0627\u0631\u0647 \u062a\u0644\u0627\u0634 \u06a9\u0646\u06cc\u062f")}catch(a){console.log(e)}return Promise.reject(e)}));var T={get:N.a.get,post:N.a.post,put:N.a.put,delete:N.a.delete},D=j.Routes.Server,E={signUp:function(e){return T.post("".concat(D.Root,"/").concat(D.Users,"/").concat(D.SignUp),JSON.stringify(e))},signIn:function(e){return console.log("".concat(D.Root,"/").concat(D.Users,"/").concat(D.SignIn)),T.post("".concat(D.Root,"/").concat(D.Users,"/").concat(D.SignIn),JSON.stringify(e))},getPlayer:function(e){return T.get("".concat(D.Root,"/").concat(D.Users,"/").concat(D.Public,"/").concat(e))},getAllPlayers:function(){return T.get("".concat(D.Root,"/").concat(D.Users,"/").concat(D.Public))},getMe:function(){return console.log("IAM CALLED"),T.get("".concat(D.Root,"/").concat(D.Users,"/").concat(D.Private))},getMyCredentials:function(){return T.get("".concat(D.Root,"/").concat(D.Users,"/").concat(D.Private,"/").concat(D.Credentials))},editMyCredentials:function(e){return T.put("".concat(D.Root,"/").concat(D.Users,"/").concat(D.Private,"/").concat(D.Credentials),JSON.stringify(e))},changeMyPassword:function(e){return T.put("".concat(D.Root,"/").concat(D.Users,"/").concat(D.Private,"/").concat(D.Credentials,"/").concat(D.PasswordChange),JSON.stringify(e))},getMyFriends:function(){return T.get("".concat(D.Root,"/").concat(D.Users,"/").concat(D.Private,"/").concat(D.Credentials,"/").concat(D.Friends))},isMyFriend:function(e){return T.get("".concat(D.Root,"/").concat(D.Users,"/").concat(D.Private,"/").concat(D.Credentials,"/").concat(D.Friends,"/").concat(e))},isAdministrator:function(e){return T.get("".concat(D.Root,"/").concat(D.Users,"/").concat(D.Administrators,"/").concat(e))}},I=function(){return function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({type:"RESET_OPPONENT"});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},R=function(){return function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({type:"RESET_MINE"});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},P=function(e){return function(){var t=Object(v.a)(g.a.mark((function t(a){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a({type:"ENTER_ROOM",payload:e});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},A=Object(p.f)((function(e){var t=e.children,a=e.history,n=Object(f.useMediaQuery)({query:"(min-width: 1200px)"}),r=Object(f.useMediaQuery)({query:"(max-width: 768px)"}),s=!n&&!r,i=Object(c.useState)(null),o=Object(h.a)(i,2),u=o[0],b=o[1],x=Object(l.c)();console.log("GlobalStates rendered"),Object(c.useEffect)((function(){b([n,s,r].findIndex((function(e){return e})))}),[n,s,r]);return Object(m.jsx)(d.Provider,{value:{device:u,signOut:function(){try{j.browserStorage.reset(),a.push(j.Routes.Client.SignUp),x(R())}catch(e){console.log(e)}},redirectToGamePlay:function(e){x(P(e)),a.push(j.Routes.Client.GameDeck)},goTo:function(e){a.push(e)}},children:t})})),G=a(239),L=a(240),M=(a(44),function(e){var t=Object(l.d)((function(e){return e.me})),a=Object(c.useContext)(d);return Object(m.jsxs)(G.a,{className:"profile-panel-sidebar d-flex flex-column flex-shrink-0",children:[Object(m.jsxs)(L.a,{style:{border:"none"},variant:"outline-warning",className:"d-flex align-items-center mb-3 mb-md-0 me-md-auto link-dark text-decoration-none",children:[Object(m.jsx)("i",{className:"fa fa-cogs px-2","aria-hidden":"true"}),"\u067e\u0646\u0644 \u06a9\u0627\u0631\u0628\u0631\u06cc"]}),Object(m.jsx)("hr",{}),Object(m.jsxs)("ul",{className:"nav nav-pills flex-column mb-auto",children:[Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsxs)(u.b,{exact:!0,to:b.a.Routes.Client.Profile,className:"nav-link","aria-current":"page",children:[Object(m.jsx)("i",{className:"fa fa-user-o px-2","aria-hidden":"true"}),"\u0645\u0634\u062e\u0635\u0627\u062a"]})}),Object(m.jsx)("li",{children:Object(m.jsxs)(u.b,{className:"nav-link link-dark",to:b.a.Routes.Client.MyGamesAndFriends,children:[Object(m.jsx)("i",{className:"fa fa-users px-2","aria-hidden":"true"}),"\u062f\u0648\u0633\u062a\u0627\u0646 \u0648 \u0628\u0627\u0632\u06cc \u0647\u0627"]})}),Object(m.jsx)("li",{children:Object(m.jsxs)(u.b,{className:"nav-link link-dark",to:b.a.Routes.Client.ChatRoom,children:[Object(m.jsx)("i",{className:"fa fa-comment px-2","aria-hidden":"true"}),"\u0686\u062a \u0631\u0648\u0645"]})}),Object(m.jsx)("hr",{}),t&&t.isAdmin&&Object(m.jsxs)(c.Fragment,{children:[Object(m.jsx)("li",{children:Object(m.jsxs)(u.b,{className:"nav-link link-dark border-top",to:b.a.Routes.Client.Notices,children:[Object(m.jsx)("i",{className:"fa fa-newspaper-o px-2","aria-hidden":"true"}),"\u0627\u0637\u0644\u0627\u0639\u06cc\u0647 \u0647\u0627"]})}),Object(m.jsx)("li",{children:Object(m.jsxs)(u.b,{className:"nav-link link-dark",to:"/controlPanel/admin/whatever",children:[Object(m.jsx)("svg",{className:"bi me-2",width:"16",height:"16"}),"\u0627\u0645\u06a9\u0627\u0646\u0627\u062a \u0627\u062f\u0645\u06cc\u0646"]})})]})]}),Object(m.jsx)("hr",{}),Object(m.jsxs)(L.a,{variant:"outline-danger",onClick:a.signOut,children:[Object(m.jsx)("i",{className:"fa fa-sign-out px-2","aria-hidden":"true"}),"\u062e\u0631\u0648\u062c \u0627\u0632 \u062d\u0633\u0627\u0628 \u06a9\u0627\u0631\u0628\u0631\u06cc"]})]})}),F=function(e){var t=Object(l.d)((function(e){return e.me})),a=Object(c.useContext)(d);return Object(m.jsxs)(G.a,{bg:"light",className:"profile-panel-sidebar-collapsed w-100 mx-auto pl-5",children:[Object(m.jsx)(u.b,{activeClassName:"btn btn-primary",exact:!0,to:b.a.Routes.Client.Profile,className:"nav-link","aria-current":"page",children:Object(m.jsx)("i",{className:"fa fa-user-o","aria-hidden":"true"})}),Object(m.jsx)(u.b,{activeClassName:"btn btn-primary",className:"nav-link",to:b.a.Routes.Client.MyGamesAndFriends,children:Object(m.jsx)("i",{className:"fa fa-users","aria-hidden":"true"})}),Object(m.jsx)(u.b,{activeClassName:"btn btn-primary",className:"nav-link",to:b.a.Routes.Client.ChatRoom,children:Object(m.jsx)("i",{className:"fa fa-weixin","aria-hidden":"true"})}),t&&t.isAdmin&&Object(m.jsxs)(c.Fragment,{children:[Object(m.jsx)(u.b,{activeClassName:"btn btn-primary",className:"nav-link border-top",to:b.a.Routes.Client.Notices,children:Object(m.jsx)("i",{className:"fa fa-newspaper-o","aria-hidden":"true"})}),Object(m.jsx)(u.b,{activeClassName:"btn btn-primary",className:"nav-link",to:"/controlPanel/admin/whatever",children:Object(m.jsx)("svg",{className:"bi me-2",width:"16",height:"16"})})]}),Object(m.jsx)(L.a,{variant:"outline-danger",onClick:a.signOut,children:Object(m.jsx)("i",{className:"fa fa-sign-out","aria-hidden":"true"})})]})},_=a(157),U=function(){var e=Object(l.c)(),t=Object(l.d)((function(e){return e.opponent})),a=j.browserStorage.TOKEN();return Object(c.useEffect)((function(){a?(console.log("auth called then "),e(function(){var e=Object(v.a)(g.a.mark((function e(t){var a,n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.getMe();case 3:if(a=e.sent,n=a.data,a.status!==j.Status.Successful){e.next=10;break}return r=n.player,e.next=10,t({type:"LOAD_MINE",payload:r});case 10:e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(0),console.log(e.t0),e.next=17,t(R());case 17:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}())):e(R())}),[a,t,e]),null},q=j.Routes.Server,B={getOurChat:function(e){return T.get("".concat(q.Root,"/").concat(q.Chats,"/").concat(q.SingleChat,"/").concat(e))},getMyInteractions:function(){return T.get("".concat(q.Root,"/").concat(q.Chats,"/").concat(q.Interactions))}},H=function(e){var t=e.children,a=Object(c.useContext)(d),n=Object(l.c)();return Object(c.useEffect)((function(){return n(function(){var e=Object(v.a)(g.a.mark((function e(t){var a,n,r,c,s,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=[],n=[],e.next=4,B.getMyInteractions();case 4:if(r=e.sent,c=r.status,s=r.data,c!==j.Status.Successful){e.next=18;break}if((i=s.interactions)instanceof Array){e.next=11;break}throw new Error("server response is not an array!");case 11:return i.forEach((function(e){var t=e.friend,r=e.messages,c=e.ownerOf;a.push(t),n.push({with:t.ID,messages:r.map((function(e){return c===e.owner?{me:e.text,friend:null,date:e.date}:{me:null,friend:e.text,date:e.date}}))})})),e.next=14,t({type:"LOAD_FRIENDS",payload:a});case 14:return e.next=16,t({type:"LOAD_CHATS",payload:n});case 16:e.next=19;break;case 18:throw new Error("Error happened while forming chats list");case 19:e.next=29;break;case 21:return e.prev=21,e.t0=e.catch(0),console.log("Loading chats interrupted cause of this error: ".concat(e.t0)),S("\u062d\u06cc\u0646 \u0628\u0627\u0631\u06af\u0630\u0627\u0631\u06cc \u067e\u06cc\u0627\u0645 \u0647\u0627 \u0645\u0634\u06a9\u0644\u06cc \u067e\u06cc\u0634 \u0622\u0645\u062f. \u0644\u0637\u0641\u0627 \u0644\u062d\u0638\u0627\u062a\u06cc \u0628\u0639\u062f \u062f\u0648\u0628\u0627\u0631\u0647 \u062a\u0644\u0627\u0634 \u06a9\u0646\u06cc\u062f"),e.next=27,t({type:"RESET_FRIENDS"});case 27:return e.next=29,t({type:"RESET_CHATS"});case 29:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(t){return e.apply(this,arguments)}}()),function(){n(function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({type:"RESET_FRIENDS"});case 2:return e.next=4,t({type:"RESET_CHATS"});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}),[n]),Object(m.jsxs)(c.Fragment,{children:[Object(m.jsx)(U,{}),a.device===j.Devices.Desktop?Object(m.jsxs)(G.a,{className:"w-100 mx-auto",children:[Object(m.jsx)(_.a,{lg:3,children:Object(m.jsx)(M,{})}),Object(m.jsx)(_.a,{lg:9,children:t})]}):Object(m.jsxs)(G.a,{className:"w-100 mx-auto",children:[Object(m.jsx)(_.a,{className:"mx-auto",sm:12,children:Object(m.jsx)(F,{})}),Object(m.jsx)(_.a,{sm:12,children:t})]})]})},K=a(94),V=function(e){var t=e.loading,a=Object(c.useState)(0),n=Object(h.a)(a,2),r=n[0],s=n[1];Object(c.useEffect)((function(){s(Math.floor(100*Math.random()))}),[]),Object(c.useLayoutEffect)((function(){document.body.style={overflowY:"auto"},document.body.style={height:"auto"}}),[t,r]);var i=r%3===0?Object(m.jsx)(K.Circle2,{time:0,customLoading:t}):r%3===1?Object(m.jsx)(K.Planets,{time:0,customLoading:t}):Object(m.jsx)(K.Sugar,{time:0,customLoading:t});return Object(m.jsx)(c.Fragment,{children:t?i:null})},z=j.Routes.Server,J={getAllGames:function(){return T.get("".concat(z.Root,"/").concat(z.Games))},getMyGames:function(){return T.get("".concat(z.Root,"/").concat(z.Games,"/").concat(z.Mine))}},W=a(249),Y=a(243),X=(a(120),a(107)),Q=a(64),Z=a.n(Q),$=a(65),ee=a.n($),te=function(e){return new X.default({date:new Date(e),calendar:Z.a,locale:ee.a})},ae=function(e){return[te(e).format("dddd DD MMMM YYYY"),te(e).format("hh:mm")]},ne=function(e){e.Type;var t=e.date,a=e.playerXName,n=e.playerOName,r=e.xScore,s=e.oScore,i=Object(c.useState)(null),o=Object(h.a)(i,2),l=o[0],u=o[1],d=Object(c.useState)(null),j=Object(h.a)(d,2),b=j[0],x=j[1],f=Object(c.useState)(null),p=Object(h.a)(f,2),O=p[0],g=p[1];return Object(c.useEffect)((function(){g(ae(t)[0]),r>s?(u("badge-success"),x("badge-danger")):r===s?(u("badge-warning"),x("badge-warning")):(x("badge-success"),u("badge-danger"))}),[t,r,s]),Object(m.jsxs)(W.a,{border:"dark",className:"single-score-card",children:[Object(m.jsx)(W.a.Body,{children:Object(m.jsxs)(G.a,{className:"text-center mx-auto",children:[Object(m.jsx)("span",{className:"col-5",children:a}),Object(m.jsx)("span",{className:"badge badge-pill ".concat(l," single-score-badge col-1"),children:r}),Object(m.jsx)("span",{className:"badge badge-pill ".concat(b," single-score-badge col-1"),children:s}),Object(m.jsx)("span",{className:"col-5",children:n})]})}),Object(m.jsx)(W.a.Footer,{className:"p-0",children:Object(m.jsxs)(L.a,{variant:"outline-dark",block:!0,size:"lg",className:"replay-game-button",children:[O,Object(m.jsx)("i",{className:"fa fa-pie-chart px-3","aria-hidden":"true"})]})})]})},re=function(e){var t=e.scores;return Object(m.jsx)(c.Fragment,{children:t.length?t.map((function(e){return Object(m.jsx)(ne,{Type:e.Type,date:e.date,playerXName:e.players[0].name,playerOName:e.players[1].name,xScore:e.players[0].score,oScore:e.players[1].score},e.gameID)})):Object(m.jsx)(W.a,{className:"bg-transparent mx-auto mt-3",border:"danger",children:Object(m.jsx)(W.a.Body,{className:"text-center",children:Object(m.jsx)(W.a.Text,{children:"\u0647\u06cc\u0686 \u0628\u0627\u0632\u06cc \u0627\u06cc \u0627\u0646\u062c\u0627\u0645 \u0646\u06af\u0631\u0641\u062a\u0647 \u0627\u0633\u062a"})})})})},ce=a(250),se=a(242),ie=a.p+"static/media/no-avatar.5e7c913e.png",oe=a(241),le=function(e){var t=e.children,a=e.title,n=e.small;return Object(m.jsx)(ce.a.Item,{className:"h-100 bg-transparent",children:Object(m.jsxs)(G.a,{className:!n&&"h-100 py-2",children:[Object(m.jsx)(_.a,{className:"text-center",children:Object(m.jsx)(W.a.Text,{children:a})}),Object(m.jsx)(_.a,{className:n?"text-left":"text-center",children:Object(m.jsx)(oe.a,{className:"friend-badge-font-size",pill:!0,variant:"primary",children:t})})]})})},ue=a(90),de=a(16),je=function(){return function(){var e=Object(v.a)(g.a.mark((function e(t,a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Object(de.a)({},a())).randomSearchTriggered=!n.randomSearchTriggered,e.next=4,t({type:"UPDATE_TOOLS",payload:n});case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},be=function(){return function(){var e=Object(v.a)(g.a.mark((function e(t,a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Object(de.a)({},a())).friendlyGameTarget=null,e.next=4,t({type:"UPDATE_TOOLS",payload:n});case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},me=function(e){var t=Object(l.d)((function(e){return e.me})),a=Object(l.d)((function(e){return e.room})),n=Object(c.useState)(4),r=Object(h.a)(n,2),s=r[0],i=r[1],o=Object(l.c)();if(!t)return null;var u=(e.friend?e.friend:t).records,d=e.friend?e.friend.ID:t.userID;return Object(m.jsxs)(W.a,{border:"success",bg:"transparent",className:"friend-records",children:[Object(m.jsx)(W.a.Body,{children:Object(m.jsxs)(G.a,{className:"w-100 p-0 mx-auto",children:[Object(m.jsx)(_.a,{sm:12,md:12,lg:3,className:"text-center mx-auuto",children:Object(m.jsx)(ue.a,{style:{margin:"auto",textAlign:"center"},size:"128",round:!0,src:ie})}),Object(m.jsx)(_.a,{sm:12,md:12,lg:9,children:Object(m.jsxs)(ce.a,{className:"list-group list-group-flush",children:[Object(m.jsxs)(G.a,{className:"h-100",children:[Object(m.jsx)(_.a,{className:"p-0 h-100 w-100",children:Object(m.jsx)(le,{title:"\u0627\u0645\u062a\u06cc\u0627\u0632 \u0628\u0627\u0632\u06cc\u06a9\u0646",children:u.points})}),Object(m.jsx)(_.a,{className:"p-0 h-100 w-100",children:Object(m.jsx)(le,{title:"\u062a\u0639\u062f\u0627\u062f \u0628\u0631\u062f\u0647\u0627",children:u.wins})})]}),Object(m.jsxs)(G.a,{className:"h-100",children:[Object(m.jsx)(_.a,{className:"p-0 h-100 w-100",children:Object(m.jsx)(le,{title:"\u062a\u0639\u062f\u0627\u062f \u062a\u0633\u0627\u0648\u06cc",children:u.draws})}),Object(m.jsx)(_.a,{className:"p-0 h-100 w-100",children:Object(m.jsx)(le,{title:"\u062a\u0639\u062f\u0627\u062f \u0628\u0627\u062e\u062a\u0647\u0627",children:u.loses})})]})]})})]})}),e.friend&&Object(m.jsx)(W.a.Footer,{children:Object(m.jsxs)(G.a,{children:[Object(m.jsx)(_.a,{sm:4,xs:12,children:Object(m.jsxs)(L.a,{variant:"secondary",block:!0,onClick:function(){a.type||a.type||d===t.userID?S("\u0628\u0631\u0627\u06cc \u0634\u0631\u0648\u0639 \u0628\u0627\u0632\u06cc \u062c\u062f\u06cc\u062f\u060c \u0628\u0627\u06cc\u062f \u0628\u0627\u0632\u06cc \u0642\u0628\u0644\u06cc \u0634\u0645\u0627 \u0628\u0647 \u0627\u062a\u0645\u0627\u0645 \u0628\u0631\u0633\u062f"):(o(function(e,t){return function(){var a=Object(v.a)(g.a.mark((function a(n,r){var c;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return(c=Object(de.a)({},r())).friendlyGameTarget={targetID:e,type:t},a.next=4,n({type:"UPDATE_TOOLS",payload:c});case 4:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()}(d,s)),setTimeout((function(){o(be())}),1e4))},children:[Object(m.jsx)("i",{className:"fa fa-handshake-o px-2","aria-hidden":"true"}),"\u062f\u0631\u062e\u0648\u0627\u0633\u062a \u0628\u0627\u0632\u06cc"]})}),Object(m.jsx)(_.a,{sm:8,xs:12,children:Object(m.jsxs)(se.a,{children:[Object(m.jsxs)(se.a.Prepend,{children:[Object(m.jsx)(se.a.Radio,{value:"3",name:"tableDimension",checked:3===s,onChange:function(){return i(3)}}),Object(m.jsx)(se.a.Text,{children:"3 * 3 * 3"})]}),Object(m.jsxs)(se.a.Prepend,{children:[Object(m.jsx)(se.a.Radio,{value:"4",name:"tableDimension",checked:4===s,onChange:function(){return i(4)}}),Object(m.jsx)(se.a.Text,{children:"4 * 4 * 4"})]}),Object(m.jsxs)(se.a.Prepend,{children:[Object(m.jsx)(se.a.Radio,{value:"5",name:"tableDimension",checked:5===s,onChange:function(){return i(5)}}),Object(m.jsx)(se.a.Text,{children:"5 * 5 * 5"})]})]})})]})})]})},xe=function(){var e=Object(c.useState)(!1),t=Object(h.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)([]),s=Object(h.a)(r,2),i=s[0],u=s[1],d=Object(c.useState)("me"),j=Object(h.a)(d,2),x=j[0],f=j[1],p=Object(c.useState)(-1),O=Object(h.a)(p,2),y=O[0],N=O[1],S=Object(l.d)((function(e){return e.friends}));Object(c.useEffect)((function(){Object(v.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(!0),e.next=4,J.getMyGames();case 4:(t=e.sent).status===b.a.Status.Successful&&u(t.data.myGames.reverse()),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),n(!1);case 12:n(!1);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})))()}),[]),Object(c.useEffect)((function(){N("me"!==x?S.findIndex((function(e){return e.ID===x})):-1)}),[x,S]);return Object(m.jsxs)(W.a,{border:"secondary",bg:"transparent",className:"big-single-card",children:[Object(m.jsx)(W.a.Header,{className:"text-center",children:"\u0644\u06cc\u0633\u062a \u062f\u0648\u0633\u062a\u0627\u0646 \u0648 \u0622\u0645\u0627\u0631 \u0628\u0627\u0632\u06cc \u0647\u0627"}),Object(m.jsx)(V,{loading:a}),Object(m.jsxs)(W.a.Body,{children:[Object(m.jsx)(V,{loading:a}),Object(m.jsx)(Y.a.Container,{defaultActiveKey:x,onSelect:function(e){return f(e)},children:Object(m.jsxs)(G.a,{children:[Object(m.jsx)(_.a,{lg:3,md:4,sm:12,className:"friend-list-name-length tabs-list-friends-in-games-scrollable",children:Object(m.jsxs)(o.a,{variant:"pills",className:"flex-column text-right",children:[Object(m.jsx)(o.a.Item,{children:Object(m.jsx)(o.a.Link,{eventKey:"me",children:"\u0647\u0645\u0647 \u0628\u0627\u0632\u06cc \u0647\u0627"})}),S.map((function(e){return Object(m.jsx)(o.a.Item,{children:Object(m.jsx)(o.a.Link,{eventKey:e.ID,children:Object(m.jsxs)(G.a,{className:"m-0 w-100",children:[Object(m.jsx)(_.a,{children:e.name}),Object(m.jsx)(_.a,{xs:1,children:Object(m.jsx)("i",{onClick:function(){},className:"icon-unfriend fa fa-times pl-2","area-hidden":"true"})})]})})})}))]})}),Object(m.jsx)(_.a,{lg:9,md:8,sm:12,children:Object(m.jsxs)(Y.a.Content,{children:[Object(m.jsxs)(Y.a.Pane,{eventKey:"me",children:[Object(m.jsx)(me,{friend:null}),Object(m.jsx)(re,{scores:i})]}),S.map((function(e){return Object(m.jsxs)(Y.a.Pane,{eventKey:e.ID,children:[Object(m.jsx)(me,{friend:-1!==y?S[y]:null}),Object(m.jsx)(re,{scores:i.filter((function(t){return e.ID===t.players[0].id||e.ID===t.players[1].id}))})]})}))]})})]})})]})]})},he=a(246),fe=a(244),pe=a(110),Oe=a.n(pe),ge=j.Routes.Server,ve={createNotice:function(e){return T.post("".concat(ge.Root,"/").concat(ge.Notices,"/").concat(ge.NoticeManagement),JSON.stringify(e))},getAdvancedNotics:function(){return T.get("".concat(ge.Root,"/").concat(ge.Notices,"/").concat(ge.NoticeManagement))},getShortNotices:function(){return T.get("".concat(ge.Root,"/").concat(ge.Notices))},editNotice:function(e,t){return T.put("".concat(ge.Root,"/").concat(ge.Notices,"/").concat(ge.NoticeManagement,"/").concat(e),JSON.stringify(t))}},ye=a(88),Ne=function(){var e=Object(l.d)((function(e){return e.me})),t=Object(c.useState)(void 0),a=Object(h.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(""),i=Object(h.a)(s,2),o=i[0],u=i[1],d=Object(c.useState)(""),b=Object(h.a)(d,2),x=b[0],f=b[1],p=Object(c.useState)(null),O=Object(h.a)(p,2),y=O[0],N=O[1],C=Object(c.useState)(null),k=Object(h.a)(C,2),T=k[0],D=k[1],E=Object(c.useState)([]),I=Object(h.a)(E,2),R=I[0],P=I[1],A=Object(c.useState)(null),M=Object(h.a)(A,2),F=M[0],U=M[1],q=Object(c.useState)(!1),B=Object(h.a)(q,2),H=B[0],K=B[1],z=Object(c.useState)(!1),J=Object(h.a)(z,2),Y=J[0],X=J[1],Q=function(){u(""),f(""),N(null),D(null),U(null),K(!H)};Object(c.useEffect)((function(){Object(v.a)(g.a.mark((function e(){var t,a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,X(!0),e.next=4,ve.getAdvancedNotics();case 4:t=e.sent,a=t.status,n=t.data,a===j.Status.Successful&&(n.notices.length&&P(n.notices.reverse()),0===n.notices.length&&P([{title:"\u067e\u06cc\u0627\u0645",text:"\u0627\u0637\u0644\u0627\u0639\u06cc\u0647 \u062c\u062f\u06cc\u062f\u06cc \u0648\u062c\u0648\u062f \u0646\u062f\u0627\u0631\u062f"}])),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),P([{title:"\u062e\u0637\u0627",text:"...\u0645\u0634\u06a9\u0644\u06cc \u062d\u06cc\u0646 \u0628\u0627\u0631\u06af\u0630\u0627\u0631\u06cc \u0627\u0637\u0644\u0627\u0639\u06cc\u0647 \u0647\u0627 \u067e\u06cc\u0634 \u0622\u0645\u062f. \u062f\u0648\u0628\u0627\u0631\u0647 \u0627\u0645\u062a\u062d\u0627\u0646 \u06a9\u0646\u06cc\u062f"}]),X(!1);case 14:X(!1);case 15:case"end":return e.stop()}}),e,null,[[0,10]])})))()}),[H]),Object(c.useEffect)((function(){var t=void 0;if(j.browserStorage.TOKEN()){var a=Object(ye.a)(j.browserStorage.TOKEN());if(t=a&&a.user.admin&&a.exp>Date.now()/1e3,!e||!1===t)return S("\u0645\u062a\u0627\u0633\u0641\u0627\u0646\u0647 \u0634\u0645\u0627 \u0645\u062c\u0648\u0632 \u062f\u0633\u062a\u0631\u0633\u06cc \u0628\u0647 \u0627\u06cc\u0646 \u0635\u0641\u062d\u0647 \u0631\u0627 \u0646\u062f\u0627\u0631\u06cc\u062f."),null}else t=!1;r(t)}),[e]);var $=function(){var e=Object(v.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,X(!0),e.next=4,ve.createNotice({title:o,text:x,startDate:new Date(y),endDate:new Date(T)});case 4:t=e.sent,t.status===j.Status.CreatedSuccessfully&&(w("\u0627\u0637\u0644\u0627\u0639\u06cc\u0647 \u06cc ".concat(o," \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u0633\u0627\u062e\u062a\u0647 \u0634\u062f")),Q()),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),j.Status.isErrorExpected(e.t0)||S("\u062e\u0637\u0627\u06cc\u06cc \u062f\u0631 \u0630\u062e\u06cc\u0631\u0647 \u0627\u0637\u0644\u0627\u0639\u06cc\u0647 \u0628\u0648\u062c\u0648\u062f \u0627\u0645\u062f ... \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u062a\u0644\u0627\u0634 \u06a9\u0646\u06cc\u062f");case 12:X(!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=Object(v.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(F){e.next=2;break}return e.abrupt("return");case 2:return X(!0),e.prev=3,e.next=6,ve.editNotice(F,{title:o,text:x,startDate:y,endDate:T});case 6:t=e.sent,t.status===j.Status.Successful&&(w("\u0627\u0637\u0644\u0627\u0639\u06cc\u0647 \u06cc ".concat(o," \u0628\u0627 \u0645\u0648\u0631\u0641\u0642\u06cc\u062a \u0648\u06cc\u0631\u0627\u06cc\u0634 \u0634\u062f")),Q()),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),j.Status.isErrorExpected(e.t0)||S("\u062e\u0637\u0627\u06cc\u06cc \u062f\u0631 \u0630\u062e\u06cc\u0631\u0647 \u062a\u063a\u06cc\u06cc\u0631\u0627\u062a \u0628\u0648\u062c\u0648\u062f \u0627\u0645\u062f ... \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u062a\u0644\u0627\u0634 \u06a9\u0646\u06cc\u062f");case 14:X(!1);case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}();return Object(m.jsx)(c.Fragment,{children:e&&n&&Object(m.jsxs)(G.a,{style:{height:"100%"},children:[Object(m.jsx)(V,{loading:Y}),Object(m.jsx)(_.a,{lg:6,md:5,sm:12,children:Object(m.jsxs)(W.a,{border:"success",bg:"transparent",className:"mx-auto notice-manager-card",children:[Object(m.jsx)(W.a.Header,{className:"text-center",children:"\u0627\u0637\u0644\u0627\u0639\u06cc\u0647 \u062c\u062f\u06cc\u062f"}),Object(m.jsxs)(W.a.Body,{className:"text-right",children:[Object(m.jsx)(he.a.Label,{className:"my-1 mx-auto",children:"\u0639\u0646\u0648\u0627\u0646 \u0627\u0637\u0644\u0627\u0639\u06cc\u0647"}),Object(m.jsx)(he.a.Control,{value:o,onChange:function(e){return u(e.target.value)},pattern:".{3,30}",onInput:function(e){return e.target.setCustomValidity("")},onInvalid:function(e){return e.target.setCustomValidity("\u0639\u0646\u0648\u0627\u0646 \u0627\u0637\u0644\u0627\u0639\u06cc\u0647 \u0628\u0627\u06cc\u062f \u062d\u062f\u0627\u0642\u0644 3 \u0648 \u062d\u062f\u0627\u06a9\u062b\u0631 30 \u06a9\u0627\u0631\u0627\u06a9\u062a\u0631 \u062f\u0627\u0634\u062a\u0647 \u0628\u0627\u0634\u062f")},className:"my-1 mx-auto",type:"text",placeholder:"\u0639\u0646\u0648\u0627\u0646",required:"required"}),Object(m.jsx)("hr",{}),Object(m.jsx)(he.a.Label,{className:"my-1 mx-auto",children:"\u062a\u0648\u0636\u06cc\u062d\u0627\u062a"}),Object(m.jsx)(he.a.Control,{as:"textarea",pattern:".{5,200}",onInput:function(e){return e.target.setCustomValidity("")},onInvalid:function(e){return e.target.setCustomValidity("\u0645\u062a\u0646 \u0627\u0637\u0644\u0627\u0639\u06cc\u0647 \u0628\u0627\u06cc\u062f \u062d\u062f\u0627\u0642\u0644 5 \u0648 \u062d\u062f\u0627\u06a9\u062b\u0631 200 \u06a9\u0627\u0631\u0627\u06a9\u062a\u0631 \u062f\u0627\u0634\u062a\u0647 \u0628\u0627\u0634\u062f")},className:"my-1 mx-auto h-25",placeholder:"\u0645\u062a\u0646 \u06a9\u0627\u0645\u0644 \u0627\u0637\u0644\u0627\u0639\u06cc\u0647 \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f",value:x,required:"required",onChange:function(e){return f(e.target.value)}}),Object(m.jsx)("hr",{}),Object(m.jsx)(he.a.Label,{className:"my-1 mx-2",children:"\u062a\u0627\u0631\u06cc\u062e \u0634\u0631\u0648\u0639 \u0646\u0645\u0627\u06cc\u0634"}),Object(m.jsx)(Oe.a,{className:"my-1 mx-auto w-100",calendar:Z.a,locale:ee.a,calendarPosition:"bottom-right",value:y,onChange:N,required:"required"}),Object(m.jsx)("hr",{}),Object(m.jsx)(he.a.Label,{className:"my-1 mx-2",children:"\u062a\u0627\u0631\u06cc\u062e \u067e\u0627\u06cc\u0627\u0646 \u0646\u0645\u0627\u06cc\u0634"}),Object(m.jsx)(Oe.a,{className:"my-1 mx-auto",calendar:Z.a,locale:ee.a,calendarPosition:"bottom-right",value:T,onChange:D,required:"required"}),Object(m.jsx)("hr",{})]}),Object(m.jsx)(W.a.Footer,{children:F?Object(m.jsxs)(G.a,{children:[Object(m.jsx)(_.a,{lg:6,md:12,children:Object(m.jsxs)(L.a,{block:!0,variant:"outline-primary",onClick:te,children:[Object(m.jsx)("i",{className:"fa fa-floppy-o px-3","aria-hidden":"true"}),"\u0630\u062e\u06cc\u0631\u0647 \u062a\u063a\u06cc\u06cc\u0631\u0627\u062a"]})}),Object(m.jsx)(_.a,{lg:6,md:12,children:Object(m.jsxs)(L.a,{block:!0,variant:"outline-warning text-secondary",onClick:function(){Q()},children:[Object(m.jsx)("i",{className:"fa fa-floppy-o px-3","aria-hidden":"true"}),"\u0644\u063a\u0648 \u0648\u06cc\u0631\u0627\u06cc\u0634"]})})]}):Object(m.jsxs)(L.a,{block:!0,variant:"success",onClick:$,children:[Object(m.jsx)("i",{className:"fa fa-floppy-o px-3","aria-hidden":"true"}),"\u0627\u06cc\u062c\u0627\u062f \u0627\u0637\u0644\u0627\u0639\u06cc\u0647"]})})]})}),Object(m.jsx)(_.a,{lg:6,md:7,sm:12,children:Object(m.jsxs)(W.a,{border:"info",bg:"transparent",className:"mx-auto notice-manager-card",children:[Object(m.jsx)(W.a.Header,{className:"text-center",children:"\u0627\u0637\u0644\u0627\u0639\u06cc\u0647 \u0647\u0627\u06cc \u0642\u0628\u0644\u06cc"}),Object(m.jsx)(W.a.Body,{style:{overflowY:"scroll"},className:"text-right",children:R.map((function(e){return Object(m.jsxs)(c.Fragment,{children:[Object(m.jsxs)(fe.a,{variant:"secondary",children:[Object(m.jsx)("i",{className:"fa fa-info-circle px-3","aria-hidden":"true"}),Object(m.jsx)("span",{style:{color:"red",fontSize:"18px"},children:e.title}),": ",e.text,Object(m.jsx)("i",{className:"icon-edit-notice fa fa-pencil-square-o px-3","aria-hidden":"true",onClick:function(){return function(e){U(e._id),u(e.title),f(e.text),N(new Date(e.startDate)),D(new Date(e.endDate))}(e)}})]}),Object(m.jsx)("hr",{})]})}))})]})})]})})},Se=(a(105),a(33)),we=function(e,t,a,n){var r=n.sent,c=n.recieved;return function(){var n=Object(v.a)(g.a.mark((function n(s,i){var o;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,o=Object(Se.a)(i().chats),console.log("recieve update"),o.find((function(e){return e.with===t})).messages.push({name:e,me:r?a:null,friend:c?a:null,date:new Date}),n.next=6,s({type:"LOAD_CHATS",payload:o});case 6:n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e,t){return n.apply(this,arguments)}}()},Ce=function(e,t,a){return function(){var n=Object(v.a)(g.a.mark((function n(r){return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!(a&&t&&e)){n.next=8;break}return n.next=4,r({type:"SEND_MESSAGE",payload:{name:e,friendID:t,text:a}});case 4:return n.next=6,r(we(e,t,a,{sent:!0}));case 6:n.next=9;break;case 8:console.log("msg not sent: data missing...");case 9:n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),console.log(n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}()},ke=function(e){var t=e.msg,a=e.previousDay,n=t.date,r=Object(c.useState)(!1),s=Object(h.a)(r,2),i=s[0],o=s[1],l=Object(c.useState)(null),u=Object(h.a)(l,2),d=u[0],j=u[1],b=Object(c.useState)(null),x=Object(h.a)(b,2),f=x[0],p=x[1];return Object(c.useEffect)((function(){var e=ae(n),t=Object(h.a)(e,2),r=t[0],c=t[1];j(c),p(r),o(new Date(n).getDate()!==a||0===a)}),[n,a]),Object(m.jsxs)(c.Fragment,{children:[i?Object(m.jsxs)(c.Fragment,{children:[Object(m.jsx)("hr",{}),Object(m.jsx)("p",{className:"message-date",children:f})]}):null,Object(m.jsxs)(G.a,{children:[Object(m.jsx)(_.a,{md:6,sm:t.me?8:4,xs:t.me?9:3,children:t.me&&Object(m.jsx)(fe.a,{className:"text-right",variant:"dark",children:Object(m.jsxs)(G.a,{children:[Object(m.jsx)(_.a,{lg:9,xs:12,children:t.me}),Object(m.jsx)(_.a,{className:"message-time",lg:3,xs:12,children:d})]})})}),Object(m.jsx)(_.a,{md:6,sm:t.friend?8:4,xs:t.friend?9:3,children:t.friend&&Object(m.jsx)(fe.a,{className:"text-right",variant:"primary",children:Object(m.jsxs)(G.a,{children:[Object(m.jsx)(_.a,{lg:9,xs:12,children:t.friend}),Object(m.jsx)(_.a,{className:"message-time",lg:3,xs:12,children:d})]})})})]})]})},Te=function(e){var t=e.friendID,a=Object(c.useState)(""),n=Object(h.a)(a,2),r=n[0],s=n[1],o=Object(l.d)((function(e){return e.message})),u=Object(l.c)(),d=Object(l.d)((function(e){return e.me})),j=Object(c.useRef)(null),b=Object(l.d)((function(e){return e.chats})),x=Object(c.useState)([]),f=Object(h.a)(x,2),p=f[0],O=f[1];Object(c.useEffect)((function(){var e=b.find((function(e){return e.with===t}));O(e&&e.messages?e.messages:[])}),[b,t]);return Object(c.useEffect)((function(){var e=o.recieved;!o.sent&&e&&e.friendID===t&&setTimeout((function(){j&&j.current&&j.current.scrollIntoView({behavior:"smooth",top:j.current.offsetTop})}),100)}),[o,p,t,u]),Object(m.jsx)(Y.a.Pane,{eventKey:t,children:Object(m.jsxs)(i.a,{children:[Object(m.jsx)(G.a,{children:Object(m.jsx)(W.a,{border:"dark",bg:"transparent",className:"big-single-card chat-box-scrollable",children:Object(m.jsx)(W.a.Body,{children:p&&p instanceof Array&&p.map((function(e,t){return Object(m.jsx)("div",{ref:j,children:Object(m.jsx)(ke,{msg:e,previousDay:0!==t?new Date(p[t-1].date).getDate():0})})}))})})}),Object(m.jsx)(G.a,{children:Object(m.jsx)(he.a,{onSubmit:function(e){return function(e){e.preventDefault(),r&&(u(Ce(d.fullname,t,r)),s(""),j&&j.current&&setTimeout((function(){j.current.scrollIntoView({behavior:"smooth",top:j.current.offsetTop})}),100))}(e)},className:"w-100 mt-3",children:Object(m.jsxs)(G.a,{className:"w-100 p-0 m-0",children:[Object(m.jsx)(_.a,{xs:1,className:"m-0 p-0 text-center",children:Object(m.jsx)(L.a,{type:"submit",className:"w-100 mx-auto",variant:"outline-info",children:Object(m.jsx)("i",{className:"fa fa-paper-plane","aria-hidden":"true"})})}),Object(m.jsx)(_.a,{xs:11,className:"m-0 p-0 w-100",children:Object(m.jsx)(he.a.Control,{className:"p-0 w-100 bg-transparent chat-room-message-box\r mx-auto text-right",value:r,onChange:function(e){return s(e.target.value)},placeholder:"\u067e\u06cc\u0627\u0645..."})})]})})})]})})},De=function(){var e=Object(c.useContext)(d),t=Object(l.d)((function(e){return e.friends}));return Object(m.jsxs)(W.a,{border:"secondary",bg:"transparent",className:"chat-main-card",children:[Object(m.jsx)(W.a.Header,{className:"text-center",children:"\u0686\u062a \u0631\u0648\u0645 \u0634\u0645\u0627"}),Object(m.jsx)(W.a.Body,{children:Object(m.jsx)(Y.a.Container,{children:Object(m.jsxs)(G.a,{children:[Object(m.jsx)(_.a,{className:e.device!==j.Devices.SmartPhone?"chat-room-devider chat-scrollable-friends":"smartphone-chat-scrollable-friends",lg:3,md:3,sm:12,children:Object(m.jsx)(o.a,{variant:"pills",className:"flex-column text-right",children:t.map((function(e){return Object(m.jsx)(o.a.Item,{children:Object(m.jsx)(o.a.Link,{eventKey:e.ID,children:e.name})})}))})}),Object(m.jsx)(_.a,{lg:9,md:9,sm:12,children:Object(m.jsx)(Y.a.Content,{children:t.map((function(e){return Object(m.jsx)(Te,{friendID:e.ID})}))})})]})})})]})},Ee=0,Ie=1,Re=2,Pe=function(){var e=Object(c.useState)(""),t=Object(h.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(""),s=Object(h.a)(r,2),i=s[0],o=s[1],l=Object(c.useState)(""),u=Object(h.a)(l,2),j=u[0],x=u[1],f=Object(c.useState)(""),p=Object(h.a)(f,2),O=p[0],y=p[1],N=Object(c.useState)(""),C=Object(h.a)(N,2),k=C[0],T=C[1],D=Object(c.useState)(Ee),I=Object(h.a)(D,2),R=I[0],P=I[1],A=Object(c.useState)(!1),M=Object(h.a)(A,2),F=M[0],U=M[1],q=Object(c.useState)(""),B=Object(h.a)(q,2),H=B[0],K=B[1],z=Object(c.useState)(""),J=Object(h.a)(z,2),Y=J[0],X=J[1],Q=Object(c.useContext)(d);Object(c.useEffect)((function(){Object(v.a)(g.a.mark((function e(){var t,a,r,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,T(!0),e.next=4,E.getMyCredentials();case 4:t=e.sent,a=t.status,r=t.data,a===b.a.Status.Successful&&(c=r.me,n(c.fullname),o(c.studentID),x(c.email)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),b.a.Status.isErrorExpected(e.t0)||Error("\u062d\u06cc\u0646 \u062f\u0631\u06cc\u0627\u0641\u062a \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u06a9\u0627\u0631\u0628\u0631 \u0627\u06cc\u0631\u0627\u062f\u06cc \u067e\u06cc\u0634 \u0622\u0645\u062f. ... \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u062a\u0644\u0627\u0634 \u06a9\u0646\u06cc\u062f."),T(!1);case 14:T(!1);case 15:case"end":return e.stop()}}),e,null,[[0,10]])})))()}),[F]);var Z=function(){var e=Object(v.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(!0),e.prev=1,e.next=4,E.editMyCredentials({studentID:i,fullname:a,email:j,password:O});case 4:t=e.sent,t.status===b.a.Status.Successful&&(w("\u062a\u063a\u06cc\u06cc\u0631\u0627\u062a \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u0627\u0639\u0645\u0627\u0644 \u0634\u062f"),T(!1),P(Ee),U(!F)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),b.a.Status.isErrorExpected(e.t0)||Error("\u062e\u0637\u0627\u06cc\u06cc \u062f\u0631 \u0630\u062e\u06cc\u0631\u0647 \u062a\u063a\u06cc\u06cc\u0631\u0627\u062a \u0628\u0648\u062c\u0648\u062f \u0627\u0645\u062f ... \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u062a\u0644\u0627\u0634 \u06a9\u0646\u06cc\u062f",{position:"top-left",closeOnClick:!0});case 12:T(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(v.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(!0),e.prev=1,e.next=4,E.changeMyPassword({studentID:i,password:O,newPassword:H});case 4:t=e.sent,t.status===b.a.Status.Successful&&(w("\u0631\u0645\u0632 \u0634\u0645\u0627 \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u062a\u063a\u06cc\u06cc\u0631 \u062f\u0627\u062f\u0647 \u0634\u062f"),Q.signOut()),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),b.a.Status.isErrorExpected(e.t0)||S("\u062e\u0637\u0627\u06cc\u06cc \u062f\u0631 \u0630\u062e\u06cc\u0631\u0647 \u062a\u063a\u06cc\u06cc\u0631\u0627\u062a \u0628\u0648\u062c\u0648\u062f \u0627\u0645\u062f ... \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u062a\u0644\u0627\u0634 \u06a9\u0646\u06cc\u062f");case 12:T(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();return Object(m.jsx)(c.Fragment,{children:Object(m.jsxs)(W.a,{border:"secondary",bg:"transparent",className:"big-single-card",children:[Object(m.jsx)(W.a.Header,{className:"text-center",children:Object(m.jsxs)(G.a,{className:"w-100 mx-auto",children:[Object(m.jsx)(_.a,{children:Object(m.jsxs)(L.a,{block:!0,onClick:function(){return P(Ee)},variant:"".concat(R?"outline-secondary":"outline-primary"),children:[R===Ee&&Object(m.jsx)("i",{className:"fa fa-dot-circle-o px-2","aria-hidden":"true"}),"\u0641\u0642\u0637 \u0645\u0634\u0627\u0647\u062f\u0647"]})}),Object(m.jsx)(_.a,{children:Object(m.jsxs)(L.a,{block:!0,onClick:function(){return P(Ie)},variant:"".concat(R===Ie?"outline-primary":"outline-secondary"),children:[R===Ie&&Object(m.jsx)("i",{className:"fa fa-dot-circle-o px-2","aria-hidden":"true"}),"\u0648\u06cc\u0631\u0627\u06cc\u0634"]})}),Object(m.jsx)(_.a,{children:Object(m.jsxs)(L.a,{block:!0,onClick:function(){return P(Re)},variant:"".concat(R===Re?"outline-primary":"outline-secondary"),children:[R===Re&&Object(m.jsx)("i",{className:"fa fa-dot-circle-o px-2","aria-hidden":"true"}),"\u062a\u063a\u06cc\u06cc\u0631 \u0631\u0645\u0632 \u0639\u0628\u0648\u0631"]})})]})}),Object(m.jsxs)(he.a,{onSubmit:function(e){return function(e){switch(e.preventDefault(),R){case Ie:return void Z();case Re:return void $();default:return}}(e)},children:[Object(m.jsxs)(W.a.Body,{className:"w-75 text-center mx-auto",children:[Object(m.jsx)(V,{loading:k}),R!==Re&&Object(m.jsxs)(c.Fragment,{children:[Object(m.jsxs)(he.a.Group,{className:"form-inline",children:[Object(m.jsx)(he.a.Label,{className:"w-25",children:"\u0634\u0645\u0627\u0631\u0647 \u062f\u0627\u0646\u0634\u062c\u0648\u06cc\u06cc"}),Object(m.jsx)(he.a.Control,{type:"text",disabled:!0,className:"account-info-textbox w-75",placeholder:"Student ID",value:i})]}),Object(m.jsxs)(he.a.Group,{className:"form-inline",children:[Object(m.jsx)(he.a.Label,{className:"w-25",children:"\u0646\u0627\u0645 \u06a9\u0627\u0631\u0628\u0631"}),Object(m.jsx)(he.a.Control,{disabled:!R,type:"text",className:"account-info-textbox w-75",pattern:"[\u0622-\u06cc ]{6,}",onInput:function(e){return e.target.setCustomValidity("")},onInvalid:function(e){return e.target.setCustomValidity("\u0646\u0627\u0645 \u062e\u0627\u0646\u0648\u0627\u062f\u06af\u06cc \u0628\u0627\u06cc\u062f \u0628\u0627 \u062d\u0631\u0648\u0641 \u0641\u0627\u0631\u0633\u06cc \u0648 \u0628\u0627 \u062d\u062f\u0627\u0642\u0644 \u0637\u0648\u0644 \u0633\u0647 \u062d\u0631\u0641 \u0628\u0627\u0634\u062f")},placeholder:"Full Name",value:a,required:"required",onChange:function(e){return n(e.target.value)}})]}),Object(m.jsxs)(he.a.Group,{className:"form-inline",children:[Object(m.jsx)(he.a.Label,{className:"w-25",children:"\u0627\u06cc\u0645\u06cc\u0644"}),Object(m.jsx)(he.a.Control,{type:"email",disabled:!R,pattern:".{6,}",onInput:function(e){return e.target.setCustomValidity("")},onInvalid:function(e){return e.target.setCustomValidity("\u0648\u0631\u0648\u062f\u06cc \u0628\u0627\u06cc\u062f \u0641\u0631\u0645\u062a \u0645\u0639\u062a\u0628\u0631 \u0627\u06cc\u0645\u06cc\u0644 \u0631\u0627 \u0631\u0639\u0627\u06cc\u062a \u06a9\u0631\u062f\u0647 \u0648 \u062d\u062f\u0627\u0642\u0644 6 \u06a9\u0627\u0631\u0627\u06a9\u062a\u0631 \u0628\u0627\u0634\u062f")},className:"account-info-textbox w-75",placeholder:"E-mail",value:j,required:"required",onChange:function(e){return x(e.target.value)}})]})]}),R!==Ee&&Object(m.jsxs)(he.a.Group,{className:"form-inline",children:[Object(m.jsx)(he.a.Label,{className:"w-25",children:"\u0631\u0645\u0632 \u0639\u0628\u0648\u0631 ".concat(R===Re?"\u0641\u0639\u0644\u06cc":"")}),Object(m.jsx)(he.a.Control,{type:"password",className:"account-info-textbox w-75",placeholder:"Password",value:O,onChange:function(e){return y(e.target.value)}})]}),R===Re&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(he.a.Group,{className:"form-inline",children:[Object(m.jsx)(he.a.Label,{className:"w-25",children:"\u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u062c\u062f\u06cc\u062f"}),Object(m.jsx)(he.a.Control,{type:"password",pattern:".{6,15}",onInput:function(e){return e.target.setCustomValidity("")},onInvalid:function(e){return e.target.setCustomValidity("\u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u0628\u0627\u06cc\u062f \u062d\u062f\u0627\u0642\u0644 6 \u06a9\u0627\u0631\u0627\u06a9\u062a\u0631 \u0648 \u062d\u062f\u0627\u06a9\u062b\u0631 15 \u06a9\u0627\u0631\u0627\u06a9\u062a\u0631 \u062f\u0627\u0634\u062a\u0647 \u0628\u0627\u0634\u062f")},className:"account-info-textbox w-75",placeholder:"New Password",value:H,required:"required",onChange:function(e){return K(e.target.value)}})]}),Object(m.jsxs)(he.a.Group,{className:"form-inline",children:[Object(m.jsx)(he.a.Label,{className:"w-25",children:"\u062a\u0627\u06cc\u06cc\u062f \u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u062c\u062f\u06cc\u062f"}),Object(m.jsx)(he.a.Control,{type:"password",className:"account-info-textbox w-75",placeholder:"Confirm New Password",value:Y,required:"required",onChange:function(e){return function(e){X(e.target.value),H!==e.target.value?e.target.setCustomValidity("\u062a\u0627\u06cc\u06cc\u062f \u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u062c\u062f\u06cc\u062f \u0628\u0627\u06cc\u062f \u0628\u0627 \u062e\u0648\u062f \u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u062c\u062f\u06cc\u062f \u0645\u0637\u0627\u0628\u0642\u062a \u06a9\u0627\u0645\u0644 \u062f\u0627\u0634\u062a\u0647 \u0628\u0627\u0634\u062f"):e.target.setCustomValidity("")}(e)}})]})]})]}),Object(m.jsx)(W.a.Footer,{children:Object(m.jsxs)(L.a,{type:"submit",disabled:!R,block:!0,variant:"success",className:"w-50 mx-auto",children:[Object(m.jsx)("i",{className:"fa fa-wrench px-2","aria-hidden":"true"}),"\u062b\u0628\u062a \u062a\u063a\u06cc\u06cc\u0631\u0627\u062a"]})})]})]})})},Ae=a(27),Ge=a(28),Le=a(31),Me=a(29),Fe=(a(151),function(e){Object(Le.a)(a,e);var t=Object(Me.a)(a);function a(){var e;Object(Ae.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={studentID:"",password:"",loading:!1},e.onSignInSubmitted=function(){var t=Object(v.a)(g.a.mark((function t(a){var n,r,c,s,i,o,l;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),e.setState({loading:!0}),n=e.state,r=n.studentID,c=n.password,s={studentID:Number(r),password:c},t.prev=4,t.next=7,E.signIn(s);case 7:i=t.sent,o=i.status,l=i.data,o===b.a.Status.Successful&&(console.log(l),j.browserStorage.save(l.token),e.props.history.replace("/")),t.next=18;break;case 13:t.prev=13,t.t0=t.catch(4),console.log(t.t0),e.setState({password:""}),b.a.Status.isErrorExpected(t.t0)||S(".\u0648\u0631\u0648\u062f \u0628\u0627 \u0645\u0634\u06a9\u0644 \u0631\u0648 \u0628\u0647 \u0631\u0648 \u0634\u062f. \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u062a\u0644\u0627\u0634 \u06a9\u062a\u0646\u06cc\u062f.");case 18:e.setState({loading:!1});case 19:case"end":return t.stop()}}),t,null,[[4,13]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(Ge.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.studentID,n=t.password,r=t.loading;return Object(m.jsxs)(W.a,{border:"primary",className:"sign-in-sidebar",children:[Object(m.jsx)(W.a.Header,{border:"primary",className:"text-center text-primary",children:"\u0648\u0631\u0648\u062f \u06a9\u0627\u0631\u0628\u0631\u0627\u0646"}),Object(m.jsx)(V,{loading:r}),Object(m.jsx)(W.a.Body,{className:"text-primary",children:Object(m.jsxs)(he.a,{onSubmit:function(t){return e.onSignInSubmitted(t)},children:[Object(m.jsx)(he.a.Control,{type:"text",autoComplete:"username",className:"sign-in-sidebar-textBox",placeholder:"\u0634\u0645\u0627\u0631\u0647 \u062f\u0627\u0646\u0634\u062c\u0648\u06cc\u06cc",value:a,onChange:function(t){return e.setState({studentID:t.target.value})}}),Object(m.jsx)("br",{}),Object(m.jsx)(he.a.Control,{type:"password",autoComplete:"current-password",className:"sign-in-sidebar-textBox",placeholder:"\u0631\u0645\u0632 \u0639\u0628\u0648\u0631",value:n,onChange:function(t){return e.setState({password:t.target.value})}}),Object(m.jsx)("br",{}),Object(m.jsx)(W.a.Footer,{className:"bg-transparent border-primary",children:Object(m.jsxs)(G.a,{children:[Object(m.jsx)(_.a,{lg:6,children:Object(m.jsx)(L.a,{type:"submit",variant:"success",className:"sign-in-sidebar-buttons",children:Object(m.jsx)("i",{className:"fa fa-sign-in px-3","aria-hidden":"true"})})}),Object(m.jsx)(_.a,{lg:6,children:Object(m.jsx)(L.a,{className:"sign-in-sidebar-buttons",variant:"warning",children:Object(m.jsx)("i",{className:"fa fa-recycle px-3","aria-hidden":"true"})})})]})})]})})]})}}]),a}(c.Component)),_e=Object(p.f)(Fe),Ue=a(248),qe=function(){var e=Object(c.useState)([]),t=Object(h.a)(e,2),a=t[0],n=t[1];return Object(c.useEffect)((function(){Object(v.a)(g.a.mark((function e(){var t,a,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ve.getShortNotices();case 3:t=e.sent,a=t.status,r=t.data,a===b.a.Status.Successful&&(r.notices.length&&n(r.notices.reverse()),0===r.notices.length&&n([{title:"\u067e\u06cc\u0627\u0645",text:"\u0627\u0637\u0644\u0627\u0639\u06cc\u0647 \u062c\u062f\u06cc\u062f\u06cc \u0648\u062c\u0648\u062f \u0646\u062f\u0627\u0631\u062f"}])),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),n([{title:"\u062e\u0637\u0627",text:"...\u0645\u0634\u06a9\u0644\u06cc \u062d\u06cc\u0646 \u0628\u0627\u0631\u06af\u0630\u0627\u0631\u06cc \u0627\u0637\u0644\u0627\u0639\u06cc\u0647 \u0647\u0627 \u067e\u06cc\u0634 \u0622\u0645\u062f. \u062f\u0648\u0628\u0627\u0631\u0647 \u0627\u0645\u062a\u062d\u0627\u0646 \u06a9\u0646\u06cc\u062f"}]);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()}),[]),Object(m.jsxs)(W.a,{className:"notice-sidebar",border:"success",children:[Object(m.jsx)(W.a.Header,{className:"text-center text-success",children:"\u0627\u0637\u0644\u0627\u0639\u06cc\u0647 \u0647\u0627"}),Object(m.jsx)(W.a.Body,{className:"text-right",children:a.length&&a.map((function(e){return Object(m.jsxs)(c.Fragment,{children:[Object(m.jsxs)(fe.a,{variant:"info",children:[Object(m.jsx)("i",{className:"fa fa-rss px-3","aria-hidden":"true"}),Object(m.jsx)("span",{style:{color:"red",fontSize:"18px"},children:e.title}),": ",e.text]}),Object(m.jsx)("hr",{})]},Object(Ue.a)())}))})]})},Be=a.p+"static/media/no-avatar.5e7c913e.png",He=function(){var e=Object(l.d)((function(e){return e.statistics})),t=e.players,a=e.games;return Object(m.jsxs)(ce.a,{className:"list-group list-group-flush",children:[Object(m.jsx)(ce.a.Item,{className:"bg-transparent",children:Object(m.jsxs)(G.a,{children:[Object(m.jsx)(_.a,{children:Object(m.jsxs)(W.a.Text,{className:"text-center",children:[Object(m.jsx)("i",{className:"fa fa-wifi px-2","aria-hidden":"true"}),"\u06a9\u0627\u0631\u0628\u0631\u0627\u0646 \u0622\u0646\u0644\u0627\u06cc\u0646"]})}),Object(m.jsx)(_.a,{children:Object(m.jsx)(oe.a,{className:"player-badge-font-size",variant:"success",pill:!0,children:t})})]})}),Object(m.jsx)(ce.a.Item,{className:"bg-transparent",children:Object(m.jsxs)(G.a,{children:[Object(m.jsx)(_.a,{children:Object(m.jsxs)(W.a.Text,{className:"text-center",children:[Object(m.jsx)("i",{className:"fa fa-gamepad px-2","aria-hidden":"true"}),"\u0628\u0627\u0632\u06cc \u0647\u0627\u06cc \u0641\u0639\u0627\u0644"]})}),Object(m.jsx)(_.a,{children:Object(m.jsx)(oe.a,{className:"player-badge-font-size",variant:"success",pill:!0,children:a})})]})})]})},Ke=function(e){var t=e.friendID,a=Object(c.useState)(""),n=Object(h.a)(a,2),r=n[0],s=n[1],i=Object(l.d)((function(e){return e.message})),o=Object(l.c)(),u=Object(l.d)((function(e){return e.me}));return Object(m.jsxs)(he.a,{onSubmit:function(e){return function(e){r&&(e.preventDefault(),o(Ce(u.fullname,t,r)),s(""))}(e)},children:[Object(m.jsx)(G.a,{className:"w-100 mt-3 mx-auto",children:Object(m.jsx)(fe.a,{className:"w-100 text-right",variant:"info",children:i&&i.recieved?i.recieved.text:Object(m.jsx)("p",{className:"p-1",children:" "})})}),Object(m.jsxs)(G.a,{className:"w-100 p-0 m-0",children:[Object(m.jsx)(_.a,{xs:1,className:"m-0 p-0 text-center",children:Object(m.jsx)(L.a,{type:"submit",className:"w-100 mx-auto",variant:"outline-info",children:Object(m.jsx)("i",{className:"fa fa-paper-plane","aria-hidden":"true"})})}),Object(m.jsx)(_.a,{xs:11,className:"m-0 p-0 w-100",children:Object(m.jsx)(he.a.Control,{className:"p-0 w-100 bg-transparent chat-room-message-box\r mx-auto text-right",value:r,onChange:function(e){return s(e.target.value)},placeholder:"\u067e\u06cc\u0627\u0645..."})})]})]})},Ve=function(e){var t=Object(l.d)((function(e){return e.me})),a=Object(l.d)((function(e){return e.scoreboard})),n=Object(l.c)(),r=Object(c.useState)(!1),s=Object(h.a)(r,2),i=s[0],o=s[1],u=e.person?e.person:t,d=function(e){var t;e.target.innerHTML="\u0627\u0631\u0633\u0627\u0644 \u0634\u062f...",e.target.disabled=!0,n((t=u.userID,function(){var e=Object(v.a)(g.a.mark((function e(a,n){var r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Object(de.a)({},n())).friendRequestTarget=t,e.next=4,a({type:"UPDATE_TOOLS",payload:r});case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()))},j=Object(c.useState)(null),x=Object(h.a)(j,2),f=x[0],p=x[1];if(Object(c.useEffect)((function(){console.log(a),p(t&&u.userID!==t.userID?a.opp:a.me)}),[u,t,a]),Object(c.useEffect)((function(){t&&u.userID!==t.userID&&Object(v.a)(g.a.mark((function e(){var t,a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.isMyFriend(u.userID);case 3:t=e.sent,a=t.status,n=t.data,a===b.a.Status.Successful&&o(n.isFriend),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()}),[t,u]),!u)return null;var O=u.records;return Object(m.jsxs)(W.a,{border:"info",className:"player-info-sidebar",children:[Object(m.jsxs)(W.a.Header,{className:"text-center text-info form-inline",children:[Object(m.jsx)(_.a,{children:Object(m.jsx)(W.a.Text,{className:"text-left",children:u.fullname})}),Object(m.jsx)(_.a,{children:Object(m.jsx)(ue.a,{style:{margin:"auto",textAlign:"center"},size:"60",round:!0,src:Be})})]}),Object(m.jsx)(W.a.Body,{children:Object(m.jsxs)(ce.a,{className:"list-group list-group-flush",children:[f&&Object(m.jsx)(ce.a.Item,{children:Object(m.jsx)(fe.a,{variant:f.index?"danger":"primary",children:Object(m.jsxs)(fe.a.Heading,{className:"text-center",children:[f.score," : ",f.shape]})})}),Object(m.jsx)(le,{small:!0,title:"\u0627\u0645\u062a\u06cc\u0627\u0632 \u0628\u0627\u0632\u06cc\u06a9\u0646",children:O.points}),Object(m.jsx)(le,{small:!0,title:"\u062a\u0639\u062f\u0627\u062f \u0628\u0631\u062f\u0647\u0627",children:O.wins}),Object(m.jsx)(le,{small:!0,title:"\u062a\u0639\u062f\u0627\u062f \u062a\u0633\u0627\u0648\u06cc",children:O.draws}),Object(m.jsx)(le,{small:!0,title:"\u062a\u0639\u062f\u0627\u062f \u0628\u0627\u062e\u062a\u0647\u0627",children:O.loses})]})}),Object(m.jsx)(W.a.Footer,{children:t===u?Object(m.jsx)(He,{}):i?Object(m.jsx)(Ke,{friendID:u.userID}):Object(m.jsxs)(L.a,{variant:"outline-info",block:!0,onClick:function(e){return d(e)},children:[Object(m.jsx)("i",{className:"fa fa-handshake-o px-2","aria-hidden":"true"}),"\u062f\u0631\u062e\u0648\u0627\u0633\u062a \u062f\u0648\u0633\u062a\u06cc"]})})]})},ze=Object(p.f)((function(e){var t=Object(c.useContext)(d),a=e.location.pathname,n=Object(l.d)((function(e){return e.me})),r=Object(l.d)((function(e){return e.opponent})),s=Object(c.useState)(null),o=Object(h.a)(s,2),u=o[0],b=o[1],x=Object(c.useState)(null),f=Object(h.a)(x,2),p=f[0],O=f[1];Object(c.useEffect)((function(){b(Object(m.jsx)(qe,{}))}),[]);var g=t.device;return Object(c.useEffect)((function(){console.log("sidebar manager called");var e=function(){g!==j.Devices.Tablet?O(n?Object(m.jsx)(Ve,{}):Object(m.jsx)(_e,{})):O(null)};a===j.Routes.Client.SignUp?(O(null),b(null)):a===j.Routes.Client.GameDeck?(e(),r&&(g!==j.Devices.SmartPhone?b(Object(m.jsx)(Ve,{person:r})):(b(null),O(null)))):(b(Object(m.jsx)(qe,{})),e())}),[n,r,a,g]),Object(m.jsxs)(c.Fragment,{children:[Object(m.jsx)(U,{}),t.device!==j.Devices.SmartPhone?Object(m.jsxs)(G.a,{className:"w-100 mx-auto",children:[p&&Object(m.jsx)(_.a,{md:3,children:p}),Object(m.jsx)(_.a,{className:"mx-auto",md:a!==j.Routes.Client.SignUp?null:7,children:e.children}),u&&Object(m.jsx)(_.a,{md:t.device!==j.Devices.Tablet?3:4,children:u})]}):Object(m.jsxs)(i.a,{children:[n?Object(m.jsx)(G.a,{className:"w-100 mx-auto",children:p}):null,Object(m.jsx)(G.a,{className:"w-100 mx-auto",children:u}),Object(m.jsx)(G.a,{className:"w-100 mx-auto",children:e.children})]})]})})),Je=(a(152),function(e,t,a){return JSON.stringify({request:e,rname:t,token:j.browserStorage.TOKEN(),msg:a})}),We=function(e,t){return new Promise((function(a,n){var r=new WebSocket("".concat(j.Routes.Server.WebSocketRoot,"/").concat(j.Routes.Server.wsGamePlayRoute));r.onopen=function(){r.send(Je("join",e,t)),a(r)},r.onerror=function(e){r.close(),n(e)},r.onclose=function(){a(null)}}))};var Ye=function(e){return Object(l.b)((function(e){return{me:e.me,opponent:e.opponent,room:e.room,scoreboard:e.scoreboard,tools:e.tools}}),(function(e){return{LoadThisPlayer:function(t){return e(function(e){return function(){var t=Object(v.a)(g.a.mark((function t(a){var n,r,c;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=20;break}return t.prev=1,t.next=4,E.getPlayer(e);case 4:if(n=t.sent,r=n.data,n.status!==j.Status.Successful){t.next=11;break}return c=r.player,t.next=11,a({type:"LOAD_OPPONENT",payload:c});case 11:t.next=18;break;case 13:return t.prev=13,t.t0=t.catch(1),console.log(t.t0),t.next=18,a(I());case 18:t.next=22;break;case 20:return t.next=22,a(I());case 22:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e){return t.apply(this,arguments)}}()}(t))},ResetOpponent:function(){return e(I())},EnterRoom:function(t){return e(P(t))},ExitRoom:function(){return e(function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({type:"EXIT_ROOM"});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},UpdateScoreboard:function(t){return e(function(e){return function(){var t=Object(v.a)(g.a.mark((function t(a){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a({type:"UPDATE_SCOREBOARD",payload:e});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},CleanScoreboard:function(){return e(function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({type:"CLEAN_SCOREBOARD"});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}}))(e)},Xe=function(e){var t=e.timeRemaining,a=e.players,n=Object(c.useState)(null),r=Object(h.a)(n,2),s=r[0],i=r[1],o=j.GameSetting.T3D.TurnTimeOut/3;return Object(c.useEffect)((function(){var e=null,a=null;t?t>=o?(e="text-success",a=Object(m.jsx)("i",{className:"fa fa-hourglass-start px-2","aria-hidden":"true"})):(e="text-danger",a=Object(m.jsx)("i",{className:"fa fa-hourglass-half px-2","aria-hidden":"true"})):(e="text-dark",a=Object(m.jsx)("i",{className:"fa fa-hourglass-end px-2","aria-hidden":"true"})),i(Object(m.jsxs)("div",{className:e,children:[a,t]}))}),[t,o]),Object(m.jsx)(W.a.Header,{className:"w-100 text-center",children:Object(m.jsxs)(G.a,{style:{fontSize:"20px"},children:[Object(m.jsxs)(_.a,{style:{textAlign:"right",color:a[1].color},children:[a[1].shape," : ",a[1].score]}),Object(m.jsx)(_.a,{children:s}),Object(m.jsxs)(_.a,{style:{textAlign:"left",color:a[0].color},children:[a[0].score," : ",a[0].shape]})]})})},Qe=function(e){for(var t=e.timeRemaining,a=e.dimension,n=e.players,r=e.table,s=e.onEachCellClick,i=e.normalCell,o=[],l=0;l<a;l++)o.push(l);return Object(m.jsxs)(W.a,{bg:"transparent",border:"dark",className:"w-100 mx-auto",children:[Object(m.jsx)(Xe,{timeRemaining:t,players:n}),Object(m.jsx)(W.a.Body,{className:"game-border-card",children:r?o.map((function(e){return Object(m.jsxs)(c.Fragment,{children:[o.map((function(t){return Object(m.jsx)(G.a,{style:{direction:"ltr",marginLeft:"".concat(j.GameSetting.T3D.TableRowMargings[t],"px")},children:o.map((function(c){return Object(m.jsx)(L.a,{variant:i,className:"game-table-cells",style:null!==r[e][t][c]?{color:n[r[e][t][c]].color}:null,id:e*a*a+t*a+c,onClick:function(e){return s(e)},children:null!==r[e][t][c]&&n[r[e][t][c]].shape},e*a*a+t*a+c)}))})})),Object(m.jsx)("br",{})]})})):Object(m.jsx)("p",{className:"text-center",children:" \u062f\u0631 \u062d\u0627\u0644 \u0627\u062a\u0635\u0627\u0644... "})})]})},Ze=function(e){Object(Le.a)(a,e);var t=Object(Me.a)(a);function a(){var e;return Object(Ae.a)(this,a),(e=t.call(this)).state={normalCell:"outline-dark",players:[{shape:Object(m.jsx)("i",{className:"fa fa-times","aria-hidden":"true"}),color:"blue",selected:"warning",lineColor:"primary",score:0},{shape:Object(m.jsx)("i",{className:"fa fa-sun-o","aria-hidden":"true"}),color:"darkred",selected:"warning",lineColor:"danger",score:0}],turn:0,dimension:3,table:null,myTurn:void 0,gameID:null,socketGamePlay:void 0,playerOnline:!0,timeRemaining:0,timerID:null,connectionCheckTimerID:null},e.updateGameScorebaord=function(){var t=e.state,a=t.myTurn,n=t.players,r=Number(!a);e.props.UpdateScoreboard({me:{index:a,shape:n[a].shape,score:n[a].score},opp:{index:r,shape:n[r].shape,score:n[r].score}})},e.enableTimerForMyMove=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j.GameSetting.T3D.TurnTimeOut;e.setState({timeRemaining:t}),clearInterval(e.state.timerID);var a=setInterval((function(){var t=e.state,a=t.timeRemaining,n=t.timerID;a<=0?clearInterval(n):e.setState({timeRemaining:e.state.timeRemaining-1})}),1e3);e.setState({timerID:a})},e.updatePlayerStates=function(t){var a=t.turn,n=t.xScore,r=t.oScore,c=Object(Se.a)(e.state.players);c[0].score=n,c[1].score=r,e.setState({players:c,turn:a}),e.updateGameScorebaord()},e.disableAllTimers=function(){var t=e.state,a=t.connectionCheckTimerID,n=t.timerID;clearTimeout(a),clearTimeout(n)},e.socketOnMessage=function(t){var a=t.data,n=JSON.parse(a),r=n.cmd,c=n.msg;if("START"===r){var s=te(c).format("hh:mm");k("\u0628\u0627\u0632\u06cc \u0631\u0627\u0633 \u0633\u0627\u0639\u062a ".concat(s," \u0622\u063a\u0627\u0632 \u0634\u062f."))}else if("GAME"===r){var i=c.IDs,o=c.dimension,l=c.myTurn;e.setState({dimension:o,myTurn:l});var u=i[Number(!l)],d=e.props,j=d.opponent,b=d.LoadThisPlayer;!j&&u&&b(u)}else if("LOAD"===r){e.updatePlayerStates(c);var m=c.table;e.setState({table:m}),e.updateGameScorebaord()}else if("TIMER"===r)console.log("time updated: ",c),e.setState({timeRemaining:c}),clearTimeout(e.state.timerID),e.enableTimerForMyMove(c);else if("SCORES"===r)e.updatePlayerStates(c);else if("UPDATE"===r){var x=e.props.room,h=e.state.dimension,f=Number(c.nextMove);e.verifyAndApplyTheMove(e.getCellCoordinates(f,h),e.cellButtons[f]),e.updatePlayerStates(c),e.cellButtons[f].focus(),e.updateGameScorebaord(),e.state.socketGamePlay.send(Je("move_recieved",x.name,!0)),e.enableTimerForMyMove()}else if("MOVE_MISSED"===r){var p=e.state.myTurn;e.setState({turn:c}),c===p&&e.enableTimerForMyMove()}else"NOT_AUTHORIZED"===r?S("\u0646\u0634\u0633\u062a \u0634\u0645\u0627 \u0645\u0646\u0642\u0636\u06cc \u0634\u062f\u0647\u060c \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u0648\u0627\u0631\u062f \u062d\u0633\u0627\u0628 \u06a9\u0627\u0631\u0628\u0631\u06cc \u062e\u0648\u062f \u0634\u0648\u06cc\u062f"):"END"===r?(e.updatePlayerStates(c),e.endThisGame(),e.disableAllTimers()):"CLOSE"===r?(k("\u0628\u062f\u0644\u06cc\u0644 \u062d\u0627\u0636\u0631 \u0646\u0628\u0648\u062f\u0646 \u0647\u06cc\u0686 \u06a9\u062f\u0627\u0645 \u0627\u0632 \u0628\u0627\u0632\u06cc\u06a9\u06cc\u0646\u0627\u0646\u060c \u0628\u0627\u0632\u06cc \u0634\u0645\u0627 \u06a9\u0646\u0633\u0644 \u0634\u062f"),e.closeThisGame()):console.log("wrong socket request")},e.forceConnectWS=function(){var t=Object(v.a)(g.a.mark((function t(a){var n,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.room,t.prev=1,t.next=4,We(n.name,n.type);case 4:(r=t.sent).onmessage=e.socketOnMessage,e.setState({socketGamePlay:r}),a&&a(),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.log(t.t0),setTimeout((function(){console.log("rconnecting from GamePlay"),e.forceConnectWS(a)}),a?1e3:3e3);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}(),e.enableConnectionCheckTimer=function(){return setInterval((function(){window.navigator.onLine?e.state.playerOnline||(e.setState({playerOnline:!0}),e.forceConnectWS(null)):e.state.playerOnline&&e.setState({playerOnline:!1})}),2500)},e.getCellCoordinates=function(e,t){var a=e%(t*t);return{floor:Math.floor(e/(t*t)),row:Math.floor(a/t),column:a%t}},e.onEachCellClick=function(t){var a=e.state,n=a.dimension,r=a.turn,c=a.timerID,s=e.props,i=s.opponent,o=s.room;if(i)try{var l=t.target;if(e.state.turn!==e.state.myTurn)return void e.forceConnectWS(null);var u=e.getCellCoordinates(l.id,n);e.verifyAndApplyTheMove(u,l)&&(e.setState({turn:(r+1)%2}),e.forceConnectWS((function(){e.state.socketGamePlay.send(Je("move",o.name,l.id))})),clearInterval(c),e.setState({timeRemaining:0}))}catch(d){console.log(d)}},e.verifyAndApplyTheMove=function(t,a){var n=e.state,r=n.players,c=n.turn,s=n.normalCell,i=Object(Se.a)(e.state.table);return null===i[t.floor][t.row][t.column]&&(i[t.floor][t.row][t.column]=c,e.setState({table:i}),a.className="game-table-cells btn btn-".concat(r[c].selected),setTimeout((function(){a.className="game-table-cells btn btn-".concat(s)}),1e3),e.inspectAreaAroundTheCell(t.floor,t.row,t.column),!0)},e.inspectAreaAroundTheCell=function(t,a,n){for(var r=e.state,c=r.players,s=r.table,i=r.dimension,o=s[t][a][n],l=0,u=0,d=0,j=0,b=0,m=0,x=0,h=0;h<i;h++)s[t][a][h]===o&&l++,s[t][h][n]===o&&u++,s[h][a][n]===o&&x++,a===n&&(s[t][h][h]===o&&d++,a===t&&s[h][h][h]===o&&b++),a+n+1===i&&(s[t][h][i-h-1]===o&&j++,a===t&&s[h][h][i-h-1]===o&&m++);e.connectTheScoreLines(l,t*i*i+a*i,1,c[o],i),e.connectTheScoreLines(u,t*i*i+n,i,c[o],i),e.connectTheScoreLines(d,t*i*i,i+1,c[o],i),e.connectTheScoreLines(j,t*i*i+(i-1),i-1,c[o],i),e.connectTheScoreLines(b,0,i*(i+1)+1,c[o],i),e.connectTheScoreLines(m,i-1,i*(i+1)-1,c[o],i),e.connectTheScoreLines(x,a*i+n,i*i,c[o],i)},e.connectTheScoreLines=function(t,a,n,r,c){var s=e.state.normalCell;if(t===c)for(var i=function(t){e.cellButtons[a+t*n].className="game-table-cells btn btn-".concat(r.lineColor),setTimeout((function(){e.cellButtons[a+t*n].className="game-table-cells btn btn-".concat(s)}),1e3+100*t)},o=0;o<c;o++)i(o)},e.closeThisGame=function(){e.state.socketGamePlay.close(),e.setState({socketGamePlay:null}),setTimeout((function(){e.props.CleanScoreboard(),e.props.ResetOpponent(),e.props.ExitRoom(),e.props.history.replace("/")}),5e3)},e.endThisGame=function(){var t=e.state,a=t.players,n=t.myTurn,r=Number(!n);a[n].score>a[r].score?C("\u0634\u0645\u0627 \u0628\u0631\u0646\u062f\u0647 \u0634\u062f\u06cc\u062f \u0648 \u0633\u0647 \u0627\u0645\u062a\u06cc\u0627\u0632 \u06a9\u0633\u0628 \u06a9\u0631\u062f\u06cc\u062f"):a[n].score===a[r].score?C("\u0634\u0645\u0627 \u0645\u0633\u0627\u0648\u06cc \u0634\u062f\u06cc\u062f \u0648 \u06cc\u06a9 \u0627\u0645\u062a\u06cc\u0627\u0632 \u06a9\u0633\u0628 \u06a9\u0631\u062f\u06cc\u062f"):C("\u0634\u0645\u0627 \u0628\u0627\u062e\u062a\u06cc\u062f"),e.closeThisGame()},e.cellButtons=[],e}return Object(Ge.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.cellButtons=document.getElementsByClassName("game-table-cells");var t=this.props.room,a=this.state.myTurn;this.setState({dimension:t.type}),this.forceConnectWS((function(){e.state.socketGamePlay.send(Je("load",t.name,null)),e.state.socketGamePlay.send(Je("mytimer",t.name,a))})),this.setState({connectionCheckTimerID:this.enableConnectionCheckTimer()})}},{key:"componentWillUnmount",value:function(){this.disableAllTimers()}},{key:"render",value:function(){return Object(m.jsx)(Qe,{dimension:this.state.dimension,players:this.state.players,table:this.state.table,timeRemaining:this.state.timeRemaining,onEachCellClick:this.onEachCellClick,normalCell:this.state.normalCell})}}]),a}(c.Component),$e=Object(p.f)(Ye(Ze)),et=function(e){var t=e.friendlyGame,a=Object(c.useState)(""),n=Object(h.a)(a,2),r=n[0],s=n[1],i=Object(c.useState)(4),o=Object(h.a)(i,2),u=o[0],d=o[1],j=Object(l.d)((function(e){return e.me})),b=Object(c.useState)(!1),x=Object(h.a)(b,2),f=x[0],p=x[1],O=Object(l.c)();return Object(c.useEffect)((function(){return function(){p(!1)}}),[]),Object(m.jsxs)(c.Fragment,{children:[Object(m.jsx)(V,{loading:f}),Object(m.jsx)("hr",{}),Object(m.jsxs)(he.a,{onSubmit:function(e){return function(e){e.preventDefault(),j?t?O(P({name:r,type:u})):(O(P({name:null,type:u})),O(je()),p(!0)):C("\u0627\u0628\u062a\u062f\u0627 \u0628\u0627\u06cc\u062f \u0648\u0627\u0631\u062f \u062d\u0633\u0627\u0628 \u06a9\u0627\u0631\u0628\u0631\u06cc \u062e\u0648\u062f \u0634\u0648\u06cc\u062f")}(e)},children:[Object(m.jsxs)(he.a.Group,{className:"form-inline",children:[Object(m.jsx)(he.a.Label,{className:"w-25",children:"\u0627\u0628\u0639\u0627\u062f \u062c\u062f\u0648\u0644"}),Object(m.jsxs)(se.a,{style:{border:"1px solid orange",borderRadius:"5px",padding:"2px"},children:[Object(m.jsxs)(se.a.Prepend,{className:"mx-5",children:[Object(m.jsx)(se.a.Radio,{value:"3",name:"tableDimension",checked:3===u,onChange:function(){return d(3)}}),Object(m.jsx)(se.a.Text,{children:"3 * 3 * 3"})]}),Object(m.jsxs)(se.a.Prepend,{className:"mx-5",children:[Object(m.jsx)(se.a.Radio,{value:"4",name:"tableDimension",checked:4===u,onChange:function(){return d(4)}}),Object(m.jsx)(se.a.Text,{children:"4 * 4 * 4"})]}),Object(m.jsxs)(se.a.Prepend,{className:"mx-5",children:[Object(m.jsx)(se.a.Radio,{value:"5",name:"tableDimension",checked:5===u,onChange:function(){return d(5)}}),Object(m.jsx)(se.a.Text,{children:"5 * 5 * 5"})]})]})]}),Object(m.jsx)("hr",{}),t&&Object(m.jsxs)(he.a.Group,{className:"mt-3 form-inline",children:[Object(m.jsx)(he.a.Label,{className:"w-25",children:"\u0646\u0627\u0645 \u0631\u0648\u0645"}),Object(m.jsx)(he.a.Control,{type:"text",className:"w-75 text-left bg-transparent",placeholder:"Room Name",value:r,required:"required",onChange:function(e){return s(e.target.value)}})]}),Object(m.jsx)("hr",{}),Object(m.jsxs)(L.a,{type:"submit",className:"mt-4",block:!0,variant:"success",children:[Object(m.jsx)("i",{className:"fa ".concat(t?"fa-handshake-o":"fa-search"," px-2"),"aria-hidden":"true"}),t?"\u0627\u0631\u0633\u0627\u0644 \u062f\u0631\u062e\u0648\u0627\u0633\u062a":"\u062c\u0633\u062a\u062c\u0648"]})]})]})},tt=a(251),at=(a(232),function(e){var t=e.title,a=e.summary;return Object(m.jsxs)(i.a,{children:[Object(m.jsx)(G.a,{children:Object(m.jsxs)(fe.a,{className:"text-right w-100",variant:"info",children:[Object(m.jsx)(fe.a.Heading,{className:"text-center",children:Object(m.jsx)(oe.a,{variant:"success p-2",children:t})}),Object(m.jsx)("p",{children:a}),Object(m.jsx)("p",{children:a}),Object(m.jsx)("p",{children:a}),Object(m.jsx)("p",{children:a})]})}),Object(m.jsx)("hr",{}),Object(m.jsx)(G.a,{children:Object(m.jsxs)(fe.a,{className:"text-right w-100",pill:"true",variant:"info",children:[Object(m.jsx)("p",{children:"\u062a\u0639\u062f\u0627\u062f \u0634\u0631\u06a9\u062a \u06a9\u0646\u0646\u062f\u06af\u0627\u0646 : 00000000"}),Object(m.jsx)("p",{children:"\u0646\u06a9\u0627\u062a \u062f\u06cc\u06af\u0631"})]})}),Object(m.jsx)("hr",{}),Object(m.jsxs)(G.a,{children:[Object(m.jsx)(_.a,{children:Object(m.jsx)(L.a,{block:!0,variant:"outline-success",children:"\u0634\u0631\u06a9\u062a \u062f\u0631 \u0645\u0633\u0627\u0628\u0642\u0647"})}),Object(m.jsx)(_.a,{children:Object(m.jsx)(L.a,{block:!0,variant:"outline-secondary",children:"\u0628\u0627\u0632\u06cc\u06a9\u0646\u0627\u0646 \u062d\u0627\u0636\u0631"})})]})]})}),nt=function(){return Object(m.jsxs)(Y.a.Container,{id:"left-tabs-example",defaultActiveKey:"first",children:[Object(m.jsx)("hr",{}),Object(m.jsxs)(G.a,{children:[Object(m.jsx)(_.a,{className:"competition-menu-body",sm:3,children:Object(m.jsxs)(o.a,{variant:"pills",className:"flex-column",children:[Object(m.jsx)(o.a.Item,{children:Object(m.jsx)(o.a.Link,{className:"text-right",eventKey:"first",children:"\u062c\u0627\u0645 \u062d\u0630\u0641\u06cc"})}),Object(m.jsx)(o.a.Item,{children:Object(m.jsx)(o.a.Link,{className:"text-right",eventKey:"second",children:"\u0644\u06cc\u06af \u0627\u0645\u062a\u06cc\u0627\u0632\u06cc"})}),Object(m.jsx)(o.a.Item,{children:Object(m.jsx)(o.a.Link,{className:"text-right",eventKey:"third",children:"\u0628\u0627\u0632\u06cc \u0634\u0631\u0637\u06cc"})}),Object(m.jsx)(o.a.Item,{children:Object(m.jsx)(o.a.Link,{className:"text-right",eventKey:"forth",children:"\u062c\u062f\u0648\u0644 \u0631\u0646\u062f\u0648\u0645"})}),Object(m.jsx)(o.a.Item,{children:Object(m.jsx)(o.a.Link,{className:"text-right",eventKey:"fifth",children:"\u0648 \u063a\u06cc\u0631\u0647"})})]})}),Object(m.jsx)(_.a,{sm:9,children:Object(m.jsxs)(Y.a.Content,{children:[Object(m.jsx)(Y.a.Pane,{eventKey:"first",children:Object(m.jsx)(at,{title:"\u062c\u0627\u0645 \u062d\u0630\u0641\u06cc",summary:"\u062a\u0648\u0636\u06cc\u062d\u0627\u062a \u0627\u06cc\u0646 \u0646\u0648\u0639 \u0645\u0633\u0627\u0628\u0642\u0647"})}),Object(m.jsx)(Y.a.Pane,{eventKey:"second",children:Object(m.jsx)(at,{title:"\u0644\u06cc\u06af \u0627\u0645\u062a\u06cc\u0627\u0632\u06cc",summary:"\u062a\u0648\u0636\u06cc\u062d\u0627\u062a \u0627\u06cc\u0646 \u0646\u0648\u0639 \u0645\u0633\u0627\u0628\u0642\u0647"})}),Object(m.jsx)(Y.a.Pane,{eventKey:"third",children:Object(m.jsx)(at,{title:"\u0628\u0627\u0632\u06cc \u0634\u0631\u0637\u06cc",summary:"\u062a\u0648\u0636\u06cc\u062d\u0627\u062a \u0627\u06cc\u0646 \u0646\u0648\u0639 \u0645\u0633\u0627\u0628\u0642\u0647"})}),Object(m.jsx)(Y.a.Pane,{eventKey:"forth",children:Object(m.jsx)(at,{title:"\u062c\u062f\u0648\u0644 \u0631\u0646\u062f\u0648\u0645",summary:"\u062a\u0648\u0636\u06cc\u062d\u0627\u062a \u0627\u06cc\u0646 \u0646\u0648\u0639 \u0645\u0633\u0627\u0628\u0642\u0647"})}),Object(m.jsx)(Y.a.Pane,{eventKey:"fifth",children:Object(m.jsx)(at,{title:"\u0648 \u063a\u06cc\u0631\u0647",summary:"\u062a\u0648\u0636\u06cc\u062d\u0627\u062a \u0627\u06cc\u0646 \u0646\u0648\u0639 \u0645\u0633\u0627\u0628\u0642\u0647"})})]})})]})]})},rt=function(){var e=Object(l.d)((function(e){return e.room}));return Object(m.jsx)(c.Fragment,{children:e.name?Object(m.jsx)($e,{}):Object(m.jsx)(W.a,{border:"secondary",bg:"transparent",className:"game-deck-card",children:Object(m.jsx)(W.a.Body,{children:Object(m.jsxs)(tt.a,{defaultActiveKey:"randomGame",transition:!1,id:"noanim-tab-example",variant:"pills",className:"mb-3",children:[Object(m.jsx)(Y.a,{eventKey:"randomGame",title:"\u0628\u0627\u0632\u06cc \u062a\u0635\u0627\u062f\u0641\u06cc",children:Object(m.jsx)(et,{friendlyGame:!1})}),Object(m.jsx)(Y.a,{eventKey:"competitions",title:"\u0645\u0633\u0627\u0628\u0642\u0627\u062a",children:Object(m.jsx)(nt,{})}),Object(m.jsx)(Y.a,{eventKey:"friendlyGame",title:"\u0628\u0627\u0632\u06cc \u0628\u0627 \u062f\u0648\u0633\u062a\u0627\u0646",children:Object(m.jsx)(et,{friendlyGame:!0})})]})})})})},ct=(a(153),function(){return Object(m.jsxs)(W.a,{border:"warning",className:"simple-single-card",children:[Object(m.jsx)(W.a.Header,{className:"text-center",children:"\u0631\u0627\u0647\u0646\u0645\u0627\u06cc \u0628\u0627\u0632\u06cc"}),Object(m.jsxs)(W.a.Body,{className:"text-right",children:[Object(m.jsx)(W.a.Text,{children:"\u062f\u0627\u0646\u0634\u06af\u0627\u0647 \u0639\u0644\u0645 \u0648 \u0635\u0646\u0639\u062a \u0627\u06cc\u0631\u0627\u0646"}),Object(m.jsxs)(W.a.Text,{children:["E-mail: ",Object(m.jsx)("a",{href:"https://mail.google.com",children:"thcplusplus@gmail.com"})]}),Object(m.jsx)(W.a.Text,{children:"Phone Number: 0000000000000"}),Object(m.jsx)(W.a.Text,{children:"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u062a\u0645\u0627\u0633 \u0627\u0633\u062a\u0627\u062f"}),Object(m.jsx)(W.a.Text,{children:"instagram: ......"}),Object(m.jsx)(W.a.Text,{children:"blah blah blah"})]})]})}),st=function(){return Object(m.jsxs)(W.a,{border:"dark",className:"simple-single-card",children:[Object(m.jsx)(W.a.Header,{className:"text-center",children:"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u062a\u0645\u0627\u0633"}),Object(m.jsxs)(W.a.Body,{className:"text-right",children:[Object(m.jsx)(W.a.Text,{children:"\u062f\u0627\u0646\u0634\u06af\u0627\u0647 \u0639\u0644\u0645 \u0648 \u0635\u0646\u0639\u062a \u0627\u06cc\u0631\u0627\u0646"}),Object(m.jsxs)(W.a.Text,{children:["E-mail: ",Object(m.jsx)("a",{href:"https://mail.google.com",children:"thcplusplus@gmail.com"})]}),Object(m.jsx)(W.a.Text,{children:"Phone Number: 0000000000000"}),Object(m.jsx)(W.a.Text,{children:"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u062a\u0645\u0627\u0633 \u0627\u0633\u062a\u0627\u062f"}),Object(m.jsx)(W.a.Text,{children:"instagram: ......"}),Object(m.jsx)(W.a.Text,{children:"blah blah blah"})]})]})},it=function(e){Object(Le.a)(a,e);var t=Object(Me.a)(a);function a(){var e;Object(Ae.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={liveScores:[],finalScores:[],showLiveOnes:!1,loading:!1},e.btnShowLiveScores=function(){e.setState({showLiveOnes:!0})},e.btnShowFinalScores=function(){e.setState({showLiveOnes:!1})},e}return Object(Ge.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log("CHecking prop: ",this.props.Device),Object(v.a)(g.a.mark((function t(){var a,n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({loading:!0}),t.next=3,J.getAllGames();case 3:if(a=t.sent,n=a.data,a.status!==b.a.Status.Successful){t.next=8;break}return t.abrupt("return",n.allGames);case 8:return t.abrupt("return",[]);case 9:case"end":return t.stop()}}),t)})))().then((function(t){t=t.reverse(),e.setState({liveScores:t.filter((function(e){return e.isLive})),finalScores:t.filter((function(e){return!e.isLive})),loading:!1})})).catch((function(t){e.setState({finalScores:[],loading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.liveScores,a=e.finalScores,n=e.showLiveOnes;return Object(m.jsxs)(i.a,{children:[Object(m.jsxs)(G.a,{children:[Object(m.jsx)(_.a,{children:Object(m.jsxs)(L.a,{variant:n?"outline-success":"outline-primary",className:"scores-mode-select-button",onClick:this.btnShowLiveScores,children:["\u0646\u062a\u0627\u06cc\u062c \u0632\u0646\u062f\u0647",Object(m.jsx)("i",{className:"fa fa-play-circle px-3","aria-hidden":"true"})]})}),Object(m.jsx)(_.a,{children:Object(m.jsxs)(L.a,{variant:n?"outline-primary":"outline-success",className:"scores-mode-select-button",onClick:this.btnShowFinalScores,children:["\u0646\u062a\u0627\u06cc\u062c \u0646\u0647\u0627\u06cc\u06cc",Object(m.jsx)("i",{className:"fa fa-play-circle px-3","aria-hidden":"true"})]})})]}),Object(m.jsx)(G.a,{children:Object(m.jsx)(_.a,{children:Object(m.jsx)(re,{scores:n?t:a})})})]})}}]),a}(c.Component),ot=a(245),lt=function(e){Object(Le.a)(a,e);var t=Object(Me.a)(a);function a(){var e;Object(Ae.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={showModal:!1,studentID:"",password:"",loading:!1},e.onCloseClick=function(){return e.setState({showModal:!1})},e.onShowClick=function(){return e.setState({showModal:!0})},e.onSignInSubmitted=function(){var t=Object(v.a)(g.a.mark((function t(a){var n,r,c,s,i,o,l;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),e.setState({loading:!0}),n=e.state,r=n.studentID,c=n.password,s={studentID:Number(r),password:c},t.prev=4,t.next=7,E.signIn(s);case 7:i=t.sent,o=i.status,l=i.data,o===b.a.Status.Successful&&(j.browserStorage.save(l.token),e.props.history.replace("/")),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(4),e.setState({password:""}),b.a.Status.isErrorExpected(t.t0)||S(".\u0648\u0631\u0648\u062f \u0628\u0627 \u0645\u0634\u06a9\u0644 \u0631\u0648 \u0628\u0647 \u0631\u0648 \u0634\u062f. \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u062a\u0644\u0627\u0634 \u06a9\u062a\u0646\u06cc\u062f.");case 17:e.setState({loading:!1});case 18:case"end":return t.stop()}}),t,null,[[4,13]])})));return function(e){return t.apply(this,arguments)}}(),e.onForgotPasswordClick=function(){},e}return Object(Ge.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.showModal,n=t.studentID,r=t.password,s=t.loading;return Object(m.jsxs)(c.Fragment,{children:[Object(m.jsx)(V,{loading:s}),Object(m.jsxs)(L.a,{variant:"outline-primary",onClick:this.onShowClick,children:[Object(m.jsx)("i",{className:"fa fa-user px-2","aria-hidden":"true"}),"\u0648\u0631\u0648\u062f \u06a9\u0627\u0631\u0628\u0631\u0627\u0646"]}),Object(m.jsxs)(ot.a,{backdrop:"static",show:a,onHide:this.onCloseClick,children:[Object(m.jsx)(ot.a.Header,{closeButton:!0}),Object(m.jsx)(ot.a.Body,{children:Object(m.jsxs)(he.a,{className:"m-4 text-right",onSubmit:function(t){return e.onSignInSubmitted(t)},children:[Object(m.jsxs)(he.a.Group,{className:"mb-3 form-inline",children:[Object(m.jsx)(he.a.Label,{className:"w-25",children:"\u0634\u0645\u0627\u0631\u0647 \u062f\u0627\u0646\u0634\u062c\u0648\u06cc\u06cc"}),Object(m.jsx)(he.a.Control,{type:"text",className:"w-75 text-left",placeholder:"Student ID",autoComplete:"username",value:n,onChange:function(t){return e.setState({studentID:t.target.value})}})]}),Object(m.jsxs)(he.a.Group,{className:"mb-3 form-inline",controlId:"formBasicPassword",children:[Object(m.jsx)(he.a.Label,{className:"w-25",children:"\u0631\u0645\u0632 \u0639\u0628\u0648\u0631"}),Object(m.jsx)(he.a.Control,{type:"password",className:"w-75 text-left",placeholder:"Password",autoComplete:"current-password",value:r,onChange:function(t){return e.setState({password:t.target.value})}})]}),Object(m.jsx)("hr",{}),Object(m.jsxs)(G.a,{children:[Object(m.jsxs)(L.a,{className:"w-50",type:"submit",variant:"outline-success",children:[Object(m.jsx)("i",{className:"fa fa-sign-in px-2","aria-hidden":"true"}),"\u0648\u0631\u0648\u062f"]}),Object(m.jsxs)(L.a,{className:"w-50",variant:"outline-warning",onClick:this.onForgotPasswordClick,children:[Object(m.jsx)("i",{className:"fa fa-recycle px-2","aria-hidden":"true"}),"\u0641\u0631\u0627\u0645\u0648\u0634\u06cc \u0631\u0645\u0632"]})]})]})})]})]})}}]),a}(c.Component),ut=Object(p.f)(lt),dt=(a(234),function(e){Object(Le.a)(a,e);var t=Object(Me.a)(a);function a(){var e;Object(Ae.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={studentID:"",password:"",confirmPassword:"",firstname:"",lastname:"",email:"",loading:!1},e.checkConfirmPassword=function(t){e.setState({confirmPassword:t.target.value}),e.state.password!==t.target.value?t.target.setCustomValidity("\u062a\u0627\u06cc\u06cc\u062f \u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u0628\u0627\u06cc\u062f \u0628\u0627 \u062e\u0648\u062f \u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u0645\u0637\u0627\u0628\u0642\u062a \u06a9\u0627\u0645\u0644 \u062f\u0627\u0634\u062a\u0647 \u0628\u0627\u0634\u062f"):t.target.setCustomValidity("")},e.onSignUpSubmit=function(){var t=Object(v.a)(g.a.mark((function t(a){var n,r,c,s,i,o,l,u,d,m,x;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n=e.state,r=n.studentID,c=n.password,s=n.confirmPassword,i=n.firstname,o=n.lastname,l=n.email,!(i.trim().length<3||o.trim().length<3)){t.next=6;break}return S("\u0646\u0627\u0645 \u0648 \u0646\u0627\u0645 \u062e\u0627\u0646\u0648\u0627\u062f\u06af\u06cc \u0628\u0627\u06cc\u062f \u062d\u062f\u0627\u0642\u0644 \u0634\u0627\u0645 \u0633\u0647 \u062d\u0631\u0641 \u0641\u0627\u0631\u0633\u06cc \u0628\u0627\u0634\u062f"),e.setState({firstname:i.trim(),lastname:o.trim()}),t.abrupt("return");case 6:if(c!==s){t.next=24;break}return t.prev=7,e.setState({loading:!0}),u={studentID:Number(r),password:c,email:l,fullname:(i+" "+o).replace(/\s+/g," ")},t.next=12,E.signUp(u);case 12:d=t.sent,m=d.status,x=d.data,m===b.a.Status.CreatedSuccessfully&&(w("\u062b\u0628\u062a \u0646\u0627\u0645 \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u0627\u0646\u062c\u0627\u0645 \u0634\u062f"),j.browserStorage.save(x.token),e.props.history.replace("/")),t.next=22;break;case 18:t.prev=18,t.t0=t.catch(7),e.setState({loading:!1}),t.t0.response.status===b.a.Status.Conflict?k("\u0627\u06af\u0631 \u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u062e\u0648\u062f \u0631\u0627 \u0641\u0631\u0627\u0645\u0648\u0634 \u06a9\u0631\u062f\u0647 \u0627\u06cc\u062f\u060c \u0627\u0632 \u06af\u0632\u06cc\u0646\u0647 \u0628\u0627\u0632\u06cc\u0627\u0628\u06cc \u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u062f\u0631 \u0635\u0641\u062d\u0647 \u06cc \u0648\u0631\u0648\u062f \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0646\u0645\u0627\u06cc\u06cc\u062f"):b.a.Status.isErrorExpected(t.t0)||S("\u062b\u0628\u062a \u0646\u0627\u0645 \u0628\u0627 \u0645\u0634\u06a9\u0644 \u0631\u0648 \u0628\u0647 \u0631\u0648 \u0634\u062f. \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u062a\u0644\u0627\u0634 \u06a9\u062a\u0646\u06cc\u062f");case 22:t.next=25;break;case 24:S("\u0631\u0645\u0632 \u0639\u0628\u0648\u0631\u0647\u0627 \u0645\u0637\u0627\u0628\u0642\u062a \u0646\u062f\u0627\u0631\u0646\u062f");case 25:e.setState({loading:!1});case 26:case"end":return t.stop()}}),t,null,[[7,18]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(Ge.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.studentID,n=t.password,r=t.confirmPassword,c=t.firstname,s=t.lastname,i=t.email,o=t.loading;return Object(m.jsxs)(W.a,{border:"success",className:"sign-up-card",children:[Object(m.jsx)(V,{loading:o}),Object(m.jsx)(W.a.Header,{className:"bg-transparent text-center border-success",children:"\u0641\u0631\u0645 \u062b\u0628\u062a \u0646\u0627\u0645"}),Object(m.jsx)(W.a.Body,{children:Object(m.jsxs)(he.a,{onSubmit:function(t){return e.onSignUpSubmit(t)},children:[Object(m.jsxs)(he.a.Group,{className:"form-inline",children:[Object(m.jsx)(he.a.Label,{className:"w-25",children:"\u0646\u0627\u0645"}),Object(m.jsx)(he.a.Control,{type:"text",pattern:"[\u0622-\u06cc ]{3,}",onInput:function(e){return e.target.setCustomValidity("")},onInvalid:function(e){return e.target.setCustomValidity("\u0646\u0627\u0645 \u0628\u0627\u06cc\u062f \u0628\u0627 \u062d\u0631\u0648\u0641 \u0641\u0627\u0631\u0633\u06cc \u0648 \u0628\u0627 \u062d\u062f\u0627\u0642\u0644 \u0637\u0648\u0644 \u0633\u0647 \u062d\u0631\u0641 \u0628\u0627\u0634\u062f")},className:"sign-up-textbox w-75",placeholder:"First Name",value:c,required:"required",onChange:function(t){return e.setState({firstname:t.target.value})}})]}),Object(m.jsxs)(he.a.Group,{className:"form-inline",children:[Object(m.jsx)(he.a.Label,{className:"w-25",children:"\u0646\u0627\u0645 \u062e\u0627\u0646\u0648\u0627\u062f\u06af\u06cc"}),Object(m.jsx)(he.a.Control,{type:"text",className:"sign-up-textbox w-75",pattern:"[\u0622-\u06cc ]{3,}",onInput:function(e){return e.target.setCustomValidity("")},onInvalid:function(e){return e.target.setCustomValidity("\u0646\u0627\u0645 \u062e\u0627\u0646\u0648\u0627\u062f\u06af\u06cc \u0628\u0627\u06cc\u062f \u0628\u0627 \u062d\u0631\u0648\u0641 \u0641\u0627\u0631\u0633\u06cc \u0648 \u0628\u0627 \u062d\u062f\u0627\u0642\u0644 \u0637\u0648\u0644 \u0633\u0647 \u062d\u0631\u0641 \u0628\u0627\u0634\u062f")},placeholder:"Last Name",value:s,required:"required",onChange:function(t){return e.setState({lastname:t.target.value})}})]}),Object(m.jsxs)(he.a.Group,{className:"form-inline",children:[Object(m.jsx)(he.a.Label,{className:"w-25",children:"\u0634\u0645\u0627\u0631\u0647 \u062f\u0627\u0646\u0634\u062c\u0648\u06cc\u06cc"}),Object(m.jsx)(he.a.Control,{type:"text",pattern:"[0-9]{8}",onInput:function(e){return e.target.setCustomValidity("")},onInvalid:function(e){return e.target.setCustomValidity("\u0634\u0645\u0627\u0631\u0647 \u062f\u0627\u0646\u0634\u062c\u0648\u06cc\u06cc \u0628\u0627\u06cc\u062f \u06cc\u06a9 \u0639\u062f\u062f 8 \u0631\u0642\u0645\u06cc \u0628\u0627\u0634\u062f")},className:"sign-up-textbox w-75",placeholder:"Student ID",value:a,autoComplete:"username",required:"required",onChange:function(t){return e.setState({studentID:t.target.value})}})]}),Object(m.jsxs)(he.a.Group,{className:"form-inline",children:[Object(m.jsx)(he.a.Label,{className:"w-25",children:"\u0627\u06cc\u0645\u06cc\u0644"}),Object(m.jsx)(he.a.Control,{type:"email",pattern:".{6,}",onInput:function(e){return e.target.setCustomValidity("")},onInvalid:function(e){return e.target.setCustomValidity("\u0648\u0631\u0648\u062f\u06cc \u0628\u0627\u06cc\u062f \u0641\u0631\u0645\u062a \u0645\u0639\u062a\u0628\u0631 \u0627\u06cc\u0645\u06cc\u0644 \u0631\u0627 \u0631\u0639\u0627\u06cc\u062a \u06a9\u0631\u062f\u0647 \u0648 \u062d\u062f\u0627\u0642\u0644 6 \u06a9\u0627\u0631\u0627\u06a9\u062a\u0631 \u0628\u0627\u0634\u062f")},className:"sign-up-textbox w-75",placeholder:"E-mail",value:i,required:"required",onChange:function(t){return e.setState({email:t.target.value})}})]}),Object(m.jsxs)(he.a.Group,{className:"form-inline",children:[Object(m.jsx)(he.a.Label,{className:"w-25",children:"\u0631\u0645\u0632 \u0639\u0628\u0648\u0631"}),Object(m.jsx)(he.a.Control,{type:"password",pattern:".{6,15}",onInput:function(e){return e.target.setCustomValidity("")},onInvalid:function(e){return e.target.setCustomValidity("\u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u0628\u0627\u06cc\u062f \u062d\u062f\u0627\u0642\u0644 6 \u06a9\u0627\u0631\u0627\u06a9\u062a\u0631 \u0648 \u062d\u062f\u0627\u06a9\u062b\u0631 15 \u06a9\u0627\u0631\u0627\u06a9\u062a\u0631 \u062f\u0627\u0634\u062a\u0647 \u0628\u0627\u0634\u062f")},className:"sign-up-textbox w-75",placeholder:"Password",value:n,autoComplete:"new-password",required:"required",onChange:function(t){return e.setState({password:t.target.value})}})]}),Object(m.jsxs)(he.a.Group,{className:"form-inline",children:[Object(m.jsx)(he.a.Label,{className:"w-25",children:"\u062a\u0627\u06cc\u06cc\u062f \u0631\u0645\u0632 \u0639\u0628\u0648\u0631"}),Object(m.jsx)(he.a.Control,{type:"password",className:"sign-up-textbox w-75",placeholder:"Confirm Password",value:r,required:"required",onChange:function(t){return e.checkConfirmPassword(t)}})]}),Object(m.jsxs)(L.a,{type:"submit",className:"btn btn-success btn-block mt-4",children:[Object(m.jsx)("i",{className:"fa fa-user-plus px-2","aria-hidden":"true"}),"\u062b\u0628\u062a \u0646\u0627\u0645"]})]})}),Object(m.jsxs)(W.a.Footer,{className:"border-primary bg-transparent",children:["\u0627\u06af\u0631 \u0642\u0628\u0644\u0627 \u062b\u0628\u062a \u0646\u0627\u0645 \u06a9\u0631\u062f\u06cc\u060c \u0628\u0647 \u0635\u0641\u062d\u0647 \u06cc ",Object(m.jsx)(ut,{})," \u0628\u0631\u0648 !"]})]})}}]),a}(c.Component)),jt=Object(p.f)(dt),bt=function(e){var t=e.rowNumber,a=e.name,n=e.points,r=e.wins,c=e.loses,s=e.draws;return Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{scope:"row",children:t}),Object(m.jsx)("td",{children:a}),Object(m.jsx)("td",{children:n}),Object(m.jsx)("td",{children:r}),Object(m.jsx)("td",{children:c}),Object(m.jsx)("td",{children:s})]})},mt=function(e){var t=e.players;return Object(m.jsxs)(W.a,{border:"dark",style:{width:"100%",borderRadius:"5px"},children:[Object(m.jsx)(W.a.Header,{className:"text-center",children:"\u0631\u062f\u0647 \u0628\u0646\u062f\u06cc"}),Object(m.jsxs)("table",{className:"table table-striped table-bordered table-hover text-center",children:[Object(m.jsx)("thead",{className:"bg-info",children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{scope:"col",children:"#"}),Object(m.jsx)("th",{scope:"col",children:"\u0646\u0627\u0645 \u0628\u0627\u0632\u06cc\u06a9\u0646"}),Object(m.jsx)("th",{scope:"col",children:"\u0627\u0645\u062a\u06cc\u0627\u0632"}),Object(m.jsx)("th",{scope:"col",children:"\u062a\u0639\u062f\u0627\u062f \u0628\u0631\u062f"}),Object(m.jsx)("th",{scope:"col",children:"\u062a\u0639\u062f\u0627\u062f \u0628\u0627\u062e\u062a"}),Object(m.jsx)("th",{scope:"col",children:"\u062a\u0639\u062f\u0627\u062f \u062a\u0633\u0627\u0648\u06cc"})]})}),Object(m.jsx)("tbody",{children:t.map((function(e){return Object(m.jsx)(bt,{rowNumber:t.findIndex((function(t){return t.userID===e.userID}))+1,name:e.fullname,points:e.records.points,wins:e.records.wins,loses:e.records.loses,draws:e.records.draws},e.userID)}))})]})]})},xt=function(e){Object(Le.a)(a,e);var t=Object(Me.a)(a);function a(){var e;Object(Ae.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={players:[],loading:!1},e}return Object(Ge.a)(a,[{key:"componentDidMount",value:function(){var e=this;Object(v.a)(g.a.mark((function t(){var a,n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({loading:!0}),t.next=3,E.getAllPlayers();case 3:if(a=t.sent,n=a.data,a.status!==b.a.Status.Successful){t.next=8;break}return t.abrupt("return",n.players);case 8:return t.abrupt("return",[]);case 9:case"end":return t.stop()}}),t)})))().then((function(t){var a=Object(Se.a)(t);e.setState({players:a.sort((function(e,t){return t.records.points-e.records.points||t.records.wins-e.records.wins||e.records.loses-t.records.loses})),loading:!1})})).catch((function(t){e.setState({players:[],loading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.players,a=e.loading;return Object(m.jsxs)(G.a,{className:"mx-auto mt-3",children:[a?Object(m.jsx)(V,{loading:a}):null,Object(m.jsx)(G.a,{className:"w-100 mx-auto",children:Object(m.jsx)(mt,{players:t})})]})}}]),a}(c.Component),ht=function(){return Object(m.jsxs)(p.c,{children:[Object(m.jsx)(p.a,{path:"".concat(j.Routes.Client.Profile,"/:path?"),exact:!0,children:Object(m.jsx)(H,{children:Object(m.jsxs)(p.c,{children:[Object(m.jsx)(p.a,{path:j.Routes.Client.MyGamesAndFriends,children:Object(m.jsx)(xe,{})}),Object(m.jsx)(p.a,{path:j.Routes.Client.Notices,children:Object(m.jsx)(Ne,{})}),Object(m.jsx)(p.a,{path:j.Routes.Client.ChatRoom,children:Object(m.jsx)(De,{})}),Object(m.jsx)(p.a,{exact:!0,path:j.Routes.Client.Profile,children:Object(m.jsx)(Pe,{})})]})})}),Object(m.jsx)(p.a,{children:Object(m.jsx)(ze,{children:Object(m.jsxs)(p.c,{children:[Object(m.jsx)(p.a,{path:j.Routes.Client.SignUp,children:Object(m.jsx)(jt,{})}),Object(m.jsx)(p.a,{path:j.Routes.Client.GameDeck,children:Object(m.jsx)(rt,{})}),Object(m.jsx)(p.a,{path:j.Routes.Client.Rankings,children:Object(m.jsx)(xt,{})}),Object(m.jsxs)(p.a,{path:j.Routes.Client.GameGuide,children:[Object(m.jsx)(ct,{}),"/"]}),Object(m.jsx)(p.a,{path:j.Routes.Client.ContactUs,children:Object(m.jsx)(st,{})}),Object(m.jsx)(p.a,{path:j.Routes.Client.Root,exact:!0,children:Object(m.jsx)(it,{})})]})})})]})},ft=Object(p.f)((function(e){var t=e.location,a=Object(l.d)((function(e){return e.message})),n=t.pathname,s=Object(l.d)((function(e){return e.tools})),i=Object(l.c)(),o=Object(c.useContext)(d),u=s.gameInvitation,b=o.goTo;return Object(c.useEffect)((function(){try{a&&a.recieved&&!a.recieved.pushed&&n!==j.Routes.Client.ChatRoom&&(j.Routes.Client.GameDeck,function(e,t){var a=e.name,n=e.text;Object(r.b)(Object(m.jsx)("p",{className:"text-right",children:"".concat(a," : ").concat(n)}),{type:"dark",position:"top-left",onClick:t,icon:Object(m.jsx)("i",{style:{float:"right"},className:"fa fa-envelope-o px-2 py-1","aria-hidden":"true"})})}(a.recieved,(function(){return b(j.Routes.Client.ChatRoom)})),i(function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({type:"MEESAGE_PUSHED"});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),u&&(s=u,o=function(){var e,t;i((e=u.ID,t=u.type,function(){var a=Object(v.a)(g.a.mark((function a(n,r){var c;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return(c=Object(de.a)({},r())).acceptedGame={inviterID:e,type:t},c.gameInvitation=null,a.next=5,n({type:"UPDATE_TOOLS",payload:c});case 5:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()))},l=function(){i(function(){var e=Object(v.a)(g.a.mark((function e(t,a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Object(de.a)({},a())).gameInvitation=null,e.next=4,t({type:"UPDATE_TOOLS",payload:n});case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())},Object(r.b)(Object(m.jsx)("p",{className:"text-right text-primary",children:"\u062f\u0631\u062e\u0648\u0627\u0633\u062a \u0628\u0627\u0632\u06cc ".concat(s.type,"*").concat(s.type,"*").concat(s.type," \u0627\u0632 ").concat(s.name,"\n \u0628\u0631\u0627\u06cc \u067e\u0630\u06cc\u0631\u0641\u062a\u0646 \u062f\u0639\u0648\u062a \u06a9\u0644\u06cc\u06a9 \u06a9\u0646\u06cc\u062f")}),{position:"top-left",onClick:function(){return o(s.ID,s.type)},onClose:function(){return l()},icon:Object(m.jsx)("i",{style:{float:"right"},className:"fa fa-gamepad px-2 py-1","aria-hidden":"true"})}));var e=Object(ye.a)(j.browserStorage.TOKEN());if(e){var t=e.exp,c=(t-e.iat)/60;Date.now()/1e3/60+c/4>=t/60&&k("\u0646\u0634\u0633\u062a \u0634\u0645\u0627 \u062f\u0631 \u0634\u0631\u0641 \u0627\u0646\u0642\u0636\u0627\u0633\u062a ... \u0628\u0631\u0627\u06cc \u067e\u06cc\u0634 \u06af\u06cc\u0631\u06cc \u0627\u0632 \u0628\u0631\u0648\u0632 \u0645\u0634\u06a9\u0644 \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u0648\u0627\u0631\u062f \u062d\u0633\u0627\u0628 \u062e\u0648\u062f \u0634\u0648\u06cc\u062f")}}catch(d){console.log(d)}var s,o,l}),[a,n,u,b,i]),null})),pt=function(){var e=Object(c.useContext)(d),t=Object(c.useState)(null),a=Object(h.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(null),i=Object(h.a)(s,2),o=i[0],u=i[1],b=Object(c.useState)(!1),x=Object(h.a)(b,2),f=x[0],p=x[1],O=Object(l.d)((function(e){return e.me})),y=Object(l.d)((function(e){return e.tools})),N=Object(l.d)((function(e){return e.room})),T=Object(l.d)((function(e){return e.message})),D=Object(c.useState)(!0),E=Object(h.a)(D,2),I=E[0],R=E[1],A=Object(l.c)(),M=Object(c.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return JSON.stringify({token:j.browserStorage.TOKEN(),request:e,msg:t})}),[]),F=Object(c.useCallback)((function(){return setInterval((function(){n&&n.send(M("online"))}),3e5)}),[M,n]);Object(c.useEffect)((function(){console.log("global timer enabled");var e=F();return function(){console.log("global timer disabled"),clearInterval(e)}}),[F]);var U=e.signOut,q=e.redirectToGamePlay,B=O&&O.userID,H=N&&N.name,K=Object(c.useCallback)((function(){return console.log("global websocket connect called -> new socket returned"),B?new Promise((function(e,t){try{var a=new WebSocket("".concat(j.Routes.Server.WebSocketRoot,"/").concat(j.Routes.Server.wsGlobalRoute));a.onopen=function(){a.send(M("online")),e(a)},a.onmessage=function(t){var n,r,c,s=t.data,i=JSON.parse(s),o=i.command,l=i.msg;switch(o){case"ONLINE":var d=l.players,j=l.games;A(function(e,t){return function(){var a=Object(v.a)(g.a.mark((function a(n,r){return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n({type:"UPDATE_STATISTICS",payload:{players:e,games:t}});case 2:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()}(d,j));break;case"NOT_AUTHORIZED":S("\u0646\u0634\u0633\u062a \u0634\u0645\u0627 \u0645\u0646\u0642\u0636\u06cc \u0634\u062f\u0647\u060c \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u0648\u0627\u0631\u062f \u062d\u0633\u0627\u0628 \u06a9\u0627\u0631\u0628\u0631\u06cc \u062e\u0648\u062f \u0634\u0648\u06cc\u062f"),U();break;case"FIND_RESULT":l?(A(P(l)),a.send(M("online"))):setTimeout((function(){H||A(je())}),5e3);break;case"FRIENDSHIP_REQUEST":u(l),p(!0);break;case"FRIENDSHIP_RESPONSE":var b=l.answer,m=l.targetName;b?w("".concat(m," \u062f\u0631\u062e\u0648\u0627\u0633\u062a \u062f\u0648\u0633\u062a\u06cc \u0634\u0645\u0627 \u0631\u0627 \u067e\u0630\u06cc\u0631\u0641\u062a")):k("".concat(m," \u062f\u0631\u062e\u0648\u0627\u0633\u062a \u062f\u0648\u0633\u062a\u06cc \u0634\u0645\u0627 \u0631\u0627 \u0631\u062f \u06a9\u0631\u062f")),A(function(){var e=Object(v.a)(g.a.mark((function e(t,a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Object(de.a)({},a())).friendRequestTarget=null,e.next=4,t({type:"UPDATE_TOOLS",payload:n});case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}());break;case"TARGET_OFFLINE":S("\u06a9\u0627\u0631\u0628\u0631 \u0645\u0648\u0631\u062f \u0646\u0638\u0631 \u062f\u0631 \u062d\u0627\u0644 \u062d\u0627\u0636\u0631 \u0622\u0641\u0644\u0627\u06cc\u0646 \u0645\u06cc \u0628\u0627\u0634\u062f. \u0644\u0637\u0641\u0627 \u0628\u0639\u062f\u0627 \u062a\u0644\u0627\u0634 \u06a9\u0646\u06cc\u062f.");break;case"YOUR_BUSY":S("\u0634\u0645\u0627 \u0647\u0646\u0648\u0632 \u0628\u0627\u0632\u06cc \u0627\u062e\u06cc\u0631 \u062e\u0648\u062f \u0631\u0627 \u0628\u0647 \u0627\u062a\u0645\u0627\u0645 \u0646\u0631\u0633\u0627\u0646\u062f\u0647 \u0627\u06cc\u062f. \u067e\u0633 \u0627\u0632 \u067e\u0627\u06cc\u0627\u0646 \u0622\u0646 \u062f\u0648\u0628\u0627\u0631\u0647 \u062a\u0644\u0627\u0634 \u06a9\u0646\u06cc\u062f.");break;case"TARGET_BUSY":C("\u062f\u0631 \u062d\u0627\u0644 \u062d\u0627\u0636\u0631 \u06a9\u0627\u0631\u0628\u0631 \u0645\u0634\u063a\u0648\u0644 \u0627\u0646\u062c\u0627\u0645 \u0628\u0627\u0632\u06cc \u062f\u06cc\u06af\u0631\u06cc \u0627\u0633\u062a \u0648 \u062f\u0631\u062e\u0648\u0627\u0633\u062a \u0634\u0645\u0627 \u0627\u0645\u06a9\u0627\u0646 \u067e\u0630\u06cc\u0631 \u0646\u06cc\u0633\u062a");break;case"FRIENDLY_GAME":var x=l.askerID,h=l.askerName,f=l.gameType;A(function(e,t,a){return function(){var n=Object(v.a)(g.a.mark((function n(r,c){var s;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(s=Object(de.a)({},c())).gameInvitation={ID:e,name:t,type:a},n.next=4,r({type:"UPDATE_TOOLS",payload:s});case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}(x,h,f));break;case"INVITATION_ACCEPTED":A(be()),q(l);break;case"CHAT":A((n=l.name,r=l.friendID,c=l.text,function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(c&&r&&n)){e.next=8;break}return e.next=4,t({type:"RECIEVE_MESSAGE",payload:{name:n,friendID:r,text:c}});case 4:return e.next=6,t(we(n,r,c,{recieved:!0}));case 6:e.next=9;break;case 8:console.log("msg not recieved: data missing...");case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()))}e(a)},a.onerror=function(e){a.close(),t(e)},a.onclose=function(){console.log("Reconnecting in  5 seconds"),setTimeout((function(){Object(v.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!B){e.next=7;break}return e.next=4,K();case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0=null;case 8:t=e.t0,r(t),e.next=15;break;case 12:e.prev=12,e.t1=e.catch(0),console.log(e.t1);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))()}),5e3),e(null)}}catch(n){console.log("global websocket errpr: ".concat(n))}})):null}),[A,U,q,M,B,H]);Object(c.useEffect)((function(){I&&B&&Object(v.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!B){e.next=7;break}return e.next=4,K();case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0=null;case 8:t=e.t0,r(t),e.next=15;break;case 12:e.prev=12,e.t1=e.catch(0),console.log(e.t1);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))()}),[I,B,K]);var V=(O||{fullname:null}).fullname,z=y.friendRequestTarget,J=y.friendlyGameTarget,W=y.randomSearchTriggered,Y=y.acceptedGame;Object(c.useEffect)((function(){N.type?!N.name&&B&&n&&n.send(M("find",N.type)):N.name||n&&n.send(M("close_game"))}),[B,N,W,n,M]),Object(c.useEffect)((function(){z&&n&&n.send(M("friendship",{targetID:z,askerName:V})),Y?n&&n.send(M("respond_friendlygame",{answer:!0,inviterID:Y.inviterID,gameType:Y.type})):J&&n&&n.send(M("friendly_game",{targetID:J.targetID,gameType:J.type,askerName:V}))}),[z,J,Y,n,M,V]);var X=function(e){n&&n.send(M("respond_friendship",{answer:e,targetName:O.fullname,askerID:o.askerID})),p(!1),u(null)};return Object(c.useEffect)((function(){T.sent&&n&&(n.send(M("chat",T.sent)),A(function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({type:"RESET_MESSAGES"});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}),[T.sent,n,M,A]),setInterval((function(){window.navigator.onLine?I||R(!0):I&&R(!1)}),5e3),Object(m.jsxs)(c.Fragment,{children:[Object(m.jsx)(ft,{}),Object(m.jsxs)(ot.a,{show:f,onHide:function(){return X(!1)},children:[Object(m.jsx)(ot.a.Header,{closeButton:!0}),Object(m.jsxs)(ot.a.Body,{className:"text-right",children:[Object(m.jsxs)("p",{children:[o?Object(m.jsx)(oe.a,{style:{fontSize:"18px",margin:"2%"},pill:!0,variant:"warning",children:o.askerName}):null,"\u0628\u0647 \u0634\u0645\u0627 \u067e\u06cc\u0634\u0646\u0647\u0627\u062f \u062f\u0648\u0633\u062a\u06cc \u062f\u0627\u062f\u0647 \u0627\u0633\u062a."]}),Object(m.jsx)("p",{children:"\u0627\u06af\u0631 \u062a\u0645\u0627\u06cc\u0644 \u0628\u0647 \u062f\u0648\u0633\u062a\u06cc \u0646\u062f\u0627\u0631\u06cc\u062f \u0645\u06cc\u062a\u0648\u0627\u0646\u062f \u062f\u0631\u062e\u0648\u0627\u0633\u062a \u0631\u0627 \u0631\u062f \u06a9\u0646\u06cc\u062f."})]}),Object(m.jsx)(ot.a.Footer,{className:"w-100 text-right",children:Object(m.jsxs)(G.a,{className:"w-100",children:[Object(m.jsx)(_.a,{children:Object(m.jsx)(L.a,{variant:"success",block:!0,onClick:function(){return X(!0)},children:"\u067e\u0630\u06cc\u0631\u0641\u062a\u0646"})}),Object(m.jsx)(_.a,{children:Object(m.jsx)(L.a,{block:!0,variant:"danger",onClick:function(){return X(!1)},children:"\u0631\u062f"})})]})})]})]})},Ot=function(){var e=Object(l.d)((function(e){return e.me}));return Object(m.jsxs)(u.a,{children:[Object(m.jsx)(r.a,{}),Object(m.jsxs)(A,{children:[e&&Object(m.jsx)(pt,{}),Object(m.jsx)(x,{}),Object(m.jsx)(ht,{})]})]})},gt=a(66),vt=a(161),yt=Object(gt.b)({me:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_MINE":return t.payload;case"RESET_MINE":return null;default:return e}},opponent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_OPPONENT":return t.payload;case"RESET_OPPONENT":return null;default:return e}},room:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{name:null,type:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ENTER_ROOM":return Object(de.a)({},t.payload);case"EXIT_ROOM":return{name:null,type:null};default:return e}},scoreboard:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{me:null,opp:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_SCOREBOARD":return Object(de.a)({},t.payload);case"CLEAN_SCOREBOARD":return{me:null,opp:null};default:return e}},tools:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{randomSearchTriggered:!1,friendRequestTarget:null,friendlyGameTarget:null,gameInvitation:null,acceptedGame:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_TOOLS":return Object(de.a)({},t.payload);default:return e}},statistics:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{players:0,games:0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_STATISTICS":return Object(de.a)({},t.payload);default:return e}},message:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{sent:null,recieved:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RECIEVE_MESSAGE":return{recieved:Object(de.a)(Object(de.a)({},t.payload),{},{pushed:!1}),sent:e.sent};case"SEND_MESSAGE":return{sent:Object(de.a)(Object(de.a)({},t.payload),{},{pushed:!0}),recieved:e.recieved};case"MEESAGE_PUSHED":return{sent:e.sent,recieved:Object(de.a)(Object(de.a)({},e.recieved),{},{pushed:!0})};case"RESET_MESSAGES":return{sent:null,recieved:null};default:return e}},chats:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_CHATS":return Object(Se.a)(t.payload);case"RESET_CHATS":return[];default:return e}},friends:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_FRIENDS":return Object(Se.a)(t.payload);case"RESET_FRIENDS":return[];default:return e}}}),Nt=Object(gt.c)(yt,Object(gt.a)(vt.a));Object(n.render)(Object(m.jsx)(l.a,{store:Nt,children:Object(m.jsx)(Ot,{})}),document.getElementById("root"))},3:function(e,t,a){var n=a(171),r=a(172),c=a(173),s=a(174),i=a(175);e.exports={browserStorage:s,Routes:{Server:r,Client:n},Status:c,GameSetting:i,Devices:{SmartPhone:2,Tablet:1,Desktop:0}}},44:function(e,t,a){}},[[235,1,2]]]);
//# sourceMappingURL=main.3dea14b6.chunk.js.map